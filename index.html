<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="池劲涛的博客">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="池劲涛的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="池劲涛">
<meta property="article:tag" content="Python Linux Vue">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>池劲涛的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">池劲涛的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="池劲涛"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">池劲涛</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/13/flask/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/13/flask/" class="post-title-link" itemprop="url">flask</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-13 07:20:25" itemprop="dateCreated datePublished" datetime="2021-07-13T07:20:25+08:00">2021-07-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-14 12:22:34" itemprop="dateModified" datetime="2021-07-14T12:22:34+08:00">2021-07-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/flask%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">flask系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="flask"><a href="#flask" class="headerlink" title="flask"></a>flask</h1><h2 id="flask介绍安装快速入门"><a href="#flask介绍安装快速入门" class="headerlink" title="flask介绍安装快速入门"></a>flask介绍安装快速入门</h2><ul>
<li>差异</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># django    大</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># flask		小</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tornado	异步(2.x用的多，3.5以后用得少)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sanic</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FastAPi</span></span><br></pre></td></tr></table></figure>



<ul>
<li>安装</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装：pip3 install flask</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://www.cnblogs.com/liuqingzheng/p/11012099.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Flask是一个基于Python开发并且依赖jinja2模板和Werkzeug WSGI服务的一个微型框架</span></span><br></pre></td></tr></table></figure>



<ul>
<li>快速使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 快速使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app=Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>,methods=[<span class="string">&#x27;GET&#x27;</span>,]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello world lqz&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br><span class="line">    <span class="comment"># 一旦有请求过来，执行app(),对象()----&gt;触发类的__call__()</span></span><br><span class="line">    <span class="comment"># 请求一来，执行 app()---&gt;Flask类的__call__方法执行</span></span><br></pre></td></tr></table></figure>



<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,request,render_template,redirect,session,url_for</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置信息</span></span><br><span class="line"><span class="comment">## 方式一：直接通过app对象设置，只能设置这两个，其他不支持</span></span><br><span class="line"><span class="comment"># app.debug = False  # debug模式，开启了，就会热更新</span></span><br><span class="line"><span class="comment"># app.secret_key = &#x27;sdfsdfsdfsdf&#x27; # 秘钥，django配置文件中的秘钥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 方式二：直接通过app对象的config(字典)属性设置</span></span><br><span class="line"><span class="comment"># app.config[&#x27;DEBUG&#x27;]=True</span></span><br><span class="line"><span class="comment"># print(app.config)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 方式三:直接使用py文件</span></span><br><span class="line"><span class="comment"># app.config.from_pyfile(&quot;settings.py&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 重点方式：后期用这种方式,使用类方式</span></span><br><span class="line"><span class="comment"># app.config.from_object(&quot;python类或类的路径&quot;)</span></span><br><span class="line"></span><br><span class="line">app.config.from_object(<span class="string">&#x27;settings.ProductionConfig&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(app.config[<span class="string">&#x27;DATABASE_URI&#x27;</span>])</span><br><span class="line"><span class="comment">### 其他方式：（了解）</span></span><br><span class="line"><span class="comment">#通过环境变量配置</span></span><br><span class="line"><span class="comment"># app.config.from_envvar(&quot;环境变量名称&quot;)</span></span><br><span class="line"><span class="comment"># app.config.from_json(&quot;json文件名称&quot;)</span></span><br><span class="line"><span class="comment"># app.config.from_mapping(&#123;&#x27;DEBUG&#x27;: True&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(app.config)</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">有很多内置配置参数，不需要掌握</span></span><br><span class="line"><span class="string"> &#123;</span></span><br><span class="line"><span class="string">        &#x27;DEBUG&#x27;:                                get_debug_flag(default=False),  是否开启Debug模式</span></span><br><span class="line"><span class="string">        &#x27;TESTING&#x27;:                              False,                          是否开启测试模式</span></span><br><span class="line"><span class="string">        &#x27;PROPAGATE_EXCEPTIONS&#x27;:                 None,                          </span></span><br><span class="line"><span class="string">        &#x27;PRESERVE_CONTEXT_ON_EXCEPTION&#x27;:        None,</span></span><br><span class="line"><span class="string">        &#x27;SECRET_KEY&#x27;:                           None,</span></span><br><span class="line"><span class="string">        &#x27;PERMANENT_SESSION_LIFETIME&#x27;:           timedelta(days=31),</span></span><br><span class="line"><span class="string">        &#x27;USE_X_SENDFILE&#x27;:                       False,</span></span><br><span class="line"><span class="string">        &#x27;LOGGER_NAME&#x27;:                          None,</span></span><br><span class="line"><span class="string">        &#x27;LOGGER_HANDLER_POLICY&#x27;:               &#x27;always&#x27;,</span></span><br><span class="line"><span class="string">        &#x27;SERVER_NAME&#x27;:                          None,</span></span><br><span class="line"><span class="string">        &#x27;APPLICATION_ROOT&#x27;:                     None,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_COOKIE_NAME&#x27;:                  &#x27;session&#x27;,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_COOKIE_DOMAIN&#x27;:                None,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_COOKIE_PATH&#x27;:                  None,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_COOKIE_HTTPONLY&#x27;:              True,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_COOKIE_SECURE&#x27;:                False,</span></span><br><span class="line"><span class="string">        &#x27;SESSION_REFRESH_EACH_REQUEST&#x27;:         True,</span></span><br><span class="line"><span class="string">        &#x27;MAX_CONTENT_LENGTH&#x27;:                   None,</span></span><br><span class="line"><span class="string">        &#x27;SEND_FILE_MAX_AGE_DEFAULT&#x27;:            timedelta(hours=12),</span></span><br><span class="line"><span class="string">        &#x27;TRAP_BAD_REQUEST_ERRORS&#x27;:              False,</span></span><br><span class="line"><span class="string">        &#x27;TRAP_HTTP_EXCEPTIONS&#x27;:                 False,</span></span><br><span class="line"><span class="string">        &#x27;EXPLAIN_TEMPLATE_LOADING&#x27;:             False,</span></span><br><span class="line"><span class="string">        &#x27;PREFERRED_URL_SCHEME&#x27;:                 &#x27;http&#x27;,</span></span><br><span class="line"><span class="string">        &#x27;JSON_AS_ASCII&#x27;:                        True,</span></span><br><span class="line"><span class="string">        &#x27;JSON_SORT_KEYS&#x27;:                       True,</span></span><br><span class="line"><span class="string">        &#x27;JSONIFY_PRETTYPRINT_REGULAR&#x27;:          True,</span></span><br><span class="line"><span class="string">        &#x27;JSONIFY_MIMETYPE&#x27;:                     &#x27;application/json&#x27;,</span></span><br><span class="line"><span class="string">        &#x27;TEMPLATES_AUTO_RELOAD&#x27;:                None,</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="路由系统"><a href="#路由系统" class="headerlink" title="路由系统"></a>路由系统</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,request,render_template,redirect,session,url_for</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">app.debug = <span class="literal">True</span>  <span class="comment"># debug模式，开启了，就会热更新</span></span><br><span class="line">app.secret_key = <span class="string">&#x27;sdfsdfsdfsdf&#x27;</span> <span class="comment"># 秘钥，django配置文件中的秘钥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.route(&#x27;/index/&lt;name&gt;&#x27;,methods=[&#x27;GET&#x27;],endpoint=&#x27;index&#x27;,defaults=&#123;&#x27;name&#x27;:&#x27;lqz&#x27;&#125;,strict_slashes=True,redirect_to=&#x27;http://www.baidu.com&#x27;)</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index/&lt;string:name&gt;/&lt;int:pk&gt;&#x27;</span>,methods=[<span class="string">&#x27;GET&#x27;</span>],endpoint=<span class="string">&#x27;index&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>(<span class="params">name,pk</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># app.add_url_rule(&#x27;/index&#x27;,endpoint=&#x27;index&#x27;,view_func=index,defaults=&#123;&#x27;name&#x27;:&#x27;lqz&#x27;,&#x27;age&#x27;:19&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 路由本质app.add_url_rule</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">路由系统的本质，就是 app.add_url_rule(路径, 别名, 函数内存地址, **options)</span></span><br><span class="line"><span class="string">endpoint:如果不填，就是函数名（加装饰器时要注意）</span></span><br><span class="line"><span class="string">与django路由类似</span></span><br><span class="line"><span class="string">django与flask路由：flask路由基于装饰器，本质是基于：add_url_rule</span></span><br><span class="line"><span class="string">add_url_rule 源码中，endpoint如果为空，endpoint = _endpoint_from_view_func(view_func)，最终取view_func.__name__（函数名）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### add_url_rule的参数</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">##### 记住</span></span><br><span class="line"><span class="string">rule, URL规则</span></span><br><span class="line"><span class="string">view_func, 视图函数名称</span></span><br><span class="line"><span class="string">defaults = None, 默认值, 当URL中无参数，函数需要参数时，使用defaults = &#123;&#x27;k&#x27;: &#x27;v&#x27;&#125;  为函数提供参数</span></span><br><span class="line"><span class="string">endpoint = None, 名称，用于反向生成URL，即： url_for(&#x27;名称&#x27;)</span></span><br><span class="line"><span class="string">methods = None, 允许的请求方式，如：[&quot;GET&quot;, &quot;POST&quot;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">###了解</span></span><br><span class="line"><span class="string">#对URL最后的 / 符号是否严格要求</span></span><br><span class="line"><span class="string">strict_slashes = None</span></span><br><span class="line"><span class="string">        @app.route(&#x27;/index&#x27;, strict_slashes=False)</span></span><br><span class="line"><span class="string">        #访问http://www.xx.com/index/ 或http://www.xx.com/index均可</span></span><br><span class="line"><span class="string">        @app.route(&#x27;/index&#x27;, strict_slashes=True)</span></span><br><span class="line"><span class="string">        #仅访问http://www.xx.com/index</span></span><br><span class="line"><span class="string">#重定向到指定地址</span></span><br><span class="line"><span class="string">redirect_to = None, </span></span><br><span class="line"><span class="string">@app.route(&#x27;/index/&lt;int:nid&gt;&#x27;, redirect_to=&#x27;/home/&lt;nid&gt;&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 路由转换器</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    &#x27;default&#x27;:          UnicodeConverter,</span></span><br><span class="line"><span class="string">    &#x27;string&#x27;:           UnicodeConverter,</span></span><br><span class="line"><span class="string">    &#x27;any&#x27;:              AnyConverter,</span></span><br><span class="line"><span class="string">    &#x27;path&#x27;:             PathConverter,</span></span><br><span class="line"><span class="string">    &#x27;int&#x27;:              IntegerConverter,</span></span><br><span class="line"><span class="string">    &#x27;float&#x27;:            FloatConverter,</span></span><br><span class="line"><span class="string">    &#x27;uuid&#x27;:             UUIDConverter,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 自定义转换器（不用）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="CBV"><a href="#CBV" class="headerlink" title="CBV"></a>CBV</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,request,render_template,redirect,session,url_for</span><br><span class="line"><span class="keyword">from</span> flask.views <span class="keyword">import</span> View,MethodView</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">app.debug = <span class="literal">True</span>  <span class="comment"># debug模式，开启了，就会热更新</span></span><br><span class="line">app.secret_key = <span class="string">&#x27;sdfsdfsdfsdf&#x27;</span> <span class="comment"># 秘钥，django配置文件中的秘钥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexView</span>(<span class="params">MethodView</span>):</span>  <span class="comment"># 继承MethodView</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        url=url_for(<span class="string">&#x27;aaa&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(url)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;我是get&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;我是post&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.add_url_rule(<span class="string">&#x27;/index&#x27;</span>,view_func=IndexView.as_view(name=<span class="string">&#x27;aaa&#x27;</span>))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">endpoint:如果传了，优先使用endpoint，如果不传使用as_view(name=&#x27;aaa&#x27;)，但是name=&#x27;aaa&#x27;必须传</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">cbv要继承MethodView，只需要写get，post...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">cbv要继承View,必须重写dispatch</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8888</span>)</span><br></pre></td></tr></table></figure>



<h2 id="模板-不重要"><a href="#模板-不重要" class="headerlink" title="模板(不重要)"></a>模板(不重要)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,request,render_template,redirect,session,url_for,Markup</span><br><span class="line"><span class="keyword">from</span> flask.views <span class="keyword">import</span> View,MethodView</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">app.debug = <span class="literal">True</span>  <span class="comment"># debug模式，开启了，就会热更新</span></span><br><span class="line">app.secret_key = <span class="string">&#x27;sdfsdfsdfsdf&#x27;</span> <span class="comment"># 秘钥，django配置文件中的秘钥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexView</span>(<span class="params">MethodView</span>):</span>  <span class="comment"># 继承MethodView</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self</span>):</span></span><br><span class="line">        url=url_for(<span class="string">&#x27;aaa&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(url)</span><br><span class="line">        <span class="comment"># a=Markup(&#x27;&lt;a href=&quot;http://www.baidu.com&quot;&gt;点我看美女&lt;/a&gt;&#x27;)</span></span><br><span class="line">        a=<span class="string">&#x27;&lt;a href=&quot;http://www.baidu.com&quot;&gt;点我看美女&lt;/a&gt;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> render_template(<span class="string">&#x27;test.html&#x27;</span>,name=<span class="string">&#x27;lqz&#x27;</span>,test=test,a=a)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;我是post&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.add_url_rule(<span class="string">&#x27;/index&#x27;</span>,view_func=IndexView.as_view(name=<span class="string">&#x27;aaa&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8888</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0 跟dtl完全一样，但是它可以执行函数</span></span><br><span class="line"><span class="string">1.Markup等价django的mark_safe ,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2.extends,include一模一样</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">&#123;&#123;test(4,5)&#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">&#123;&#123;a|safe&#125;&#125;</span><br><span class="line">&#123;&#123;a&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="请求响应"><a href="#请求响应" class="headerlink" title="请求响应"></a>请求响应</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,jsonify</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> make_response</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.debug=<span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/login.html&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    <span class="comment"># 请求相关信息</span></span><br><span class="line">    <span class="comment"># request.method  提交的方法</span></span><br><span class="line">    <span class="comment"># print(request.args.get(&#x27;name&#x27;))   #get请求提交的数据---GET</span></span><br><span class="line">    <span class="comment"># print(request.form)               #post请求提交数据----POST</span></span><br><span class="line">    <span class="comment"># print(request.values)             # get和post的汇总</span></span><br><span class="line">    <span class="comment"># print(request.query_string)       #b&#x27;name=lqz&amp;age=19&#x27;</span></span><br><span class="line">    <span class="comment"># print(request.cookies)</span></span><br><span class="line">    <span class="comment"># print(request.path)</span></span><br><span class="line">    <span class="comment"># print(request.full_path)</span></span><br><span class="line">    <span class="comment"># request.args  get请求提及的数据</span></span><br><span class="line">    <span class="comment"># request.form   post请求提交的数据</span></span><br><span class="line">    <span class="comment"># request.values  post和get提交的数据总和</span></span><br><span class="line">    <span class="comment"># request.cookies  客户端所带的cookie</span></span><br><span class="line">    <span class="comment"># request.headers  请求头</span></span><br><span class="line">    <span class="comment"># request.path     不带域名，请求路径</span></span><br><span class="line">    <span class="comment"># request.full_path  不带域名，带参数的请求路径</span></span><br><span class="line">    <span class="comment"># request.url           带域名带参数的请求路径</span></span><br><span class="line">    <span class="comment"># request.base_url		带域名请求路径</span></span><br><span class="line">    <span class="comment"># request.url_root      域名</span></span><br><span class="line">    <span class="comment"># request.host_url		域名</span></span><br><span class="line">    <span class="comment"># request.host			127.0.0.1:500</span></span><br><span class="line">    <span class="comment"># request.files</span></span><br><span class="line">    <span class="comment"># obj = request.files[&#x27;the_file_name&#x27;]</span></span><br><span class="line">    <span class="comment"># obj.save(&#x27;/var/www/uploads/&#x27; + secure_filename(f.filename))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 响应相关信息</span></span><br><span class="line">    <span class="comment"># return &quot;字符串&quot;</span></span><br><span class="line">    <span class="comment"># return render_template(&#x27;html模板路径&#x27;,**&#123;&#125;)</span></span><br><span class="line">    <span class="comment"># return redirect(&#x27;/index.html&#x27;)</span></span><br><span class="line">    <span class="comment"># return jsonify(&#123;&#x27;k1&#x27;:&#x27;v1&#x27;&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># response = make_response(render_template(&#x27;index.html&#x27;))</span></span><br><span class="line">    response = make_response(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="comment"># response是flask.wrappers.Response类型</span></span><br><span class="line">    response.delete_cookie(<span class="string">&#x27;session&#x27;</span>)</span><br><span class="line">    response.set_cookie(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;lqz&#x27;</span>)</span><br><span class="line">    response.headers[<span class="string">&#x27;X-Something&#x27;</span>] = <span class="string">&#x27;A value&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line">    <span class="comment"># return &quot;内容&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8888</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用</span></span><br><span class="line">	-增：session[<span class="string">&#x27;name&#x27;</span>]=lqz</span><br><span class="line">    -查:session.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    -删:session.pop(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        </span><br><span class="line"><span class="comment">## 源码分析SecureCookieSessionInterface</span></span><br><span class="line"><span class="comment">## open_session</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">val = request.cookies.get(app.session_cookie_name)</span></span><br><span class="line"><span class="string">data = s.loads(val, max_age=max_age)</span></span><br><span class="line"><span class="string">return self.session_class(data)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## save_session</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">val = self.get_signing_serializer(app).dumps(dict(session))</span></span><br><span class="line"><span class="string">response.set_cookie(</span></span><br><span class="line"><span class="string">    app.session_cookie_name,</span></span><br><span class="line"><span class="string">    val,</span></span><br><span class="line"><span class="string">    expires=expires,</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span><span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="comment"># set_cookie其他参数</span></span><br><span class="line"></span><br><span class="line">key, 键</span><br><span class="line">value=<span class="string">&#x27;&#x27;</span>, 值</span><br><span class="line">max_age=<span class="literal">None</span>, 超时时间 cookie需要延续的时间（以秒为单位）如果参数是\ <span class="literal">None</span>`` ，这个cookie会延续到浏览器关闭为止</span><br><span class="line">expires=<span class="literal">None</span>, 超时时间(IE requires expires, so <span class="built_in">set</span> it <span class="keyword">if</span> hasn<span class="string">&#x27;t been already.)</span></span><br><span class="line"><span class="string">path=&#x27;</span>/<span class="string">&#x27;, Cookie生效的路径，/ 表示根路径，特殊的：根路径的cookie可以被任何url的页面访问，浏览器只会把cookie回传给带有该路径的页面，这样可以避免将cookie传给站点中的其他的应用。</span></span><br><span class="line"><span class="string">domain=None, Cookie生效的域名 你可用这个参数来构造一个跨站cookie。如， domain=&quot;.example.com&quot;所构造的cookie对下面这些站点都是可读的：www.example.com 、 www2.example.com 和an.other.sub.domain.example.com 。如果该参数设置为 None ，cookie只能由设置它的站点读取</span></span><br><span class="line"><span class="string">secure=False, 浏览器将通过HTTPS来回传cookie</span></span><br><span class="line"><span class="string">httponly=False 只能http协议传输，无法被JavaScript获取（不是绝对，底层抓包可以获取到也可以被覆盖）</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,jsonify</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,session</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> make_response</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.debug=<span class="literal">True</span></span><br><span class="line">app.secret_key=<span class="string">&#x27;sdfsdfsadfasdf&#x27;</span></span><br><span class="line"></span><br><span class="line">app.session_interface</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/login.html&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    session[<span class="string">&#x27;name&#x27;</span>]=<span class="string">&#x27;lqz&#x27;</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    #在django中发什么三件事，1，生成一个随机的字符串 2 往数据库存 3 写入cookie返回浏览器</span></span><br><span class="line"><span class="string">    #在flask中没有数据库，但session是怎样实现的？</span></span><br><span class="line"><span class="string">	# 生成一个密钥写入这个cookie,然后下次请求的时候，通过这个cookie解密，然后赋值给session</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    response=make_response(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="comment"># response.set_cookie(&#x27;name&#x27;, &#x27;lqz&#x27;)</span></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(session.get(<span class="string">&#x27;name&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;我是首页&#x27;</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 源码分析SecureCookieSessionInterface</span></span><br><span class="line"><span class="comment">## open_session</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">val = request.cookies.get(app.session_cookie_name)</span></span><br><span class="line"><span class="string">data = s.loads(val, max_age=max_age)</span></span><br><span class="line"><span class="string">return self.session_class(data)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## save_session</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">val = self.get_signing_serializer(app).dumps(dict(session))</span></span><br><span class="line"><span class="string">response.set_cookie(</span></span><br><span class="line"><span class="string">    app.session_cookie_name,</span></span><br><span class="line"><span class="string">    val,</span></span><br><span class="line"><span class="string">    expires=expires,</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="闪现"><a href="#闪现" class="headerlink" title="闪现"></a>闪现</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,jsonify,flash,get_flashed_messages</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> make_response</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.debug=<span class="literal">True</span></span><br><span class="line">app.secret_key=<span class="string">&#x27;sdfsdfsadfasdf&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/user&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">        <span class="built_in">print</span>(a[<span class="number">9</span>])</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">        <span class="comment">## 放到某个位置</span></span><br><span class="line">        <span class="comment"># flash(str(e))</span></span><br><span class="line">        <span class="comment"># 高级使用</span></span><br><span class="line">        flash(<span class="string">&#x27;超时错误&#x27;</span>, category=<span class="string">&quot;x1&quot;</span>)</span><br><span class="line">        flash(<span class="string">&#x27;xx错误&#x27;</span>, category=<span class="string">&quot;x3&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># return redirect(&#x27;/error?errors=%s&#x27;%str(e))</span></span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&#x27;/error&#x27;</span>)</span><br><span class="line">    response=make_response(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/error&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">error</span>():</span></span><br><span class="line">    <span class="comment">#从那个位置取出来</span></span><br><span class="line">    <span class="comment"># errors=get_flashed_messages()</span></span><br><span class="line"></span><br><span class="line">    errors=get_flashed_messages(category_filter=[<span class="string">&#x27;x1&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;error.html&#x27;</span>,errors=errors)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure>



<h2 id="请求扩展"><a href="#请求扩展" class="headerlink" title="请求扩展"></a>请求扩展</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,jsonify,flash,get_flashed_messages</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,request</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> redirect</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> make_response</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.debug=<span class="literal">False</span></span><br><span class="line">app.secret_key=<span class="string">&#x27;sdfsdfsadfasdf&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.before_request   #类比django中间件中的process_request,写多个执行顺序是从上往下</span></span><br><span class="line"><span class="comment"># def before():</span></span><br><span class="line"><span class="comment">#     print(&#x27;我来了&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     request.xx=&#x27;xxxxxx&#x27;</span></span><br><span class="line"><span class="comment">#     # return &#x27;回去吧&#x27;  #四件套之一</span></span><br><span class="line"><span class="comment">#     return  None  # 继续进入下一个before_request</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.before_request   #类比django中间件中的process_request</span></span><br><span class="line"><span class="comment"># def before2():</span></span><br><span class="line"><span class="comment">#     print(&#x27;我来了22&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     return  None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.after_request   # 从下往上</span></span><br><span class="line"><span class="comment"># def after(response):</span></span><br><span class="line"><span class="comment">#     print(&#x27;我走了&#x27;)</span></span><br><span class="line"><span class="comment">#     print(response)</span></span><br><span class="line"><span class="comment">#     response.headers[&#x27;xxxx&#x27;]=&#x27;xxx&#x27;</span></span><br><span class="line"><span class="comment">#     return  response  #要return response</span></span><br><span class="line"><span class="comment"># @app.after_request</span></span><br><span class="line"><span class="comment"># def after2(response):</span></span><br><span class="line"><span class="comment">#     print(&#x27;我走了222&#x27;)</span></span><br><span class="line"><span class="comment">#     return  response  #要return response</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.before_first_request  # 只会执行一次，程序启动以后，第一个访问的会触发，以后再也不会了</span></span><br><span class="line"><span class="comment"># def first():</span></span><br><span class="line"><span class="comment">#     # 程序初始化的一些操作</span></span><br><span class="line"><span class="comment">#     print(&#x27;我的第一次&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.teardown_request</span></span><br><span class="line"><span class="comment"># def ter(e):</span></span><br><span class="line"><span class="comment">#     # 日志记录，不管当次请求是否出异常，都会执行，出了异常，e就是异常对象，debug=False模式下</span></span><br><span class="line"><span class="comment">#     print(e)</span></span><br><span class="line"><span class="comment">#     print(&#x27;我执行了&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.errorhandler(404)   #只要是404错误，都会走它</span></span><br><span class="line"><span class="comment"># def error_404(arg):</span></span><br><span class="line"><span class="comment">#     return &quot;404错误了&quot;</span></span><br><span class="line"><span class="comment">#     # return render_template(&#x27;404.html&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># @app.errorhandler(500)   #只要是500错误，都会走它，debug模式要关掉</span></span><br><span class="line"><span class="comment"># def error_500(arg):</span></span><br><span class="line"><span class="comment">#     return &quot;出问题了&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.template_global()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sb</span>(<span class="params">a1, a2</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a1 + a2</span><br><span class="line"><span class="comment">#&#123;&#123;sb(1,2)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.template_filter()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">db</span>(<span class="params">a1, a2, a3</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a1 + a2 + a3</span><br><span class="line"><span class="comment">#&#123;&#123; 1|db(2,3)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/user&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    <span class="comment"># print(request.xx)</span></span><br><span class="line">    <span class="comment"># response=make_response(&#x27;hello&#x27;)</span></span><br><span class="line">    <span class="comment"># return response</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;login.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br></pre></td></tr></table></figure>



<h2 id="蓝图"><a href="#蓝图" class="headerlink" title="蓝图"></a>蓝图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对程序进行目录结构划分</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用步骤</span></span><br><span class="line">	-实例化得到一个蓝图对象(可以指定直接的静态文件和模板路径)</span><br><span class="line">    -在app中注册蓝图（可以指定前缀）</span><br><span class="line">    -以后再写路由装饰器，使用蓝图对象的.route</span><br></pre></td></tr></table></figure>



<h2 id="flask-项目演示"><a href="#flask-项目演示" class="headerlink" title="flask 项目演示"></a>flask 项目演示</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 创建一个库movie</span></span><br><span class="line"><span class="comment"># 2 手动把表同步进去</span></span><br><span class="line">	-modes.py,解开注释，右键执行</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 3 安装项目依赖</span></span><br><span class="line">	-flask-sqlalchemy</span><br><span class="line">    -flask_script</span><br><span class="line">    -flask_redis</span><br><span class="line">    -flask_wtf</span><br><span class="line"><span class="comment"># 4 命令行中运行</span></span><br><span class="line">python3 manage.py runserver </span><br><span class="line"><span class="comment"># 5 后台管理中rbac控制</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://gitee.com/openspug/spug/tree/1.x/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="g对象"><a href="#g对象" class="headerlink" title="g对象"></a>g对象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,g,request,session</span><br><span class="line"></span><br><span class="line"><span class="comment"># g对象在当次请求中一直有效</span></span><br><span class="line"><span class="comment"># g和session有什么区别</span></span><br><span class="line"><span class="comment">#session对象是可以跨request的，只要session还未失效，不同的request的请求会获取到同一个session，</span></span><br><span class="line"><span class="comment"># 但是g对象不是，g对象不需要管过期时间，请求一次就g对象就改变了一次，或者重新赋值了一次</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.before_request</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">first</span>():</span></span><br><span class="line">    session[<span class="string">&#x27;name&#x27;</span>]=<span class="string">&#x27;dlrb&#x27;</span></span><br><span class="line">    request.form=<span class="string">&#x27;egon&#x27;</span></span><br><span class="line">    g.name=<span class="string">&#x27;lqz&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.after_request</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">after</span>(<span class="params">response</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;11111&#x27;</span>,g.name)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;00000&#x27;</span>,g.name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># test()</span></span><br><span class="line">    <span class="comment"># test1()</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>



<h2 id="flask-session"><a href="#flask-session" class="headerlink" title="flask-session"></a>flask-session</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pip install flask-session</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,g,request,session</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask_session <span class="keyword">import</span> RedisSessionInterface</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.debug=<span class="literal">True</span></span><br><span class="line"></span><br><span class="line">app.secret_key=<span class="string">&#x27;asdfasdfasdf&#x27;</span></span><br><span class="line"><span class="comment"># 方式一</span></span><br><span class="line"><span class="comment"># from redis import Redis</span></span><br><span class="line"><span class="comment"># conn=Redis(host=&#x27;127.0.0.1&#x27;,port=6379)</span></span><br><span class="line"><span class="comment"># app.session_interface=RedisSessionInterface(redis=conn,key_prefix=&#x27;flask_session&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 方式二（flask使用第三方插件的通用方案）</span></span><br><span class="line"><span class="keyword">from</span> flask_session <span class="keyword">import</span> Session</span><br><span class="line"><span class="keyword">from</span> redis <span class="keyword">import</span> Redis</span><br><span class="line">app.config[<span class="string">&#x27;SESSION_TYPE&#x27;</span>] = <span class="string">&#x27;redis&#x27;</span></span><br><span class="line">app.config[<span class="string">&#x27;SESSION_KEY_PREFIX&#x27;</span>]=<span class="string">&#x27;flask_session&#x27;</span></span><br><span class="line">app.config[<span class="string">&#x27;SESSION_REDIS&#x27;</span>] = Redis(host=<span class="string">&#x27;127.0.0.1&#x27;</span>,port=<span class="string">&#x27;6379&#x27;</span>)</span><br><span class="line">Session(app)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>():</span></span><br><span class="line">    session[<span class="string">&#x27;name&#x27;</span>]=<span class="string">&#x27;lqz&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 如何设置session的过期时间？</span></span><br><span class="line">	配置文件一个参数</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#设置cookie时，如何设定关闭浏览器则cookie失效</span></span><br><span class="line">app.session_interface=RedisSessionInterface(conn,key_prefix=<span class="string">&#x27;lqz&#x27;</span>,permanent=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>



<h2 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># from flask import Flask,g,request,session</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># import pymysql</span></span><br><span class="line"><span class="comment"># app = Flask(__name__)</span></span><br><span class="line"><span class="comment"># app.debug=True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># app.secret_key=&#x27;asdfasdfasdf&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @app.route(&#x27;/&#x27;)</span></span><br><span class="line"><span class="comment"># def hello_world():</span></span><br><span class="line"><span class="comment">#     conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, password=&#x27;1&#x27;, database=&#x27;luffy&#x27;)</span></span><br><span class="line"><span class="comment">#     cursor = conn.cursor()</span></span><br><span class="line"><span class="comment">#     cursor.execute(&#x27;select * from luffy_order&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(cursor.fetchall())</span></span><br><span class="line"><span class="comment">#     return &#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @app.route(&#x27;/hello&#x27;)</span></span><br><span class="line"><span class="comment"># def hello_world1():</span></span><br><span class="line"><span class="comment">#     conn = pymysql.connect(host=&#x27;127.0.0.1&#x27;, port=3306, user=&#x27;root&#x27;, password=&#x27;1&#x27;, database=&#x27;luffy&#x27;)</span></span><br><span class="line"><span class="comment">#     cursor = conn.cursor()</span></span><br><span class="line"><span class="comment">#     cursor.execute(&#x27;select * from luffy_banner&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     print(cursor.fetchall())</span></span><br><span class="line"><span class="comment">#     return &#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     app.run()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 问题：如果使用全局连接对象，会导致数据错乱</span></span><br><span class="line"><span class="comment">## 问题二：如果在视图函数中创建数据库连接对象，会导致连接数过多</span></span><br><span class="line"><span class="comment">## 解决：使用数据库连接池  DBUtils</span></span><br><span class="line"><span class="keyword">from</span> dbutils.pooled_db <span class="keyword">import</span> PooledDB</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">POOL=PooledDB(</span><br><span class="line">        creator=pymysql,  <span class="comment"># 使用链接数据库的模块</span></span><br><span class="line">        maxconnections=<span class="number">6</span>,  <span class="comment"># 连接池允许的最大连接数，0和None表示不限制连接数</span></span><br><span class="line">        mincached=<span class="number">2</span>,  <span class="comment"># 初始化时，链接池中至少创建的空闲的链接，0表示不创建</span></span><br><span class="line">        maxcached=<span class="number">5</span>,  <span class="comment"># 链接池中最多闲置的链接，0和None不限制</span></span><br><span class="line">        maxshared=<span class="number">3</span>,</span><br><span class="line">        <span class="comment"># 链接池中最多共享的链接数量，0和None表示全部共享。PS: 无用，因为pymysql和MySQLdb等模块的 threadsafety都为1，所有值无论设置为多少，_maxcached永远为0，所以永远是所有链接都共享。</span></span><br><span class="line">        blocking=<span class="literal">True</span>,  <span class="comment"># 连接池中如果没有可用连接后，是否阻塞等待。True，等待；False，不等待然后报错</span></span><br><span class="line">        maxusage=<span class="literal">None</span>,  <span class="comment"># 一个链接最多被重复使用的次数，None表示无限制</span></span><br><span class="line">        setsession=[],  <span class="comment"># 开始会话前执行的命令列表。如：[&quot;set datestyle to ...&quot;, &quot;set time zone ...&quot;]</span></span><br><span class="line">        ping=<span class="number">0</span>,</span><br><span class="line">        <span class="comment"># ping MySQL服务端，检查是否服务可用。# 如：0 = None = never, 1 = default = whenever it is requested, 2 = when a cursor is created, 4 = when a query is executed, 7 = always</span></span><br><span class="line">        host=<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        port=<span class="number">3306</span>,</span><br><span class="line">        user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        password=<span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        database=<span class="string">&#x27;luffy&#x27;</span>,</span><br><span class="line">        charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去池中获取连接</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysql可以看到当前有多少个连接数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>():</span></span><br><span class="line">    conn = POOL.connection()</span><br><span class="line">    cursor = conn.cursor()</span><br><span class="line">    cursor.execute(<span class="string">&#x27;select * from luffy_order&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(cursor.fetchall())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    t=Thread(target=task)</span><br><span class="line">    t.start()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="wtforms（了解）"><a href="#wtforms（了解）" class="headerlink" title="wtforms（了解）"></a>wtforms（了解）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类似forms组件</span></span><br></pre></td></tr></table></figure>



<h2 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Flask框架中的信号基于blinker，其主要就是让开发者可是在flask执行过程中定制一些用户行为</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip3 install blinker</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## flask中有内置信号</span></span><br><span class="line"><span class="comment"># 内置信号什么时候触发的</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">request_started = _signals.signal(&#x27;request-started&#x27;)                # 请求到来前执行</span></span><br><span class="line"><span class="string">request_finished = _signals.signal(&#x27;request-finished&#x27;)              # 请求结束后执行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">before_render_template = _signals.signal(&#x27;before-render-template&#x27;)  # 模板渲染前执行</span></span><br><span class="line"><span class="string">template_rendered = _signals.signal(&#x27;template-rendered&#x27;)            # 模板渲染后执行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">got_request_exception = _signals.signal(&#x27;got-request-exception&#x27;)    # 请求执行出现异常时执行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">request_tearing_down = _signals.signal(&#x27;request-tearing-down&#x27;)      # 请求执行完毕后自动执行（无论成功与否）</span></span><br><span class="line"><span class="string">appcontext_tearing_down = _signals.signal(&#x27;appcontext-tearing-down&#x27;)# 应用上下文执行完毕后自动执行（无论成功与否）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">appcontext_pushed = _signals.signal(&#x27;appcontext-pushed&#x27;)            # 应用上下文push时执行</span></span><br><span class="line"><span class="string">appcontext_popped = _signals.signal(&#x27;appcontext-popped&#x27;)            # 应用上下文pop时执行</span></span><br><span class="line"><span class="string">message_flashed = _signals.signal(&#x27;message-flashed&#x27;)                # 调用flask在其中添加数据时，自动触发</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 自定义信号</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">1 写一个信号</span></span><br><span class="line"><span class="string">2 写一个函数</span></span><br><span class="line"><span class="string">3 信号绑定函数</span></span><br><span class="line"><span class="string">4 触发信号</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### 内置信号的使用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">内置信号使用步骤：</span></span><br><span class="line"><span class="string">    -写一个函数</span></span><br><span class="line"><span class="string">    -跟内置信号绑定</span></span><br><span class="line"><span class="string">    -以后只要触发内置信号，函数就会执行</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,signals,render_template</span><br><span class="line"><span class="keyword">from</span> flask.signals <span class="keyword">import</span> _signals</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 往信号中注册函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;触发型号&#x27;</span>,args,kwargs)</span><br><span class="line">    <span class="comment"># 信号一般用来记录日志</span></span><br><span class="line"><span class="comment"># signals.request_started.connect(func)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 给模板渲染前编写信号</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">template_before</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;模板开始渲染了&#x27;</span>)</span><br><span class="line"><span class="comment"># signals.before_render_template.connect(template_before)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">1 写一个信号</span></span><br><span class="line"><span class="string">2 写一个函数</span></span><br><span class="line"><span class="string">3 信号绑定函数</span></span><br><span class="line"><span class="string">4 触发信号</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 自定义信号</span></span><br><span class="line">before_view = _signals.signal(<span class="string">&#x27;before_view&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;我执行了&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绑定给信号</span></span><br><span class="line">before_view.connect(test)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 触发信号</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>,methods=[<span class="string">&#x27;GET&#x27;</span>,<span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;视图&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index&#x27;</span>,methods=[<span class="string">&#x27;GET&#x27;</span>,<span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index1</span>():</span></span><br><span class="line">    <span class="comment"># 触发信号</span></span><br><span class="line">    before_view.send(name=<span class="string">&#x27;lqz&#x27;</span>,age=<span class="number">19</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;视图&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;index.html&#x27;</span>,a=<span class="string">&#x27;lqz&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br><span class="line">    app.__call__</span><br></pre></td></tr></table></figure>



<h2 id="flask-script"><a href="#flask-script" class="headerlink" title="flask-script"></a>flask-script</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_script <span class="keyword">import</span> Manager</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">manager=Manager(app)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;你好&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    manager.run()</span><br><span class="line"></span><br><span class="line"><span class="comment">#以后在执行，直接：python3 manage.py runserver</span></span><br><span class="line"><span class="comment">#python3 manage.py runserver --help</span></span><br></pre></td></tr></table></figure>



<h2 id="SQLAlchemy（orm框架）"><a href="#SQLAlchemy（orm框架）" class="headerlink" title="SQLAlchemy（orm框架）"></a>SQLAlchemy（orm框架）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># orm框架SQLAlchemy，第三方，独立使用，集成到web框架中</span></span><br><span class="line"><span class="comment"># django的orm框架</span></span><br><span class="line"><span class="comment"># pip install SQLAlchemy</span></span><br></pre></td></tr></table></figure>



<h2 id="sqlalchemy-一对多关系"><a href="#sqlalchemy-一对多关系" class="headerlink" title="sqlalchemy 一对多关系"></a>sqlalchemy 一对多关系</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 操作mysql</span></span><br><span class="line">	-pymysql---》写原生sql</span><br><span class="line">	-django的orm</span><br><span class="line">    -sqlalchemy：orm框架，独立于其他框架，可以单独使用，也可以集成到框架中使用</span><br><span class="line">    -（了解）同步框架：sanic，fastapi，只用来对表进行管理，不用来查询插入，aiomysql</span><br><span class="line">    -Gino：https://python-gino.org/docs/zh/master/tutorials/tutorial.html</span><br><span class="line">        -国人写的异步的orm框架</span><br></pre></td></tr></table></figure>



<h2 id="sqlalchemy-多对多关系-其他操作"><a href="#sqlalchemy-多对多关系-其他操作" class="headerlink" title="sqlalchemy 多对多关系,其他操作"></a>sqlalchemy 多对多关系,其他操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker, relationship</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.ext.declarative <span class="keyword">import</span> declarative_base</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> Column, Integer, String, Text, ForeignKey, DateTime, UniqueConstraint, Index</span><br><span class="line">Base = declarative_base()</span><br><span class="line"></span><br><span class="line"><span class="comment">#单表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Users</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;users&#x27;</span>  <span class="comment"># 数据库表名称</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer, primary_key=<span class="literal">True</span>)  <span class="comment"># id 主键</span></span><br><span class="line">    name = Column(String(<span class="number">32</span>), index=<span class="literal">True</span>, nullable=<span class="literal">False</span>)  <span class="comment"># name列，索引，不可为空</span></span><br><span class="line">    <span class="comment"># email = Column(String(32), unique=True)</span></span><br><span class="line">    <span class="comment">#datetime.datetime.now不能加括号，加了括号，以后永远是当前时间</span></span><br><span class="line">    <span class="comment"># ctime = Column(DateTime, default=datetime.datetime.now)</span></span><br><span class="line">    <span class="comment"># extra = Column(Text, nullable=True)</span></span><br><span class="line"></span><br><span class="line">    __table_args__ = (</span><br><span class="line">        <span class="comment"># UniqueConstraint(&#x27;id&#x27;, &#x27;name&#x27;, name=&#x27;uix_id_name&#x27;), #联合唯一</span></span><br><span class="line">        <span class="comment"># Index(&#x27;ix_id_name&#x27;, &#x27;name&#x27;, &#x27;email&#x27;), #索引</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.name+<span class="string">&#x27;===&#x27;</span>+<span class="built_in">str</span>(self.<span class="built_in">id</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 一对多</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hobby</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;hobby&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    caption = Column(String(<span class="number">50</span>), default=<span class="string">&#x27;篮球&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.caption</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;person&#x27;</span></span><br><span class="line">    nid = Column(Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = Column(String(<span class="number">32</span>), index=<span class="literal">True</span>, nullable=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># hobby指的是tablename而不是类名，uselist=False</span></span><br><span class="line">    hobby_id = Column(Integer, ForeignKey(<span class="string">&quot;hobby.id&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 跟数据库无关，不会新增字段，只用于快速链表操作</span></span><br><span class="line">    <span class="comment"># 类名，backref用于反向查询</span></span><br><span class="line">    hobby = relationship(<span class="string">&#x27;Hobby&#x27;</span>, backref=<span class="string">&#x27;pers&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span>  <span class="comment"># 解释器环境下打印对象显示的样子</span></span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###多对多</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boy2Girl</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;boy2girl&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    girl_id = Column(Integer, ForeignKey(<span class="string">&#x27;girl.id&#x27;</span>))</span><br><span class="line">    boy_id = Column(Integer, ForeignKey(<span class="string">&#x27;boy.id&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Girl</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;girl&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer, primary_key=<span class="literal">True</span>)</span><br><span class="line">    name = Column(String(<span class="number">64</span>), unique=<span class="literal">True</span>, nullable=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boy</span>(<span class="params">Base</span>):</span></span><br><span class="line">    __tablename__ = <span class="string">&#x27;boy&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = Column(String(<span class="number">64</span>), unique=<span class="literal">True</span>, nullable=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 与生成表结构无关，仅用于查询方便,放在哪个单表中都可以</span></span><br><span class="line">    girls = relationship(<span class="string">&#x27;Girl&#x27;</span>, secondary=<span class="string">&#x27;boy2girl&#x27;</span>, backref=<span class="string">&#x27;boys&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_db</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    根据类创建数据库表</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    engine = create_engine(</span><br><span class="line">        <span class="string">&quot;mysql+pymysql://root:1@127.0.0.1:3306/aaa?charset=utf8&quot;</span>,</span><br><span class="line">        max_overflow=<span class="number">0</span>,  <span class="comment"># 超过连接池大小外最多创建的连接</span></span><br><span class="line">        pool_size=<span class="number">5</span>,  <span class="comment"># 连接池大小</span></span><br><span class="line">        pool_timeout=<span class="number">30</span>,  <span class="comment"># 池中没有线程最多等待的时间，否则报错</span></span><br><span class="line">        pool_recycle=-<span class="number">1</span>  <span class="comment"># 多久之后对线程池中的线程进行一次连接的回收（重置）</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    Base.metadata.create_all(engine)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">drop_db</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    根据类删除数据库表</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    engine = create_engine(</span><br><span class="line">        <span class="string">&quot;mysql+pymysql://root:1@127.0.0.1:3306/aaa?charset=utf8&quot;</span>,</span><br><span class="line">        max_overflow=<span class="number">0</span>,  <span class="comment"># 超过连接池大小外最多创建的连接</span></span><br><span class="line">        pool_size=<span class="number">5</span>,  <span class="comment"># 连接池大小</span></span><br><span class="line">        pool_timeout=<span class="number">30</span>,  <span class="comment"># 池中没有线程最多等待的时间，否则报错</span></span><br><span class="line">        pool_recycle=-<span class="number">1</span>  <span class="comment"># 多久之后对线程池中的线程进行一次连接的回收（重置）</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    Base.metadata.drop_all(engine)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># drop_db()</span></span><br><span class="line">    init_db()</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> Column, Integer, String, Text, ForeignKey, DateTime, UniqueConstraint, Index</span><br><span class="line"><span class="keyword">from</span> models <span class="keyword">import</span> Users</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.sql <span class="keyword">import</span> text</span><br><span class="line"><span class="comment">#&quot;mysql+pymysql://root@127.0.0.1:3306/aaa&quot;</span></span><br><span class="line">engine = create_engine(<span class="string">&quot;mysql+pymysql://root:1@127.0.0.1:3306/aaa&quot;</span>, max_overflow=<span class="number">0</span>, pool_size=<span class="number">5</span>)</span><br><span class="line">Connection = sessionmaker(bind=engine)</span><br><span class="line"></span><br><span class="line">session=Connection()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 一对多操作</span></span><br><span class="line"><span class="comment"># hobby=models.Hobby(caption=&#x27;橄榄球&#x27;)</span></span><br><span class="line"><span class="comment"># session.add(hobby)</span></span><br><span class="line"><span class="comment"># hobby=models.Hobby(caption=&#x27;足球&#x27;)</span></span><br><span class="line"><span class="comment"># person=models.Person(name=&#x27;张三&#x27;,hobby_id=1)</span></span><br><span class="line"><span class="comment"># session.add_all([hobby,person])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用relationship</span></span><br><span class="line"><span class="comment"># hobby=models.Hobby(caption=&#x27;水球&#x27;)</span></span><br><span class="line"><span class="comment"># person=models.Person(name=&#x27;张三&#x27;,hobby=hobby)</span></span><br><span class="line"><span class="comment"># session.add_all([hobby,person])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 基于对象的跨表查询</span></span><br><span class="line"><span class="comment"># 正向</span></span><br><span class="line"><span class="comment"># person=session.query(models.Person).filter_by(nid=1).first()</span></span><br><span class="line"><span class="comment"># print(person)</span></span><br><span class="line"><span class="comment"># print(person.hobby)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 反向</span></span><br><span class="line"><span class="comment"># hobby=session.query(models.Hobby).filter_by(id=1).first()</span></span><br><span class="line"><span class="comment"># print(hobby)</span></span><br><span class="line"><span class="comment"># print(hobby.pers)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多对多</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># girl=models.Girl(name=&#x27;刘亦菲&#x27;)</span></span><br><span class="line"><span class="comment"># boy=models.Boy(name=&#x27;吴亦凡&#x27;)</span></span><br><span class="line"><span class="comment"># session.add_all([girl,boy])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># b2g=models.Boy2Girl(boy_id=1,girl_id=1)</span></span><br><span class="line"><span class="comment"># session.add(b2g)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 基于对象的跨表查询</span></span><br><span class="line"><span class="comment"># 正向</span></span><br><span class="line"><span class="comment"># boy=session.query(models.Boy).filter_by(name=&#x27;吴亦凡&#x27;).first()</span></span><br><span class="line"><span class="comment"># print(boy)</span></span><br><span class="line"><span class="comment"># print(boy.girls)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 反向</span></span><br><span class="line"><span class="comment"># girl=session.query(models.Girl).filter_by(name=&#x27;刘亦菲&#x27;).first()</span></span><br><span class="line"><span class="comment"># print(girl)</span></span><br><span class="line"><span class="comment"># print(girl.boys)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># b2g=session.query(models.Boy2Girl).filter_by(id=1).first()</span></span><br><span class="line"><span class="comment"># print(b2g.boy)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## filter 和 filter_by区别</span></span><br><span class="line"><span class="comment"># filter内写条件，filter_by内传参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ################ 修改 ################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#传字典</span></span><br><span class="line"><span class="comment"># res=session.query(models.Boy).filter_by(id = 1).all()</span></span><br><span class="line"><span class="comment"># res=session.query(models.Boy).filter(models.Boy.id &gt;= 1).all()</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># session.query(models.Boy).filter(models.Boy.id &gt; 1).update(&#123;&quot;name&quot; : &quot;lqz&quot;&#125;)</span></span><br><span class="line"><span class="comment">#类似于django的F查询</span></span><br><span class="line"><span class="comment"># session.query(models.Boy).filter(models.Boy.id &gt; 1).update(&#123;models.Boy.name: models.Boy.name + &quot;099&quot;&#125;, synchronize_session=False)</span></span><br><span class="line"><span class="comment"># session.query(models.Boy).filter(models.Boy.id == 3).update(&#123;&quot;id&quot;: models.Boy.id + 1&#125;, synchronize_session=&quot;evaluate&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># session.commit()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ################ 查询 ################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># r1 = session.query(models.Boy).all()</span></span><br><span class="line"><span class="comment">#只取age列，把name重命名为xx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># select name as xx,hobby_id from person</span></span><br><span class="line"><span class="comment"># r1 = session.query(models.Person.name.label(&#x27;xx&#x27;), models.Person.hobby_id).all()</span></span><br><span class="line"><span class="comment"># #filter传的是表达式，filter_by传的是参数</span></span><br><span class="line"><span class="comment"># r1 = session.query(Users).filter(Users.name == &quot;lqz&quot;).all()</span></span><br><span class="line"><span class="comment"># r4 = session.query(Users).filter_by(name=&#x27;lqz&#x27;).all()</span></span><br><span class="line"><span class="comment"># r1 = session.query(Users).filter_by(name=&#x27;lqz&#x27;).first()</span></span><br><span class="line"><span class="comment"># #:value 和:name 相当于占位符，用params传参数</span></span><br><span class="line"><span class="comment"># r1 = session.query(Users).filter(text(&quot;id&lt;:value and name=:name&quot;)).params(value=3, name=&#x27;lqz&#x27;).order_by(Users.id).all()</span></span><br><span class="line"><span class="comment"># #自定义查询sql</span></span><br><span class="line"><span class="comment"># r1 = session.query(Users).from_statement(text(&quot;SELECT * FROM users where name=:name&quot;)).params(name=&#x27;lqz&#x27;).all()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###更多操作</span></span><br><span class="line"><span class="comment">#　条件</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter_by(name=&#x27;lqz&#x27;).all()</span></span><br><span class="line"><span class="comment">#表达式，and条件连接</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(Users.id &gt; 1, Users.name == &#x27;lqz&#x27;).all()</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(Users.id.between(1, 2), Users.name == &#x27;lqz1&#x27;).all()</span></span><br><span class="line"><span class="comment"># #注意下划线</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(Users.id.in_([1,3,4])).all()</span></span><br><span class="line"><span class="comment"># #~非，除。。外</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(~Users.id.in_([1,3,4])).all()</span></span><br><span class="line"><span class="comment"># #二次筛选</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(Users.id.in_(session.query(models.Person.nid).filter_by(name=&#x27;张三&#x27;))).all()</span></span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> and_, or_</span><br><span class="line"><span class="comment"># #or_包裹的都是or条件，and_包裹的都是and条件</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(and_(Users.id &gt; 1, Users.name == &#x27;lqz&#x27;)).all()</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(or_(Users.id &lt; 2, Users.name == &#x27;lqz&#x27;)).all()</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(</span></span><br><span class="line"><span class="comment">#     or_(</span></span><br><span class="line"><span class="comment">#         Users.id &lt; 2,</span></span><br><span class="line"><span class="comment">#         and_(Users.name == &#x27;李易峰&#x27;, Users.id &gt; 2),</span></span><br><span class="line"><span class="comment">#     )).all()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 通配符，以e开头，不以e开头</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(Users.name.like(&#x27;l%&#x27;)).all()</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).filter(~Users.name.like(&#x27;l%&#x27;)).all()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 限制，用于分页，区间</span></span><br><span class="line"><span class="comment"># ret = session.query(Users)[0:2]  #前闭后开</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 排序，根据name降序排列（从大到小）</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).order_by(Users.name.desc()).all()</span></span><br><span class="line"><span class="comment"># #第一个条件重复后，再按第二个条件升序排</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).order_by(Users.name.desc(), Users.id.asc()).all()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 分组</span></span><br><span class="line"><span class="keyword">from</span> sqlalchemy.sql <span class="keyword">import</span> func</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ret = session.query(Users).group_by(Users.name).all()</span></span><br><span class="line"><span class="comment"># #分组之后取最大id，id之和，最小id</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># select min(id) as mid_id ,max(id) as max_id,sum(id) as sum_id from user where id &gt;10 groupby name  having  sum(id)&gt;10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># valuse 在annotate前表示groupby</span></span><br><span class="line"><span class="comment"># filter 在annotate前表示where</span></span><br><span class="line"><span class="comment"># filter 在annotate后表示having</span></span><br><span class="line"><span class="comment"># valuse 在annotate后表示取字段</span></span><br><span class="line"><span class="comment"># User.objects.all().filter(id__gt=10).values(&#x27;name&#x27;).annotate(max_id=max(id),sum_id=sum(id),min_id=min(id)).filter(sum_id&gt;10)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分组以后，只能拿分组字段和聚合函数字段</span></span><br><span class="line"><span class="comment"># ret = session.query(</span></span><br><span class="line"><span class="comment">#     func.max(Users.id),</span></span><br><span class="line"><span class="comment">#     func.sum(Users.id),</span></span><br><span class="line"><span class="comment">#     func.min(Users.id),Users.name).group_by(Users.name).all()</span></span><br><span class="line"><span class="comment"># #haviing筛选</span></span><br><span class="line"><span class="comment"># ret = session.query(</span></span><br><span class="line"><span class="comment">#     func.max(Users.id),</span></span><br><span class="line"><span class="comment">#     func.sum(Users.id),</span></span><br><span class="line"><span class="comment">#     func.min(Users.id)).group_by(Users.name).having(func.min(Users.id) &gt;2).all()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # 连表（默认用forinkey关联）</span></span><br><span class="line"><span class="comment"># select * from person,hobby where person.hobby_id=hobby.id;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ret = session.query(models.Person,models.Hobby).filter(models.Person.hobby_id == models.Hobby.id).all()</span></span><br><span class="line"><span class="comment"># #join表，默认是inner join</span></span><br><span class="line"><span class="comment"># select * from person inner join hobby on person.hobby_id=hobby.id</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#select * from person inner join hobby on person.hobby_id=hobby.id where hobby.caption=篮球</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Person.objects.all().filter(hobby__caption=&#x27;篮球&#x27;)</span></span><br><span class="line"><span class="comment"># ret = session.query(models.Person).join(models.Hobby).filter(models.Hobby.caption==&#x27;篮球&#x27;).all()</span></span><br><span class="line"><span class="comment"># #isouter=True 外连，表示Person left join Favor，没有右连接，反过来即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#select * from person left join hobby on person.hobby_id=hobby.id</span></span><br><span class="line"><span class="comment"># ret = session.query(models.Person).join(models.Hobby, isouter=True).all()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ret = session.query(models.Hobby).join(models.Person, isouter=True).all()</span></span><br><span class="line"><span class="comment"># #打印原生sql</span></span><br><span class="line"><span class="comment"># aa=session.query(models.Person).join(models.Hobby)</span></span><br><span class="line"><span class="comment"># print(aa)</span></span><br><span class="line"><span class="comment"># # 自己指定on条件（连表条件）,第二个参数，支持on多个条件，用and_,同上</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ret = session.query(models.Person).join(models.Hobby,models.Person.hobby_id==models.Hobby.id, isouter=True)</span></span><br><span class="line"><span class="comment"># print(ret)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(ret)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">session.commit() <span class="comment"># 提交</span></span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>



<h2 id="flask-sqlalchemy-操作"><a href="#flask-sqlalchemy-操作" class="headerlink" title="flask-sqlalchemy 操作"></a>flask-sqlalchemy 操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># flask-sqlalchemy:让flask更好的集成sqlalchemy</span></span><br><span class="line"><span class="comment"># flask_migrate：类似于django的makemigrations和migrate，因为sqlalchemy不支持表修改（删除，增加字段）</span></span><br><span class="line">flask-migrate</span><br><span class="line">python3 manage.py db init 初始化：只执行一次</span><br><span class="line"></span><br><span class="line">python3 manage.py db migrate 等同于 makemigartions</span><br><span class="line">python3 manage.py db upgrade 等同于migrate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## flask-sqlalchemy </span></span><br><span class="line">	-先导入，实例化得到一个对象</span><br><span class="line">    <span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line">	db = SQLAlchemy()</span><br><span class="line">    -所有表模型都继承 db.Model</span><br><span class="line">    -在视图函数中查询那个session对象</span><br><span class="line">    	db.session</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment">## 导出项目依赖</span></span><br><span class="line"><span class="comment"># 安装：pip3 install pipreqs</span></span><br><span class="line"><span class="comment">#导出：pipreqs  . --encoding=utf8</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/11/%E7%88%AC%E8%99%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/11/%E7%88%AC%E8%99%AB/" class="post-title-link" itemprop="url">爬虫</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-11 07:20:25" itemprop="dateCreated datePublished" datetime="2021-07-11T07:20:25+08:00">2021-07-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-12 12:22:34" itemprop="dateModified" datetime="2021-07-12T12:22:34+08:00">2021-07-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%88%AC%E8%99%AB%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">爬虫系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 爬虫流程</span></span><br><span class="line">	模拟发送http请求 ---&gt; 解析数据(清洗数据) ---&gt; 入库</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 百度、谷歌...(大爬虫)</span></span><br><span class="line">	百度搜索：输入关键字 ---&gt; 搜的是百度的数据库 ---&gt; 页面展示 ---&gt; 点击具体内容 ---&gt; 网页跳转</span><br><span class="line">    </span><br><span class="line">	seo优化：主动让百度爬到你</span><br><span class="line">    </span><br><span class="line">    sem：花钱做广告买关键词</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 爬虫协议</span></span><br><span class="line">	哪部分允许爬取，哪部分不允许爬取(https://www.csdn.net/robots.txt)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># python中爬虫相关内容</span></span><br><span class="line">	模拟发送http请求(requests，slenium) ---&gt; 解析数据(清洗数据)(json、bs4...) ---&gt;入库</span><br><span class="line">    (文件、mysql、redis、Excel、MongoDB)</span><br><span class="line">    反爬：</span><br><span class="line">    	封ip  			  --- 代理池</span><br><span class="line">        封账号 			 --- cookie池</span><br><span class="line">        请求头中带特殊校验	 --- 相应破解出那些字段</span><br><span class="line">        数据加密		    --- js解析出加密方式，自行组装数据</span><br><span class="line">        html			   ---  css反爬，字体反爬</span><br></pre></td></tr></table></figure>



<h2 id="requests库介绍"><a href="#requests库介绍" class="headerlink" title="requests库介绍"></a>requests库介绍</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># requests模块，基于urllib3封装，方便的发出http请求</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip install requests</span></span><br></pre></td></tr></table></figure>



<h2 id="requests发送get请求"><a href="#requests发送get请求" class="headerlink" title="requests发送get请求"></a>requests发送get请求</h2><ul>
<li>普通请求</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">res=requests.get(<span class="string">&#x27;https://www.cnblogs.com/xiaoyuanqujing/articles/11805698.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res.text) <span class="comment"># 返回的数据</span></span><br><span class="line"></span><br><span class="line">search = <span class="built_in">input</span>(<span class="string">&#x27;请输入要搜索的内容：&#x27;</span>)</span><br><span class="line">res = requests.get(<span class="string">&#x27;https://www.baidu.com/s?wd=&#x27;</span> + search,</span><br><span class="line">                   headers=&#123;</span><br><span class="line">                       <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36&#x27;</span>,</span><br><span class="line">                       <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">                   &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;search.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(res.text)</span><br></pre></td></tr></table></figure>



<ul>
<li>携带参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">response=requests.get(<span class="string">&#x27;https://www.sogou.com/web&#x27;</span>,</span><br><span class="line">                      headers=&#123;</span><br><span class="line">                        <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.75 Safari/537.36&#x27;</span>,</span><br><span class="line">                      &#125;,params=&#123;<span class="string">&#x27;query&#x27;</span>:<span class="string">&#x27;美女&#x27;</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;search.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(response.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># url编码和解码</span></span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote,unquote</span><br><span class="line"><span class="comment"># res=quote(&#x27;美女&#x27;)</span></span><br><span class="line"><span class="comment"># print(res)  #%E7%BE%8E%E5%A5%B3</span></span><br><span class="line"></span><br><span class="line">res=unquote(<span class="string">&#x27;%E7%BE%8E%E5%A5%B3&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line">res=urlencode(&#123;<span class="string">&#x27;wd&#x27;</span>:<span class="string">&#x27;美女&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">19</span>&#125;,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>



<ul>
<li>携带请求头</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果被做了反爬，但是用浏览器可以，一定是模拟的不像</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">header=&#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Cookie&#x27;</span>:<span class="string">&#x27;BIDUPSID=185720F0FEA0DC697147E75D48AFB1D8; PSTM=1593942899; BAIDUID=185720F0FEA0DC69D0675C2EEDB05721:SL=0:NR=10:FG=1; sug=3; ORIGIN=0; bdime=0; sugstore=1; BD_UPN=12314753; __yjs_duid=1_61812ebe639caffca8271e1786971c8b1617936053918; BDUSS=lhDOTR6OWU0UWdmcFBLTDdxRUlqQXJtdFFjajlxfjFhVUpRLTNDNEd0VW51Uk5oSVFBQUFBJCQAAAAAAAAAAAEAAACwPo3XwM~E0Lqiyc-6o9Cjx~gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcs7GAnLOxgW; BDUSS_BFESS=lhDOTR6OWU0UWdmcFBLTDdxRUlqQXJtdFFjajlxfjFhVUpRLTNDNEd0VW51Uk5oSVFBQUFBJCQAAAAAAAAAAAEAAACwPo3XwM~E0Lqiyc-6o9Cjx~gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcs7GAnLOxgW; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BDSFRCVID_BFESS=uQLOJeC62GhrmIcHWL4ru7XUvDmJR3TTH6aoUKcPVTiblG6zzmh3EG0Pbf8g0K4bdMXhogKK0eOTHkuF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF_BFESS=tRk8oK-aJKvbfP0kKno_MtCsqxby26n9-Rb9aJ5y-J7nhMTz5Mn1DT_OQl_fXpQq5m3ion3vQpbZ8h5D34vW-fLRDmct-p5MQ26xKl0MLPbcsU5nBU4VhnkD2fnMBMPj5mOnaIQc3fAKftnOM46JehL3346-35543bRTLnLy5KJYMDFCjTA-D6QyeUbQa4JWHD6QB4TaajrjDnCrBPjUXUI82h5y05OkbmteaU3PJMnhMUna54ovynKZDnORXx745j5b-bA-Bh3tfKJKbPQ63ML1Db3JqP7M0aQtsCouan3oepvoD-oc3MvByPjdJJQOBKQB0KnGbUQkeq8CQft20b0EeMtjW6LEJJkO_D_atKvDqTrP-trf5DCShUFsWPKJB2Q-XPoO3KJZfqRhyhJIjpk0jn7P-tQiW5cpoMbgylRM8P3y0bb2DUA1y4vpK-ogQgTxoUJ2fnRJEUcGqj5Ah--ebPRiJPQ9Qg-qahQ7tt5W8ncFbT7l5hKpbt-q0x-jLTnhVn0MBCK0hD0wjT0-DjcM-Uv05-PXKCJ0X458HJOoDDvFqfbcy4LdjG5NeRvbLnc7-hRu2PKboM5Cbxbmj4Pu3-Aq54RIL5505tnqtMcNb-0xeJrhQfbQ0bjuqP-jW5Ta-qI-HR7JOpkxbfnxy-P0QRPH-Rv92DQMVU52QqcqEIQHQT3m5-5bbN3ht6IHJJIq_I82JIvbfP0k5R35hnjH-UIs-lorB2Q-5KL-3bnKDqTnyhJdjbD0jn7P-f3LWHue-UbdJJjoSqvn0hjxMtDjQNjEhtr3t2TxoUJt5DnJhhkm-4OYW-kebPRiJPQ9QgbWLlQ7tt5W8ncFbT7l5hKpbt-q0x-jLTnhVn0M5DK0HPonHjAKDjvP; delPer=0; BD_CK_SAM=1; PSINO=3; BAIDUID_BFESS=185720F0FEA0DC69D0675C2EEDB05721:SL=0:NR=10:FG=1; H_PS_PSSID=34300_34335_34273_31254_34377_33848_34092_34107_34111_26350_34360; COOKIE_SESSION=3698_4_8_9_18_23_0_1_7_3_0_11_2964_0_0_0_1628046671_1627963945_1628050426%7C9%23101_72_1627963943%7C9; H_PS_645EC=4707Tvcdepk6pvKnFnabHvwqrLGAFZiyVAOXDTeK8IdAgRrAQD714rlnFSA; BA_HECTOR=0ha5al208l240k2hf91ggk5e30q&#x27;</span>&#125;</span><br><span class="line">res = requests.get(<span class="string">&#x27;https://www.baidu.com/s?wd=帅哥&#x27;</span>,headers=header)</span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;search.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(res.text)</span><br></pre></td></tr></table></figure>



<ul>
<li>携带cookie</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res = requests.get(<span class="string">&#x27;http://www.aa7a.cn/&#x27;</span>, headers=&#123;</span><br><span class="line">    <span class="comment"># &#x27;cookie&#x27;: &#x27;ECS_ID=b435f5897f41c2f2c322fa3065165c9fbc56ddd5; ECS[visit_times]=1; _jzqa=1.4423902263705487400.1628049030.1628049030.1628049030.1; _jzqc=1; _jzqy=1.1628049030.1628049030.1.jzqsr=baidu.-; _jzqckmp=1; UM_distinctid=17b0f48bcda509-0e53827f49b667-5e422810-1fa400-17b0f48bcdb54c; CNZZDATA4603183=cnzz_eid%3D1414483188-1628045968-null%26ntime%3D1628045968; Hm_lvt_c29657ca36c6c88e02fed9a397826038=1628049030; CNZZDATA1260462072=271803043-1628045968-null%7C1628045968; Qs_lvt_201322=1628049030; mediav=%7B%22eid%22%3A%22179539%22%2C%22ep%22%3A%22%22%2C%22vid%22%3A%22%22%2C%22ctn%22%3A%22%22%2C%22vvid%22%3A%22%22%2C%22_mvnf%22%3A1%2C%22_mvctn%22%3A0%2C%22_mvck%22%3A1%2C%22_refnf%22%3A0%7D; _qzjc=1; __xsptplusUT_422=1; __xsptplus422=422.1.1628049032.1628049032.1%234%7C%7C%7C%7C%7C%23%23HXwWiieCoDk4evQa5H5dKIEBtnxLTY12%23; ECS[username]=616564099%40qq.com; ECS[user_id]=61399; ECS[password]=4a5e6ce9d1aba9de9b31abdf303bbdc2; _qzja=1.1591066928.1628049030327.1628049030327.1628049030327.1628049032756.1628049055229.616564099%2540qq_com.1.0.3.1; _qzjb=1.1628049030327.3.0.0.0; _qzjto=3.1.0; _jzqb=1.8.10.1628049030.1; Qs_pv_201322=2246468261428716000%2C1231523507243942000; Hm_lpvt_c29657ca36c6c88e02fed9a397826038=1628049055; cto_bundle=Gd60IF9TJTJGRHFuTzdidXZYZGEyVW9ydFFJV25YY0RqSlBRODRlTDdjSG9RT01NUlg4NmYyVjhPMzNmenolMkJDMlRiQjJWTHA2UlBoUUdNOGtBTnoyTkZqdmJMOEI5Vk14aVU4JTJGbHdyTXFqaCUyRlY1dWt3JTNE&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;616564099@qq.com &#x27;</span> <span class="keyword">in</span> res.text)</span><br></pre></td></tr></table></figure>



<h2 id="requests发送post请求"><a href="#requests发送post请求" class="headerlink" title="requests发送post请求"></a>requests发送post请求</h2><ul>
<li>自动登录某网站</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">res = requests.post(<span class="string">&#x27;http://www.aa7a.cn/user.php&#x27;</span>, data=&#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;616564099@qq.com&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;lqz123&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;captcha&#x27;</span>: <span class="string">&#x27;zxv7&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;remember&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;ref&#x27;</span>: <span class="string">&#x27;http://www.aa7a.cn/&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;act&#x27;</span>: <span class="string">&#x27;act_login&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(res.text)</span></span><br><span class="line"><span class="comment">## 取出cookie,登录成功的cookie</span></span><br><span class="line">cookie=res.cookies  <span class="comment"># CookieJar对象</span></span><br><span class="line"><span class="built_in">print</span>(cookie)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res2=requests.get(<span class="string">&#x27;http://www.aa7a.cn/&#x27;</span>,cookies=cookie)</span><br><span class="line"><span class="comment"># res2=requests.get(&#x27;http://www.aa7a.cn/&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;616564099@qq.com&#x27;</span> <span class="keyword">in</span> res2.text)</span><br></pre></td></tr></table></figure>



<ul>
<li>body体中携带数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### 6 body体携带数据</span></span><br><span class="line"><span class="comment"># res = requests.post(&#x27;&#x27;,data=&#123;&#125;)  # urlencoded方式</span></span><br><span class="line"><span class="comment"># res = requests.post(&#x27;&#x27;,json=&#x27;json格式字符串&#x27;)  # aplication/json方式</span></span><br><span class="line"><span class="comment"># res = requests.post(&#x27;&#x27;,json=&#x27;&#x27;,headers=&#123;</span></span><br><span class="line"><span class="comment"># &#x27;content-type&#x27;: &#x27;application/json;charset=utf-8&#x27;</span></span><br><span class="line"><span class="comment"># &#125;)</span></span><br></pre></td></tr></table></figure>



<ul>
<li>response属性、编码问题，获取二进制，解析json</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 7  response属性，</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;http://www.aa7a.cn/&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.text)   # 响应体的字符串</span></span><br><span class="line"><span class="comment"># print(&#x27;----------------------------------&#x27;)</span></span><br><span class="line"><span class="comment"># print(respone.content) # 响应体的二进制（图片，视频，页面）</span></span><br><span class="line"><span class="comment"># print(&#x27;----------------------------------&#x27;)</span></span><br><span class="line"><span class="comment"># print(respone.status_code) # 响应的状态码</span></span><br><span class="line"><span class="comment"># print(respone.headers)     # 响应头</span></span><br><span class="line"><span class="comment"># print(respone.cookies)     # 返回的cookie</span></span><br><span class="line"><span class="comment"># print(respone.cookies.get_dict())  # cookieJar对象转成字典</span></span><br><span class="line"><span class="comment"># print(respone.cookies.items())    # 相当于字典的items</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.url)               # 当次请求地址</span></span><br><span class="line"><span class="comment"># print(respone.history)           # 重定向过才有值</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.encoding)          # 响应的编码格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭：response.close()</span></span><br><span class="line"><span class="comment"># from contextlib import closing</span></span><br><span class="line"><span class="comment"># with closing(requests.get(&#x27;xxx&#x27;,stream=True)) as response:</span></span><br><span class="line"><span class="comment">#     for line in response.iter_content():</span></span><br><span class="line"><span class="comment">#     pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 编码问题，</span></span><br><span class="line"><span class="comment"># 可能会遇到打印respone.text出现乱码，在浏览器页面中看不会出现乱码</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;http://www.aa7a.cn/&#x27;)</span></span><br><span class="line"><span class="comment"># # respone.encoding=&#x27;gbk&#x27;  # 修改编码方式</span></span><br><span class="line"><span class="comment"># respone.encoding=respone.apparent_encoding   # 页面使用的编码方式</span></span><br><span class="line"><span class="comment"># print(respone.text)   # 响应体的字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 9 获取二进制，</span></span><br><span class="line">res=requests.get(<span class="string">&#x27;http://www.aa7a.cn/data/afficheimg/20201102gophex.png&#x27;</span>)</span><br><span class="line"><span class="comment"># print(res.content)</span></span><br><span class="line"><span class="comment"># with open(&#x27;致命诱惑.png&#x27;,&#x27;wb&#x27;) as f:</span></span><br><span class="line"><span class="comment">#     f.write(res.content)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># with open(&#x27;致命诱惑.png&#x27;,&#x27;wb&#x27;) as f:</span></span><br><span class="line"><span class="comment">#     for line in res.iter_content(1024):</span></span><br><span class="line"><span class="comment">#         f.write(line)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10 解析json</span></span><br><span class="line"><span class="comment"># import json</span></span><br><span class="line"><span class="comment"># res=requests.get(&#x27;https://api.luffycity.com/api/v1/course/category/actual/?courseType=actual&#x27;)</span></span><br><span class="line"><span class="comment"># # print(json.loads(res.text))</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(res.json())</span></span><br></pre></td></tr></table></figure>



<h2 id="爬取视频"><a href="#爬取视频" class="headerlink" title="爬取视频"></a>爬取视频</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  爬取视频</span></span><br><span class="line"><span class="comment">#https://www.pearvideo.com/category_loading.jsp?reqType=5&amp;categoryId=5&amp;start=0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># import re</span></span><br><span class="line"><span class="comment"># res=requests.get(&#x27;https://www.pearvideo.com/category_loading.jsp?reqType=5&amp;categoryId=5&amp;start=0&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # print(res.text)</span></span><br><span class="line"><span class="comment"># # 如果使用bs4，非常简单</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># video_list=re.findall(&#x27;&lt;a href=&quot;(.*?)&quot; class=&quot;vervideo-lilink actplay&quot;&gt;&#x27;,res.text)</span></span><br><span class="line"><span class="comment"># # print(video_list)</span></span><br><span class="line"><span class="comment"># for video in video_list:</span></span><br><span class="line"><span class="comment">#     video_url=&#x27;https://www.pearvideo.com/&#x27;+video</span></span><br><span class="line"><span class="comment">#     # print(video_url)</span></span><br><span class="line"><span class="comment">#     video_id=video.split(&#x27;_&#x27;)[-1]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     header=&#123;</span></span><br><span class="line"><span class="comment">#         &#x27;Referer&#x27;:video_url</span></span><br><span class="line"><span class="comment">#     &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     res2=requests.get(&#x27;https://www.pearvideo.com/videoStatus.jsp?contId=%s&amp;mrd=0.5165499193941832&#x27;%video_id,headers=header)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     video_f_url=res2.json()[&#x27;videoInfo&#x27;][&#x27;videos&#x27;][&#x27;srcUrl&#x27;]</span></span><br><span class="line"><span class="comment">#     video_real_url=video_f_url.replace(video_f_url.rsplit(&#x27;/&#x27;)[-1].split(&#x27;-&#x27;)[0], &#x27;cont-%s&#x27; % video_id)</span></span><br><span class="line"><span class="comment">#     print(video_real_url)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     res3=requests.get(video_real_url)</span></span><br><span class="line"><span class="comment">#     with open(&#x27;%s.mp4&#x27;%video_id,&#x27;wb&#x27;) as f:</span></span><br><span class="line"><span class="comment">#         for line in res3.iter_content(1024):</span></span><br><span class="line"><span class="comment">#             f.write(line)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分析过程稿</span></span><br><span class="line"><span class="comment"># referer:上一次访问的地址，可以做图片防盗链</span></span><br><span class="line"><span class="comment"># header=&#123;</span></span><br><span class="line"><span class="comment">#     &#x27;Referer&#x27;: &#x27;https://www.pearvideo.com/video_1737590&#x27;</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># res=requests.get(&#x27;https://www.pearvideo.com/videoStatus.jsp?contId=1737590&amp;mrd=0.5165499193941832&#x27;,headers=header)</span></span><br><span class="line"><span class="comment"># print(res.text)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 可以播放的视频</span></span><br><span class="line"><span class="comment"># &#x27;https://video.pearvideo.com/mp4/short/20210729/cont-1736870-15732687-hd.mp4&#x27;</span></span><br><span class="line"><span class="comment"># ## 不可以播放的视频</span></span><br><span class="line"><span class="comment"># &#x27;https://video.pearvideo.com/mp4/short/20210729/1628062847275-15732687-hd.mp4&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x27;https://video.pearvideo.com/mp4/short/20210729/   cont-1736870   -15732687-hd.mp4&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;https://video.pearvideo.com/mp4/short/20210729/   1628062847275   -15732687-hd.mp4&#x27;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># s=&#x27;https://video.pearvideo.com/mp4/short/20210729/  1628062847275 -15732687-hd.mp4&#x27;</span></span><br><span class="line"><span class="comment"># s.replace(s.rsplit(&#x27;/&#x27;)[-1].split(&#x27;-&#x27;)[0],&#x27;cont-%s&#x27;%video_id)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 长链转短链服务</span></span><br><span class="line">	核心：重定向</span><br></pre></td></tr></table></figure>



<h2 id="requests高级用法"><a href="#requests高级用法" class="headerlink" title="requests高级用法"></a>requests高级用法</h2><ul>
<li>补充</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 正向代理和反向代理</span><br><span class="line">	正向代理：代理客户端</span><br><span class="line">    反向代理：代理服务端(nginx就是反向代理服务器)</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span> requests使用的代理：正向代理</span><br></pre></td></tr></table></figure>

<ul>
<li>SSL Cert Verification（了解）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 不验证证书</span></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;https://www.12306.cn&#x27;,verify=False) #不验证证书,报警告,返回200</span></span><br><span class="line"><span class="comment"># print(respone.status_code)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ## 携带证书</span></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;https://www.12306.cn&#x27;,</span></span><br><span class="line"><span class="comment">#                      cert=(&#x27;/path/server.crt&#x27;,</span></span><br><span class="line"><span class="comment">#                            &#x27;/path/key&#x27;))</span></span><br><span class="line"><span class="comment"># print(respone.status_code)</span></span><br></pre></td></tr></table></figure>



<ul>
<li>使用代理</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># proxies = &#123;</span></span><br><span class="line"><span class="comment">#     &#x27;http&#x27;:&#x27;http://117.69.230.132:3256&#x27;,</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;https://www.12306.cn&#x27;,</span></span><br><span class="line"><span class="comment">#                      proxies=proxies)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.status_code)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># proxies = &#123;</span></span><br><span class="line"><span class="comment">#     &#x27;http&#x27;:&#x27;http://117.69.230.132:3256&#x27;,</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment"># # respone=requests.get(&#x27;http://127.0.0.1:8000&#x27;,proxies=proxies)</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;http://127.0.0.1:8000&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.text)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># proxies = &#123;</span></span><br><span class="line"><span class="comment">#     &#x27;http&#x27;:&#x27;http://103.228.245.98:3128&#x27;,</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;http://101.133.225.166:8888/&#x27;,proxies=proxies)</span></span><br><span class="line"><span class="comment"># # respone=requests.get(&#x27;http://101.133.225.166:8888/&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(respone.text)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 如果你有很多代理，每次发请求，随机取一个代理ip，发送，这样我们的ip就不会被封</span></span><br><span class="line"><span class="comment">### 花钱买</span></span><br><span class="line"><span class="comment">### 白嫖</span></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># res=requests.get(&#x27;http://demo.spiderpy.cn/get/&#x27;).json()[&#x27;proxy&#x27;]</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># proxies = &#123;</span></span><br><span class="line"><span class="comment">#     &#x27;https&#x27;:&#x27;https://%s&#x27;%res,</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment"># print()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># respone=requests.get(&#x27;http://www.baidu.com&#x27;,proxies=proxies)</span></span><br><span class="line"><span class="comment"># # respone=requests.get(&#x27;http://www.baidu.com&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(respone.text)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 借助于第三方，自己搭建(读一读人家源码)</span></span><br><span class="line"><span class="comment">#https://github.com/jhao104/proxy_pool</span></span><br></pre></td></tr></table></figure>



<ul>
<li>超时时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># respone=requests.get(&#x27;https://www.baidu.com&#x27;,timeout=0.0001)</span></span><br></pre></td></tr></table></figure>



<ul>
<li>认证（像老款路由器的登录）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># from requests.auth import HTTPBasicAuth</span></span><br><span class="line"><span class="comment"># r=requests.get(&#x27;xxx&#x27;,auth=HTTPBasicAuth(&#x27;user&#x27;,&#x27;password&#x27;))</span></span><br><span class="line"><span class="comment"># print(r.status_code)</span></span><br></pre></td></tr></table></figure>



<ul>
<li>异常处理</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># from requests.exceptions import * #可以查看requests.exceptions获取异常类型</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># try:</span></span><br><span class="line"><span class="comment">#     r=requests.get(&#x27;http://www.baidu.com&#x27;,timeout=0.00001)</span></span><br><span class="line"><span class="comment"># # except ReadTimeout:</span></span><br><span class="line"><span class="comment"># #     print(&#x27;===:&#x27;)</span></span><br><span class="line"><span class="comment"># # except ConnectionError: #网络不通</span></span><br><span class="line"><span class="comment"># #     print(&#x27;-----&#x27;)</span></span><br><span class="line"><span class="comment"># # except Timeout:</span></span><br><span class="line"><span class="comment"># #     print(&#x27;aaaaa&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># except Exception:</span></span><br><span class="line"><span class="comment">#     print(&#x27;Error&#x27;)</span></span><br></pre></td></tr></table></figure>



<ul>
<li>文件上传</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment"># files=&#123;&#x27;myfile&#x27;:open(&#x27;1 自动处理cookie.py&#x27;,&#x27;rb&#x27;)&#125;</span></span><br><span class="line"><span class="comment"># respone=requests.post(&#x27;http://127.0.0.1:8000/upload_file/&#x27;,files=files)</span></span><br><span class="line"><span class="comment"># print(respone.text)</span></span><br></pre></td></tr></table></figure>



<h2 id="抽屉自动点赞"><a href="#抽屉自动点赞" class="headerlink" title="抽屉自动点赞"></a>抽屉自动点赞</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">header=&#123;</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># res=requests.post(&#x27;https://dig.chouti.com/link/vote&#x27;,data=&#123;&#x27;linkId&#x27;:&#x27;31857081&#x27;&#125;,headers=header)</span></span><br><span class="line"><span class="comment"># print(res.text)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有的都点赞，----》id解析---》bs4模块（解析xml）</span></span><br><span class="line"></span><br><span class="line">res=requests.get(<span class="string">&#x27;https://dig.chouti.com/top/24hr?_=1628136305346&#x27;</span>,headers=header).json()</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> res[<span class="string">&#x27;data&#x27;</span>]:</span><br><span class="line">    <span class="built_in">id</span>=item[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">    res=requests.post(<span class="string">&#x27;https://dig.chouti.com/link/vote&#x27;</span>,data=&#123;<span class="string">&#x27;linkId&#x27;</span>:<span class="string">&#x27;%s&#x27;</span>%<span class="built_in">id</span>&#125;,headers=header)</span><br><span class="line">    <span class="built_in">print</span>(res.text)</span><br></pre></td></tr></table></figure>



<h2 id="爬取汽车之家新闻"><a href="#爬取汽车之家新闻" class="headerlink" title="爬取汽车之家新闻"></a>爬取汽车之家新闻</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># pip3 install beautifulsoup4</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line">    res=requests.get(<span class="string">&#x27;https://www.autohome.com.cn/news/%s/#liststart&#x27;</span>%i)</span><br><span class="line">    <span class="comment"># print(res.text)</span></span><br><span class="line">    <span class="comment"># 第一个参数，要解析的内容，第二参数：使用的解析器  html.parser  bs4内置的解析器   lxml</span></span><br><span class="line">    soup=BeautifulSoup(res.text,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># pip3 install lxml</span></span><br><span class="line">    <span class="comment"># soup=BeautifulSoup(res.text,&#x27;lxml&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># find_all找所有</span></span><br><span class="line">    ul_list=soup.find_all(name=<span class="string">&#x27;ul&#x27;</span>,class_=<span class="string">&#x27;article&#x27;</span>)</span><br><span class="line">    <span class="comment"># ul_list=soup.find_all(name=&#x27;ul&#x27;)</span></span><br><span class="line">    <span class="comment"># print(len(ul_list))</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ul <span class="keyword">in</span> ul_list:</span><br><span class="line">        li_list=ul.find_all(name=<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            h3=li.find(name=<span class="string">&#x27;h3&#x27;</span>)</span><br><span class="line">            <span class="keyword">if</span> h3:</span><br><span class="line">                title=h3.text   <span class="comment"># 获取标签的文本内容，标签对象.text</span></span><br><span class="line">                <span class="comment"># print(title)</span></span><br><span class="line">                desc=li.find(name=<span class="string">&#x27;p&#x27;</span>).text</span><br><span class="line">                <span class="comment"># print(desc)</span></span><br><span class="line">                img_url=li.find(name=<span class="string">&#x27;img&#x27;</span>)[<span class="string">&#x27;src&#x27;</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> img_url.startswith(<span class="string">&#x27;http&#x27;</span>):</span><br><span class="line">                    img_url=<span class="string">&#x27;https:&#x27;</span>+img_url</span><br><span class="line">                <span class="comment"># print(img_url)</span></span><br><span class="line">                url=<span class="string">&#x27;https:&#x27;</span>+li.find(name=<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">                <span class="built_in">print</span>(url)</span><br><span class="line"></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                新闻标题：%s</span></span><br><span class="line"><span class="string">                新闻摘要：%s</span></span><br><span class="line"><span class="string">                新闻图片：%s</span></span><br><span class="line"><span class="string">                新闻地址：%s          </span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span>%(title,desc,img_url,url))</span><br></pre></td></tr></table></figure>



<h2 id="bs4遍历文档树"><a href="#bs4遍历文档树" class="headerlink" title="bs4遍历文档树"></a>bs4遍历文档树</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html_doc = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story &lt;span&gt;lqz&lt;/span&gt;&lt;/b&gt;&lt;span&gt;egon&lt;/span&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">soup=BeautifulSoup(html_doc,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.prettify()  # 美化</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1、用法</span></span><br><span class="line"><span class="comment"># html=soup.html</span></span><br><span class="line"><span class="comment"># title=soup.html.head.title</span></span><br><span class="line"><span class="comment"># title=soup.title</span></span><br><span class="line"><span class="comment"># print(title)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#2、获取标签的名称 ---&gt; 标签对象.name</span></span><br><span class="line"><span class="comment"># a=soup.body.a</span></span><br><span class="line"><span class="comment"># a=soup.a.name</span></span><br><span class="line"><span class="comment"># print(a)</span></span><br><span class="line"><span class="comment"># print(soup.body.name)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#3、获取标签的属性  ----&gt;标签对象[&#x27;标签名&#x27;]</span></span><br><span class="line"><span class="comment"># href=soup.body.a[&#x27;href&#x27;]</span></span><br><span class="line"><span class="comment"># attrs=soup.body.a.attrs  # 所有属性，---》字典</span></span><br><span class="line"><span class="comment"># href=soup.body.a.attrs[&#x27;href&#x27;]</span></span><br><span class="line"><span class="comment"># print(attrs[&#x27;class&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># c=soup.p.attrs[&#x27;class&#x27;]</span></span><br><span class="line"><span class="comment"># print(c)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#4、获取标签的内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.b.text  # 拿到当前标签子子孙所有的text</span></span><br><span class="line"><span class="comment"># res=soup.p.text</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.p.string # 当前标签有且只有一个文本内容才能拿出来</span></span><br><span class="line"><span class="comment"># res=soup.b.string # 当前标签有且只有一个文本内容才能拿出来</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.p.strings   # 把子子孙放到生成器中</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(list(res))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#5、嵌套选择</span></span><br><span class="line"><span class="comment"># res=soup.html.body.p</span></span><br><span class="line"><span class="comment"># print(type(res))  # bs4.element.Tag</span></span><br><span class="line"><span class="keyword">from</span> bs4.element <span class="keyword">import</span> Tag</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####了解</span></span><br><span class="line"><span class="comment">#6、子节点、子孙节点</span></span><br><span class="line"><span class="comment"># print(soup.p.contents) #p下所有子节点，放到列表中</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(soup.p.children) #得到一个迭代器,包含p下所有子节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for i,child in enumerate(soup.p.children):</span></span><br><span class="line"><span class="comment">#     print(i,child)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(soup.p.descendants) #获取子孙节点,p下所有的标签都会选择出来</span></span><br><span class="line"><span class="comment"># for i,child in enumerate(soup.p.descendants):</span></span><br><span class="line"><span class="comment">#     print(i,child)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#7、父节点、祖先节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(soup.a.parent) #获取a标签的父节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(soup.body.parent)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(soup.a.parents) #找到a标签所有的祖先节点，父亲的父亲，父亲的父亲的父亲...</span></span><br><span class="line"><span class="comment"># print(list(soup.a.parents))</span></span><br><span class="line"><span class="comment"># print(len(list(soup.a.parents)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#8、兄弟节点</span></span><br><span class="line"><span class="comment"># print(soup.a.next_sibling) #下一个兄弟</span></span><br><span class="line"><span class="comment"># print(soup.a.previous_sibling) #上一个兄弟</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(list(soup.a.next_siblings)) #下面的兄弟们=&gt;生成器对象</span></span><br><span class="line"><span class="comment"># print(list(soup.a.previous_siblings)) #上面的兄弟们=&gt;生成器对象</span></span><br></pre></td></tr></table></figure>



<h2 id="bs4搜索文档树"><a href="#bs4搜索文档树" class="headerlink" title="bs4搜索文档树"></a>bs4搜索文档树</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html_doc = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body id=&#x27;body&#x27;&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse&#x27;s story &lt;span&gt;lqz&lt;/span&gt;&lt;/b&gt;&lt;span&gt;egon&lt;/span&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">and they lived at the bottom of a well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">soup=BeautifulSoup(html_doc,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索文档树  find  find_all</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 五种过滤器: 字符串、正则表达式、列表、True、方法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##### 字符串</span></span><br><span class="line"><span class="comment"># res=soup.find(name=&#x27;body&#x27;)</span></span><br><span class="line"><span class="comment"># res=soup.find(name=&#x27;p&#x27;,class_=&#x27;story&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找id为link2的标签</span></span><br><span class="line"><span class="comment"># res=soup.find(id=&#x27;link2&#x27;,name=&#x27;a&#x27;,class_=&#x27;sister&#x27;,href=&#x27;http://example.com/lacie&#x27;)</span></span><br><span class="line"><span class="comment"># res=soup.find(href=&#x27;http://example.com/lacie&#x27;)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.find(attrs=&#123;&#x27;class&#x27;:[&#x27;sister&#x27;]&#125;)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### 正则表达式</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment"># res=soup.find_all(name=re.compile(&#x27;^b&#x27;)) #找出b开头的标签，结果有body和b标签</span></span><br><span class="line"><span class="comment"># res=soup.find(name=re.compile(&#x27;^b&#x27;))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.find_all(class_=re.compile(&#x27;^s&#x27;))</span></span><br><span class="line"><span class="comment"># res=soup.find_all(href=re.compile(&#x27;^http&#x27;))</span></span><br><span class="line"><span class="comment"># res=soup.find_all(id=re.compile(&#x27;^l&#x27;))</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####列表、</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.find_all(name=[&#x27;body&#x27;,&#x27;b&#x27;])</span></span><br><span class="line"><span class="comment"># res=soup.find_all(id=[&#x27;link1&#x27;,&#x27;link2&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.find_all(attrs=&#123;&#x27;id&#x27;:[&#x27;link1&#x27;,&#x27;link2&#x27;]&#125;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># True、</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># links=soup.find_all(href=True)</span></span><br><span class="line"><span class="comment"># print(links)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.find_all(name=True)</span></span><br><span class="line"><span class="comment"># res=soup.find_all(id=True)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法</span></span><br><span class="line"><span class="comment"># def has_class_but_no_id(tag):</span></span><br><span class="line"><span class="comment">#     return tag.has_attr(&#x27;class&#x27;) and not tag.has_attr(&#x27;id&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(len(soup.find_all(name=has_class_but_no_id)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拿出当前页面所有图片</span></span><br><span class="line">soup.find_all(name=<span class="string">&#x27;img&#x27;</span>,href=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 建议 遍历文档树和搜索文档树混用</span></span><br><span class="line"><span class="comment"># soup.body.div.find</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 其他参数  find，find_all</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#limit</span></span><br><span class="line"><span class="comment"># soup.find()</span></span><br><span class="line"><span class="comment"># res=soup.find_all(name=&#x27;a&#x27;,href=True,limit=2)  # 限制获取的条数</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># recursive 是否递归查找</span></span><br><span class="line"><span class="comment"># res=soup.find_all(name=&#x27;a&#x27;,recursive=False)</span></span><br><span class="line"><span class="comment"># res=soup.find_all(name=&#x27;html&#x27;,recursive=False)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br></pre></td></tr></table></figure>



<h2 id="css选择器-与xpath是通用的"><a href="#css选择器-与xpath是通用的" class="headerlink" title="css选择器(与xpath是通用的)"></a>css选择器(与xpath是通用的)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">html_doc = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&#x27;s story&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;title&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;b&gt;The Dormouse&#x27;s story  &lt;p&gt;asdfasdf&lt;/p&gt;&lt;/b&gt;</span></span><br><span class="line"><span class="string">    Once upon a time there were three little sisters; and their names were</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span&gt;Elsie&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></span><br><span class="line"><span class="string">    &lt;div class=&#x27;panel-1&#x27;&gt;</span></span><br><span class="line"><span class="string">        &lt;ul class=&#x27;list&#x27; id=&#x27;list-1&#x27;&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element&#x27;&gt;Foo&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element&#x27;&gt;Bar&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element&#x27;&gt;Jay&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        &lt;ul class=&#x27;list list-small&#x27; id=&#x27;list-2&#x27;&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element&#x27;&gt;&lt;h1 class=&#x27;yyyy&#x27;&gt;Foo&lt;/h1&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element xxx&#x27;&gt;Bar&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li class=&#x27;element&#x27;&gt;Jay&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    and they lived at the bottom of a well.</span></span><br><span class="line"><span class="string">&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">soup=BeautifulSoup(html_doc,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">#id</span></span><br><span class="line"><span class="string">.类名</span></span><br><span class="line"><span class="string">标签</span></span><br><span class="line"><span class="string">标签&gt;标签</span></span><br><span class="line"><span class="string">标签 标签</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=soup.p.select(&#x27;.sister&#x27;)  # 使用css选择器</span></span><br><span class="line"><span class="comment"># res=soup.p.select(&#x27;#link1&#x27;)  # 使用css选择器</span></span><br><span class="line"><span class="comment"># res=soup.select(&#x27;body&gt;p&#x27;)  # 使用css选择器 body的子标签p</span></span><br><span class="line">res=soup.select(<span class="string">&#x27;body p&#x27;</span>)  <span class="comment"># 使用css选择器 body的子子孙孙标签p</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### css选择器是通用的：bs4，lxml解析也可以是css选择器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##css选择器不会写怎么办？</span></span><br><span class="line"><span class="string">&#x27;#maincontent &gt; div:nth-child(3) &gt; table &gt; tbody &gt; tr:nth-child(13) &gt; td:nth-child(3)&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## xpath选择</span></span><br><span class="line"><span class="string">&#x27;//*[@id=&quot;maincontent&quot;]/div[2]/table/tbody/tr[18]/td[2]&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="selenium使用"><a href="#selenium使用" class="headerlink" title="selenium使用"></a>selenium使用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果使用requests模块，发送请求获取的数据不全，它不能执行js</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># selenium:可以使用代码控制模拟人操作浏览器</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## 操作某个浏览器，就需要有浏览器驱动</span></span><br><span class="line"><span class="comment"># http://npm.taobao.org/mirrors/chromedriver/  谷歌驱动的淘宝镜像站</span></span><br><span class="line"><span class="comment"># 谷歌浏览器版本要跟驱动版本对应</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 92.0.4515.131  下载相应版本驱动，放到项目代码中</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip3 install selenium</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># from selenium import webdriver</span></span><br><span class="line"><span class="comment"># import time</span></span><br><span class="line"><span class="comment"># # 打开一个谷歌浏览器</span></span><br><span class="line"><span class="comment"># bro=webdriver.Chrome(executable_path=&#x27;chromedriver.exe&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># #地址栏中输入百度</span></span><br><span class="line"><span class="comment"># bro.get(&#x27;https://www.cnblogs.com/&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># time.sleep(2)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(bro.page_source)  #当前页面的html内容</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># bro.close()  # 关闭浏览器</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># res=requests.get(&#x27;https://dig.chouti.com/&#x27;,headers=&#123;</span></span><br><span class="line"><span class="comment">#     &#x27;User-Agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36&#x27;</span></span><br><span class="line"><span class="comment"># &#125;)</span></span><br><span class="line"><span class="comment"># print(res.text)</span></span><br></pre></td></tr></table></figure>



<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浏览器对象</span></span><br><span class="line">bro = webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">bro.implicitly_wait(<span class="number">10</span>)  <span class="comment"># 隐式等待，去找控件，如果没有会等10s</span></span><br><span class="line"></span><br><span class="line">bro.get(<span class="string">&#x27;https://www.baidu.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sub_button=bro.find_element_by_css_selector(&#x27;#s-top-loginbtn&#x27;)</span></span><br><span class="line">sub_button = bro.find_element_by_id(<span class="string">&#x27;s-top-loginbtn&#x27;</span>)  <span class="comment"># 如果有id，优先用它</span></span><br><span class="line"><span class="comment"># 点击</span></span><br><span class="line">sub_button.click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找到用户名密码登录</span></span><br><span class="line">user_btn = bro.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;TANGRAM__PSP_11__footerULoginBtn&quot;]&#x27;</span>)</span><br><span class="line"><span class="comment"># user_btn=bro.find_element_by_id(&#x27;TANGRAM__PSP_11__footerULoginBtn&#x27;)</span></span><br><span class="line">user_btn.click()</span><br><span class="line"></span><br><span class="line">username = bro.find_element_by_id(<span class="string">&#x27;TANGRAM__PSP_11__userName&#x27;</span>)</span><br><span class="line">password = bro.find_element_by_id(<span class="string">&#x27;TANGRAM__PSP_11__password&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 往输入框中写东西</span></span><br><span class="line">username.send_keys(<span class="string">&#x27;6666666@qq.com&#x27;</span>)</span><br><span class="line">password.send_keys(<span class="string">&#x27;lqz12345&#x27;</span>)</span><br><span class="line"></span><br><span class="line">sumbit_btn = bro.find_element_by_id(<span class="string">&#x27;TANGRAM__PSP_11__submit&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">sumbit_btn.click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">bro.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="无头浏览器"><a href="#无头浏览器" class="headerlink" title="无头浏览器"></a>无头浏览器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line">chrome_options = Options()</span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;window-size=1920x3000&#x27;</span>) <span class="comment">#指定浏览器分辨率</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--disable-gpu&#x27;</span>) <span class="comment">#谷歌文档提到需要加上这个属性来规避bug</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--hide-scrollbars&#x27;</span>) <span class="comment">#隐藏滚动条, 应对一些特殊页面</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;blink-settings=imagesEnabled=false&#x27;</span>) <span class="comment">#不加载图片, 提升速度</span></span><br><span class="line">chrome_options.add_argument(<span class="string">&#x27;--headless&#x27;</span>) <span class="comment">#浏览器不提供可视化页面. linux下如果系统不支持可视化不加这条会启动失败</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>,chrome_options=chrome_options)</span><br><span class="line">driver.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(driver.page_source)</span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure>



<h3 id="获取元素位置，属性，大小"><a href="#获取元素位置，属性，大小" class="headerlink" title="获取元素位置，属性，大小"></a>获取元素位置，属性，大小</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">driver=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;https://kyfw.12306.cn/otn/resources/login.html&#x27;</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">user_login=driver.find_element_by_css_selector(<span class="string">&#x27;.login-hd-account&gt;a&#x27;</span>)</span><br><span class="line"></span><br><span class="line">user_login.click()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">img=driver.find_element_by_id(<span class="string">&#x27;J-loginImg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(img.<span class="built_in">id</span>)    <span class="comment">#selenium提供的id，忽略</span></span><br><span class="line"><span class="built_in">print</span>(img.tag_name) <span class="comment"># 标签名</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(img.location) <span class="comment"># img标签的位置</span></span><br><span class="line"><span class="built_in">print</span>(img.size)     <span class="comment"># img标签大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取属性</span></span><br><span class="line"><span class="comment"># print(img.get_attribute(&#x27;src&#x27;))</span></span><br><span class="line"><span class="built_in">print</span>(img.get_attribute(<span class="string">&#x27;class&#x27;</span>))</span><br><span class="line"></span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure>



<h3 id="等待元素被加载"><a href="#等待元素被加载" class="headerlink" title="等待元素被加载"></a>等待元素被加载</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="comment"># 两种等待方式</span></span><br><span class="line"><span class="comment"># 显示等待</span></span><br><span class="line"><span class="comment"># 隐式等待：只需要写一句话，等待所有要获取的标签</span></span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># 两种等待方式</span></span><br><span class="line"><span class="string"># 显示等待(忽略掉)</span></span><br><span class="line"><span class="string">    wait=WebDriverWait(driver,10)</span></span><br><span class="line"><span class="string">    wait.until(EC.presence_of_element_located((By.ID,&#x27;content_left&#x27;)))</span></span><br><span class="line"><span class="string">    contents=browser.find_element(By.CSS_SELECTOR,&#x27;#content_left&#x27;)</span></span><br><span class="line"><span class="string"># 隐式等待：</span></span><br><span class="line"><span class="string">    -driver.implicitly_wait(10)</span></span><br><span class="line"><span class="string">    -driver.find_element_by_css_selector()</span></span><br><span class="line"><span class="string">    -只需要写一句话，等待所有要获取的标签</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(driver.page_source)</span><br><span class="line"><span class="comment"># 再找控件，只要没加载成功，就会等待，最多等10s</span></span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure>



<h3 id="元素操作"><a href="#元素操作" class="headerlink" title="元素操作"></a>元素操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 点击，清空，输入操作</span></span><br><span class="line"></span><br><span class="line">input_search=driver.find_element_by_id(<span class="string">&#x27;kw&#x27;</span>)</span><br><span class="line">input_search.send_keys(<span class="string">&#x27;美女&#x27;</span>)  <span class="comment"># 输入</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">input_search.clear() <span class="comment"># 清空</span></span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">input_search.send_keys(<span class="string">&#x27;性感美女&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">btn=driver.find_element_by_id(<span class="string">&#x27;su&#x27;</span>)</span><br><span class="line">btn.click()  <span class="comment"># 点击</span></span><br><span class="line">time.sleep(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure>



<h3 id="执行js"><a href="#执行js" class="headerlink" title="执行js"></a>执行js</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;http://127.0.0.1:8000/&#x27;</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">driver.execute_script(<span class="string">&quot;name=&#x27;egon&#x27;;&quot;</span>) <span class="comment"># 这里面写js代码</span></span><br><span class="line">driver.execute_script(<span class="string">&quot;alert(name)&quot;</span>) <span class="comment"># 这里面写js代码</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># driver.close()</span></span><br></pre></td></tr></table></figure>



<h3 id="切换选项卡"><a href="#切换选项卡" class="headerlink" title="切换选项卡"></a>切换选项卡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser=webdriver.Chrome()</span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">browser.execute_script(<span class="string">&#x27;window.open()&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(browser.window_handles) <span class="comment">#获取所有的选项卡</span></span><br><span class="line"><span class="comment"># browser.switch_to_window(browser.window_handles[1])</span></span><br><span class="line"><span class="comment"># browser.switch_to_window(browser.window_handles[1])</span></span><br><span class="line">browser.switch_to.window(browser.window_handles[<span class="number">1</span>])</span><br><span class="line">browser.get(<span class="string">&#x27;https://www.taobao.com&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># browser.switch_to_window(browser.window_handles[0])</span></span><br><span class="line">browser.switch_to.window(browser.window_handles[<span class="number">0</span>])</span><br><span class="line">browser.get(<span class="string">&#x27;https://www.sina.com.cn&#x27;</span>)</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure>



<h3 id="模拟前进后退"><a href="#模拟前进后退" class="headerlink" title="模拟前进后退"></a>模拟前进后退</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">browser=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">browser.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">browser.get(<span class="string">&#x27;https://www.taobao.com&#x27;</span>)</span><br><span class="line">browser.get(<span class="string">&#x27;http://www.sina.com.cn/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">browser.back()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">browser.forward()</span><br><span class="line">browser.close()</span><br></pre></td></tr></table></figure>



<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> TimeoutException,NoSuchElementException,NoSuchFrameException</span><br><span class="line"></span><br><span class="line">browser = webdriver.Chrome()</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    browser.get(<span class="string">&#x27;http://www.baidu.com&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    browser.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="selenium登录cnblogs获取cookie"><a href="#selenium登录cnblogs获取cookie" class="headerlink" title="selenium登录cnblogs获取cookie"></a>selenium登录cnblogs获取cookie</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#selenium登录cnblogs获取cookie</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> TimeoutException,NoSuchElementException,NoSuchFrameException</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">browser = webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">browser.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">####  登录过程</span></span><br><span class="line"><span class="comment"># try:</span></span><br><span class="line"><span class="comment">#     browser.get(&#x27;http://www.cnblogs.com&#x27;)</span></span><br><span class="line"><span class="comment">#     submit_btn=browser.find_element_by_link_text(&#x27;登录&#x27;)  # a标签的内容</span></span><br><span class="line"><span class="comment">#     submit_btn.click()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     username=browser.find_element_by_id(&#x27;mat-input-0&#x27;)</span></span><br><span class="line"><span class="comment">#     password=browser.find_element_by_id(&#x27;mat-input-1&#x27;)</span></span><br><span class="line"><span class="comment">#     username.send_keys(&#x27;616564099@qq.com&#x27;)</span></span><br><span class="line"><span class="comment">#     password.send_keys(&#x27;1111&#x27;)</span></span><br><span class="line"><span class="comment">#     input(&#x27;等会&#x27;)</span></span><br><span class="line"><span class="comment">#     sub_btn=browser.find_element_by_css_selector(&#x27;body &gt; app-root &gt; mat-sidenav-container &gt; mat-sidenav-content &gt; div &gt; div &gt; app-sign-in &gt; app-content-container &gt; div &gt; div &gt; div &gt; form &gt; div &gt; button &gt; span.mat-button-wrapper&#x27;)</span></span><br><span class="line"><span class="comment">#     sub_btn.click()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # 人工参与，滑动</span></span><br><span class="line"><span class="comment">#     input(&#x27;等会&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # 获取到登录后的cookie</span></span><br><span class="line"><span class="comment">#     print(browser.get_cookies())</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     with open(&#x27;cookie.json&#x27;,&#x27;w&#x27;) as f:</span></span><br><span class="line"><span class="comment">#         json.dump(browser.get_cookies(),f)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># except Exception as e:</span></span><br><span class="line"><span class="comment">#     print(e)</span></span><br><span class="line"><span class="comment"># finally:</span></span><br><span class="line"><span class="comment">#     browser.close()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 不登录了，把cookie写入浏览器</span></span><br><span class="line"><span class="comment"># browser.get(&#x27;http://www.cnblogs.com&#x27;)</span></span><br><span class="line"><span class="comment"># with open(&#x27;cookie.json&#x27;,&#x27;r&#x27;) as f:</span></span><br><span class="line"><span class="comment">#     cookie=json.load(f)</span></span><br><span class="line"><span class="comment"># time.sleep(5)</span></span><br><span class="line"><span class="comment"># for item in cookie:  # 设置cookie必须用字典，cookie的json文件是列表，所以用循环往里放</span></span><br><span class="line"><span class="comment">#     browser.add_cookie(item)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># browser.refresh()  # 刷新页面</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># time.sleep(5)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># browser.close()</span></span><br></pre></td></tr></table></figure>



<h3 id="抽屉半自动点赞"><a href="#抽屉半自动点赞" class="headerlink" title="抽屉半自动点赞"></a>抽屉半自动点赞</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#### 登录过程</span></span><br><span class="line"><span class="comment"># bro=webdriver.Chrome(executable_path=&#x27;chromedriver.exe&#x27;)</span></span><br><span class="line"><span class="comment"># bro.implicitly_wait(10)</span></span><br><span class="line"><span class="comment"># bro.get(&#x27;https://dig.chouti.com/&#x27;)</span></span><br><span class="line"><span class="comment"># try:</span></span><br><span class="line"><span class="comment">#     sub_btn=bro.find_element_by_id(&#x27;login_btn&#x27;)</span></span><br><span class="line"><span class="comment">#     print(sub_btn)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # sub_btn.click()  # 报错</span></span><br><span class="line"><span class="comment">#     bro.execute_script(&#x27;arguments[0].click();&#x27;,sub_btn)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # username=bro.find_element_by_css_selector(&#x27;body &gt; div.login-dialog.dialog.animated2.scaleIn &gt; div &gt; div.login-body &gt; div.form-item.login-item.clearfix.phone-item.mt24 &gt; div.input-item.input-item-short.left.clearfix &gt; input&#x27;)</span></span><br><span class="line"><span class="comment">#     username=bro.find_element_by_css_selector(&#x27;div.input-item&gt;input.login-phone&#x27;)</span></span><br><span class="line"><span class="comment">#     username.send_keys(&#x27;18953675221&#x27;)</span></span><br><span class="line"><span class="comment">#     # password=bro.find_element_by_css_selector(&#x27;body &gt; div.login-dialog.dialog.animated2.scaleIn &gt; div &gt; div.login-footer &gt; div.form-item.login-item.clearfix.mt24 &gt; div&#x27;)</span></span><br><span class="line"><span class="comment">#     password = bro.find_element_by_css_selector(&#x27;div.input-item&gt;input.pwd-password-input&#x27;)</span></span><br><span class="line"><span class="comment">#     password.send_keys(&#x27;lqz123&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     time.sleep(3)</span></span><br><span class="line"><span class="comment">#     btn=bro.find_element_by_css_selector(&#x27;body &gt; div.login-dialog.dialog.animated2.scaleIn &gt; div &gt; div.login-footer &gt; div:nth-child(4) &gt; button&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     btn.click()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     input(&#x27;等&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     with open(&#x27;chouti.json&#x27;,&#x27;w&#x27;) as f:</span></span><br><span class="line"><span class="comment">#         json.dump(bro.get_cookies(),f)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># finally:</span></span><br><span class="line"><span class="comment">#     bro.close()</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">bro=webdriver.Chrome(executable_path=<span class="string">&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">bro.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">bro.get(<span class="string">&#x27;https://dig.chouti.com/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把屏幕滑倒最底下</span></span><br><span class="line">bro.execute_script(<span class="string">&#x27;window.scrollTo(0, document.body.scrollHeight);&#x27;</span>)</span><br><span class="line"><span class="comment"># bro.find_elements_by_css_selector(&#x27;.link-item&#x27;)</span></span><br><span class="line">cookie=&#123;&#125;</span><br><span class="line"><span class="comment">##从文件中读出cookie</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;chouti.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    res=json.load(f)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> res:</span><br><span class="line">    cookie[item[<span class="string">&#x27;name&#x27;</span>]]=item[<span class="string">&#x27;value&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cookie) <span class="comment"># requests能够使用的cookie</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">div= bro.find_element_by_class_name(<span class="string">&#x27;link-con&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">header=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">div_list=div.find_elements_by_class_name(<span class="string">&#x27;link-item&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">    article_id=div.get_attribute(<span class="string">&#x27;data-id&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(article_id)</span><br><span class="line">    <span class="comment"># 使用requests发送请求</span></span><br><span class="line">    res=requests.post(<span class="string">&#x27;https://dig.chouti.com/link/vote&#x27;</span>,data=&#123;<span class="string">&#x27;linkId&#x27;</span>: article_id&#125;,cookies=cookie,headers=header)</span><br><span class="line">    <span class="built_in">print</span>(res.text)</span><br><span class="line">bro.close()</span><br></pre></td></tr></table></figure>



<h3 id="打码平台使用"><a href="#打码平台使用" class="headerlink" title="打码平台使用"></a>打码平台使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 人工破解</span></span><br><span class="line"><span class="comment"># 图像识别模块---》数字，字母组合</span></span><br><span class="line"><span class="comment"># 验证码破解平台---》云打码，超级鹰</span></span><br><span class="line">	-给它一张图片---》结果返回   （收费的）</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chaojiying_Client</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, username, password, soft_id</span>):</span></span><br><span class="line">        self.username = username</span><br><span class="line">        password = password.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        self.password = md5(password).hexdigest()</span><br><span class="line">        self.soft_id = soft_id</span><br><span class="line">        self.base_params = &#123;</span><br><span class="line">            <span class="string">&#x27;user&#x27;</span>: self.username,</span><br><span class="line">            <span class="string">&#x27;pass2&#x27;</span>: self.password,</span><br><span class="line">            <span class="string">&#x27;softid&#x27;</span>: self.soft_id,</span><br><span class="line">        &#125;</span><br><span class="line">        self.headers = &#123;</span><br><span class="line">            <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;Keep-Alive&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PostPic</span>(<span class="params">self, im, codetype</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        im: 图片字节</span></span><br><span class="line"><span class="string">        codetype: 题目类型 参考 http://www.chaojiying.com/price.html</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;codetype&#x27;</span>: codetype,</span><br><span class="line">        &#125;</span><br><span class="line">        params.update(self.base_params)</span><br><span class="line">        files = &#123;<span class="string">&#x27;userfile&#x27;</span>: (<span class="string">&#x27;ccc.jpg&#x27;</span>, im)&#125;</span><br><span class="line">        r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/Processing.php&#x27;</span>, data=params, files=files,</span><br><span class="line">                          headers=self.headers)</span><br><span class="line">        <span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReportError</span>(<span class="params">self, im_id</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        im_id:报错题目的图片ID</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>: im_id,</span><br><span class="line">        &#125;</span><br><span class="line">        params.update(self.base_params)</span><br><span class="line">        r = requests.post(<span class="string">&#x27;http://upload.chaojiying.net/Upload/ReportError.php&#x27;</span>, data=params, headers=self.headers)</span><br><span class="line">        <span class="keyword">return</span> r.json()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    chaojiying = Chaojiying_Client(<span class="string">&#x27;306334678&#x27;</span>, <span class="string">&#x27;lqz12345&#x27;</span>, <span class="string">&#x27;903641&#x27;</span>)  <span class="comment"># 用户中心&gt;&gt;软件ID 生成一个替换 96001</span></span><br><span class="line">    im = <span class="built_in">open</span>(<span class="string">&#x27;a.jpg&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()  <span class="comment"># 本地图片文件路径 来替换 a.jpg 有时WIN系统须要//</span></span><br><span class="line">    <span class="built_in">print</span>(chaojiying.PostPic(im, <span class="number">1902</span>))  <span class="comment"># 1902 验证码类型  官方网站&gt;&gt;价格体系 3.4+版 print 后要加()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="xpath使用"><a href="#xpath使用" class="headerlink" title="xpath使用"></a>xpath使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 一门在html中查找数据的语言</span><br><span class="line"><span class="number">2</span> 记住的语法：</span><br><span class="line">	/   取当前路径下的xx   </span><br><span class="line">    //  取所有路径下的xx   </span><br><span class="line">    .   当前路径    </span><br><span class="line">    ..   上一层</span><br><span class="line"><span class="meta">	@    取属性</span></span><br><span class="line">    </span><br><span class="line"><span class="number">4</span> lxml解析模块提供的xpath</span><br><span class="line">doc=<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string"> &lt;head&gt;</span></span><br><span class="line"><span class="string">  &lt;base href=&#x27;http://example.com/&#x27; /&gt;</span></span><br><span class="line"><span class="string">  &lt;title&gt;Example website&lt;/title&gt;</span></span><br><span class="line"><span class="string"> &lt;/head&gt;</span></span><br><span class="line"><span class="string"> &lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div id=&#x27;images&#x27;&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image1.html&#x27; name=&#x27;sss&#x27;&gt;Name: My image 1 &lt;br /&gt;&lt;img src=&#x27;image1_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image2.html&#x27; name=&#x27;lqz&#x27;&gt;Name: My image 2 &lt;br /&gt;&lt;img src=&#x27;image2_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image3.html&#x27;&gt;Name: My image 3 &lt;br /&gt;&lt;img src=&#x27;image3_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image4.html&#x27; class=&#x27;li&#x27;&gt;Name: My image 4 &lt;br /&gt;&lt;img src=&#x27;image4_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image5.html&#x27; class=&#x27;li li-item&#x27; name=&#x27;items&#x27;&gt;Name: My image 5 &lt;br /&gt;&lt;img src=&#x27;image5_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">   &lt;a href=&#x27;image6.html&#x27; name=&#x27;items&#x27;&gt;&lt;span&gt;&lt;h5&gt;test&lt;/h5&gt;&lt;/span&gt;Name: My image 6 &lt;br /&gt;&lt;img src=&#x27;image6_thumb.jpg&#x27; /&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string"> &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="comment"># 传入要解析的内容</span></span><br><span class="line">html=etree.HTML(doc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># res=html.xpath(&#x27;//body&#x27;)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 所有节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//*&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2 指定节点（结果为列表）</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//head&#x27;)</span></span><br><span class="line"><span class="comment"># 3 子节点，子孙节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//div/a&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a&#x27;) #无数据</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a&#x27;)</span></span><br><span class="line"><span class="comment"># 4 父节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[@href=&quot;image1.html&quot;]/..&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[@href=&quot;image1.html&quot;]&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[1]/..&#x27;)</span></span><br><span class="line"><span class="comment"># 也可以这样</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[1]/parent::*&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[1]/parent::p&#x27;)</span></span><br><span class="line"><span class="comment"># 5 属性匹配</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[@href=&quot;image1.html&quot;]&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[@name=&quot;sss&quot;]&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 文本获取  text()</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[@href=&quot;image1.html&quot;]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a/text()&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 属性获取</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a/@href&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/@name&#x27;)</span></span><br><span class="line"><span class="comment"># # 注意从1 开始取（不是从0）</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[2]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># 8 属性多值匹配</span></span><br><span class="line"><span class="comment">#  a 标签有多个class类，直接匹配就不可以了，需要用contains</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[@class=&quot;li&quot;]&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[contains(@class,&quot;li&quot;)]&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[contains(@class,&quot;li&quot;)]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># 9 多属性匹配</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[contains(@class,&quot;li&quot;) or @name=&quot;items&quot;]&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[contains(@class,&quot;li&quot;) and @name=&quot;items&quot;]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//body//a[contains(@class,&quot;li&quot;)]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># 10 按序选择</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[2]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[2]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[2]/@name&#x27;)</span></span><br><span class="line"><span class="comment"># 取最后一个</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[last()]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># 位置小于3的</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[position()&lt;3]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># 倒数第二个</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[last()-2]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># 11 节点轴选择</span></span><br><span class="line"><span class="comment"># ancestor：祖先节点</span></span><br><span class="line"><span class="comment"># 使用了* 获取所有祖先节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a/ancestor::*&#x27;)</span></span><br><span class="line"><span class="comment"># # 获取祖先节点中的div</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a/ancestor::div&#x27;)</span></span><br><span class="line"><span class="comment"># attribute：属性值</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/attribute::*&#x27;)</span></span><br><span class="line"><span class="comment"># child：直接子节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/child::*&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/child::img/@src&#x27;)</span></span><br><span class="line"><span class="comment"># descendant：所有子孙节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[6]/descendant::*&#x27;)</span></span><br><span class="line"><span class="comment"># following:当前节点之后所有节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following::*&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following::*[1]/@href&#x27;)</span></span><br><span class="line"><span class="comment"># following-sibling:当前节点之后同级节点</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following-sibling::*&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following-sibling::a&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following-sibling::*[2]/text()&#x27;)</span></span><br><span class="line"><span class="comment"># a=html.xpath(&#x27;//a[1]/following-sibling::*[2]/@href&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>



<h3 id="自动登录12306"><a href="#自动登录12306" class="headerlink" title="自动登录12306"></a>自动登录12306</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> chaojiying <span class="keyword">import</span> Chaojiying_Client</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不让程序检测出是用驱动控制</span></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line">options = Options()</span><br><span class="line">options.add_argument(<span class="string">&quot;--disable-blink-features=AutomationControlled&quot;</span>)</span><br><span class="line">bro=webdriver.Chrome(executable_path=<span class="string">&#x27;./chromedriver.exe&#x27;</span>,chrome_options=options)</span><br><span class="line"></span><br><span class="line">bro.get(<span class="string">&#x27;https://kyfw.12306.cn/otn/resources/login.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line">bro.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 把窗口设置全屏</span></span><br><span class="line">bro.maximize_window()</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    username_login_btn=bro.find_element_by_css_selector(<span class="string">&#x27;.login-hd-account&gt;a&#x27;</span>)</span><br><span class="line">    username_login_btn.click()</span><br><span class="line"></span><br><span class="line">    username=bro.find_element_by_id(<span class="string">&#x27;J-userName&#x27;</span>)</span><br><span class="line">    password=bro.find_element_by_id(<span class="string">&#x27;J-password&#x27;</span>)</span><br><span class="line">    login_btn=bro.find_element_by_id(<span class="string">&#x27;J-login&#x27;</span>)</span><br><span class="line">    username.send_keys(<span class="string">&#x27;liuqingzheng&#x27;</span>)</span><br><span class="line">    password.send_keys(<span class="string">&#x27;lqz12345&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    img_code=bro.find_element_by_id(<span class="string">&#x27;J-loginImg&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(img_code.size)</span><br><span class="line">    <span class="built_in">print</span>(img_code.location)</span><br><span class="line">    <span class="comment"># 获取验证码图片的两种方案</span></span><br><span class="line">    <span class="comment"># 方案一：整体截图，根据位置抠出验证码图片</span></span><br><span class="line">    <span class="comment"># bro.save_screenshot(&#x27;main.png&#x27;) # 对整个页面进行截图，main.png</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># location=img_code.location</span></span><br><span class="line">    <span class="comment"># size=img_code.size</span></span><br><span class="line">    <span class="comment"># print(location)</span></span><br><span class="line">    <span class="comment"># print(size)</span></span><br><span class="line">    <span class="comment"># #验证码的坐标</span></span><br><span class="line">    <span class="comment"># img_tu = (int(location[&#x27;x&#x27;]), int(location[&#x27;y&#x27;]), int(location[&#x27;x&#x27;] + size[&#x27;width&#x27;]), int(location[&#x27;y&#x27;] + size[&#x27;height&#x27;]))</span></span><br><span class="line">    <span class="comment"># #使用pillow打开截图</span></span><br><span class="line">    <span class="comment"># img=Image.open(&#x27;./main.png&#x27;)</span></span><br><span class="line">    <span class="comment"># #从截图中按照位置扣除验证码</span></span><br><span class="line">    <span class="comment"># code_img=img.crop(img_tu)</span></span><br><span class="line">    <span class="comment"># # 把扣出来的图，保存到本地</span></span><br><span class="line">    <span class="comment"># code_img.save(&#x27;./code2.png&#x27;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 方案二：把图片的base64编码转成图片保存到本地</span></span><br><span class="line">    img_base64=img_code.get_attribute(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    img_base64_real=img_base64.split(<span class="string">&#x27;,&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    img_1=base64.b64decode(img_base64_real)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;code.jpg&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(img_1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用超级鹰，完成验证码破解</span></span><br><span class="line">    <span class="comment"># 调用超级鹰识别</span></span><br><span class="line">    chaojiying = Chaojiying_Client(<span class="string">&#x27;306334678&#x27;</span>, <span class="string">&#x27;lqz12345&#x27;</span>, <span class="string">&#x27;903641&#x27;</span>)  <span class="comment"># 用户中心&gt;&gt;软件ID 生成一个替换 96001</span></span><br><span class="line">    im = <span class="built_in">open</span>(<span class="string">&#x27;code.jpg&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>).read()  <span class="comment"># 本地图片文件路径 来替换 a.jpg 有时WIN系统须要//</span></span><br><span class="line">    res=chaojiying.PostPic(im, <span class="number">9004</span>)  <span class="comment"># 1902 验证码类型  官方网站&gt;&gt;价格体系 3.4+版 print 后要加()</span></span><br><span class="line">    <span class="comment"># 123,155|42,135|11,77----&gt;[[123,155],[42,135],[11,77]]</span></span><br><span class="line">    <span class="built_in">print</span>(res)</span><br><span class="line">    result=res[<span class="string">&#x27;pic_str&#x27;</span>]</span><br><span class="line">    all_list = []</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;|&#x27;</span> <span class="keyword">in</span> result:</span><br><span class="line">        list_1 = result.split(<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line">        count_1 = <span class="built_in">len</span>(list_1)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(count_1):</span><br><span class="line">            xy_list = []</span><br><span class="line">            x = <span class="built_in">int</span>(list_1[i].split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">            y = <span class="built_in">int</span>(list_1[i].split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">            xy_list.append(x)</span><br><span class="line">            xy_list.append(y)</span><br><span class="line">            all_list.append(xy_list)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x = <span class="built_in">int</span>(result.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">        y = <span class="built_in">int</span>(result.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">        xy_list = []</span><br><span class="line">        xy_list.append(x)</span><br><span class="line">        xy_list.append(y)</span><br><span class="line">        all_list.append(xy_list)</span><br><span class="line">    <span class="built_in">print</span>(all_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">### 在页面中点击破解的图案</span></span><br><span class="line">    <span class="comment">#点击  [[123,155],[42,135],[11,77]]</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> all_list:</span><br><span class="line">        ActionChains(bro).move_to_element_with_offset(img_code,item[<span class="number">0</span>],item[<span class="number">1</span>]).click().perform()</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">5</span>)</span><br><span class="line">    login_btn.click()</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 滑动滑块</span></span><br><span class="line">    span=bro.find_element_by_id(<span class="string">&#x27;nc_1_n1z&#x27;</span>)</span><br><span class="line">    ActionChains(bro).drag_and_drop_by_offset(span, <span class="number">300</span>, <span class="number">0</span>).perform()</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(bro.get_cookies())</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    bro.close()</span><br><span class="line">    bro.quit()  <span class="comment"># 关闭整个浏览器</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/12/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/12/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/" class="post-title-link" itemprop="url">项目上线</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-12 07:20:25" itemprop="dateCreated datePublished" datetime="2021-06-12T07:20:25+08:00">2021-06-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-01 12:22:34" itemprop="dateModified" datetime="2021-07-01T12:22:34+08:00">2021-07-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">杂七杂八系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="项目上线-裸机"><a href="#项目上线-裸机" class="headerlink" title="项目上线(裸机)"></a>项目上线(裸机)</h1><h2 id="项目部署架构"><a href="#项目部署架构" class="headerlink" title="项目部署架构"></a>项目部署架构</h2><p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210804191237777.png" alt="image-20210804191237777"></p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><ul>
<li>kvm</li>
<li>vmare</li>
<li>OpenStack</li>
<li>docker</li>
<li>k8s</li>
</ul>
<h2 id="云服务器安装mysql"><a href="#云服务器安装mysql" class="headerlink" title="云服务器安装mysql"></a>云服务器安装mysql</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">yum update -y  <span class="comment">#更新软件包</span></span><br><span class="line">yum -y groupinstall <span class="string">&quot;Development tools&quot;</span>   <span class="comment"># 装一个开发工具包（开发相关的一些软件，git）</span></span><br><span class="line">yum install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel psmisc libffi-devel zlib* libffi-devel  <span class="comment"># 依赖，</span></span><br><span class="line">git   <span class="comment">#验证git装完</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>）前往用户根目录</span><br><span class="line">&gt;: cd ~</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）下载mysql57</span><br><span class="line">&gt;: wget http://dev.mysql.com/get/mysql57-community-release-el7-<span class="number">10.</span>noarch.rpm</span><br><span class="line"></span><br><span class="line">也可以本地上传，这条命令要在本地终端上执行</span><br><span class="line">&gt;: scp  .\mysql57-community-release-el7-<span class="number">10.</span>noarch.rpm root@<span class="number">106.14</span><span class="number">.137</span><span class="number">.210</span>:/root</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）安装mysql57</span><br><span class="line">&gt;: yum -y install mysql57-community-release-el7-<span class="number">10.</span>noarch.rpm</span><br><span class="line">&gt;: yum -y install mysql-community-server</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>）启动mysql57并查看启动状态</span><br><span class="line">&gt;: systemctl start mysqld.service</span><br><span class="line">&gt;: systemctl status mysqld.service</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>）查看默认密码并登录</span><br><span class="line">&gt;: grep <span class="string">&quot;password&quot;</span> /var/log/mysqld.log</span><br><span class="line">    xdjj(/qgj0A4</span><br><span class="line">    </span><br><span class="line">&gt;: mysql -uroot -p</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>）修改密码</span><br><span class="line">&gt;: ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;new password&#x27;</span>;</span><br><span class="line">&gt;: ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;Jerry123?&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h2 id="云服务器安装redis"><a href="#云服务器安装redis" class="headerlink" title="云服务器安装redis"></a>云服务器安装redis</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）前往用户根目录</span><br><span class="line">&gt;: cd ~</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）下载redis-<span class="number">5.0</span><span class="number">.5</span></span><br><span class="line">&gt;: wget http://download.redis.io/releases/redis-<span class="number">5.0</span><span class="number">.5</span>.tar.gz  <span class="comment">#源码包，c语言源码</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）解压安装包</span><br><span class="line">&gt;: tar -xf redis-<span class="number">5.0</span><span class="number">.5</span>.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>）进入目标文件</span><br><span class="line">&gt;: cd redis-<span class="number">5.0</span><span class="number">.5</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>）编译环境</span><br><span class="line">&gt;: make</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>）复制环境到指定路径完成安装</span><br><span class="line">&gt;: cp -r ~/redis-<span class="number">5.0</span><span class="number">.5</span> /usr/local/redis</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>）配置redis可以后台启动：修改下方内容</span><br><span class="line">&gt;: vim /usr/local/redis/redis.conf</span><br><span class="line"></span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>）完成配置修改</span><br><span class="line">&gt;: esc</span><br><span class="line">&gt;: :wq</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>）建立软连接</span><br><span class="line">&gt;: ln -s /usr/local/redis/src/redis-server /usr/<span class="built_in">bin</span>/redis-server</span><br><span class="line">&gt;: ln -s /usr/local/redis/src/redis-cli /usr/<span class="built_in">bin</span>/redis-cli</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>）后台运行redis</span><br><span class="line">&gt;: cd /usr/local/redis</span><br><span class="line">&gt;: redis-server ./redis.conf &amp;</span><br><span class="line"></span><br><span class="line">ctrl + c</span><br><span class="line"></span><br><span class="line"><span class="number">11</span>）测试redis环境</span><br><span class="line">&gt;: redis-cli</span><br><span class="line">ctrl + c</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>）关闭redis服务</span><br><span class="line">&gt;: pkill -f redis -<span class="number">9</span></span><br></pre></td></tr></table></figure>



<h2 id="云服务器安装nginx"><a href="#云服务器安装nginx" class="headerlink" title="云服务器安装nginx"></a>云服务器安装nginx</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）前往用户根目录</span><br><span class="line">&gt;: cd ~</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）下载nginx1<span class="number">.13</span><span class="number">.7</span></span><br><span class="line">&gt;: wget http://nginx.org/download/nginx-<span class="number">1.13</span><span class="number">.7</span>.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）解压安装包</span><br><span class="line">&gt;: tar -xf nginx-<span class="number">1.13</span><span class="number">.7</span>.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>）进入目标文件</span><br><span class="line">&gt;: cd nginx-<span class="number">1.13</span><span class="number">.7</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>）配置安装路径：/usr/local/nginx</span><br><span class="line">&gt;: ./configure --prefix=/usr/local/nginx</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>）编译并安装</span><br><span class="line">&gt;: make &amp;&amp; sudo make install</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>）建立软连接：终端命令 nginx</span><br><span class="line">&gt;: ln -s /usr/local/nginx/sbin/nginx /usr/<span class="built_in">bin</span>/nginx</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>）删除安装包与文件：</span><br><span class="line">&gt;: cd ~</span><br><span class="line">&gt;: rm -rf nginx-<span class="number">1.13</span><span class="number">.7</span></span><br><span class="line">&gt;: rm -rf nginx-<span class="number">1.13</span><span class="number">.7</span>.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>）测试Nginx环境，服务器运行nginx，本地访问服务器ip</span><br><span class="line">&gt;: nginx</span><br><span class="line">&gt;: 服务器绑定的域名 或 ip:<span class="number">80</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="comment"># 命令</span></span><br><span class="line"><span class="number">1</span>）启动</span><br><span class="line">&gt;: nginx</span><br><span class="line"><span class="number">2</span>）关闭nginx</span><br><span class="line">&gt;: nginx -s stop</span><br><span class="line"><span class="number">3</span>）重启nginx</span><br><span class="line">&gt;: nginx -s reload</span><br><span class="line"><span class="number">4</span>）查看端口，强行关闭</span><br><span class="line">&gt;: ps -aux|grep nginx</span><br><span class="line">&gt;: kill &lt;pid:进程编号&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="安装python"><a href="#安装python" class="headerlink" title="安装python"></a>安装python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）前往用户根目录</span><br><span class="line">&gt;: cd ~</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）下载 或 上传 Python3<span class="number">.7</span><span class="number">.7</span></span><br><span class="line"><span class="comment"># 服务器终端</span></span><br><span class="line">&gt;: wget https://www.python.org/ftp/python/<span class="number">3.7</span><span class="number">.7</span>/Python-<span class="number">3.7</span><span class="number">.7</span>.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）解压安装包</span><br><span class="line">&gt;: tar -xf Python-<span class="number">3.7</span><span class="number">.7</span>.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>）进入目标文件</span><br><span class="line">&gt;: cd Python-<span class="number">3.7</span><span class="number">.7</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>）配置安装路径：/usr/local/python3</span><br><span class="line">&gt;: ./configure --prefix=/usr/local/python3<span class="number">.7</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>）编译并安装</span><br><span class="line">	yum -y install zlib*</span><br><span class="line">    yum install libffi-devel </span><br><span class="line">&gt;: make &amp;&amp; sudo make install  <span class="comment"># 把报错复制到百度里</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="number">7</span>）建立软连接：终端命令 python3，pip3</span><br><span class="line">&gt;: ln -s /usr/local/python3<span class="number">.7</span>/<span class="built_in">bin</span>/python3<span class="number">.7</span> /usr/<span class="built_in">bin</span>/python3<span class="number">.7</span></span><br><span class="line">&gt;: ln -s /usr/local/python3<span class="number">.7</span>/<span class="built_in">bin</span>/pip3<span class="number">.7</span> /usr/<span class="built_in">bin</span>/pip3<span class="number">.7</span></span><br><span class="line"></span><br><span class="line"><span class="number">8</span>）删除安装包与文件：</span><br><span class="line">&gt;: rm -rf Python-<span class="number">3.7</span><span class="number">.7</span></span><br><span class="line">&gt;: rm -rf Python-<span class="number">3.7</span><span class="number">.7</span>.tar.xz</span><br></pre></td></tr></table></figure>



<h2 id="安装uwsgi"><a href="#安装uwsgi" class="headerlink" title="安装uwsgi"></a>安装uwsgi</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cgi,uwsgi...名词解释：http://www.liuqingzheng.top/article/1/05-CGI,FastCGI,WSGI,uWSGI,uwsgi%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装uwsgi（不使用咱们装的解释器环境，使用阿里云内置的3.6.8）</span></span><br><span class="line">pip3<span class="number">.7</span> install uwsgi</span><br><span class="line">在任意路径下执行uwsgi会发现命令存在，这就可以了</span><br><span class="line">ln -s /usr/local/python3<span class="number">.7</span>/<span class="built_in">bin</span>/uwsgi /usr/<span class="built_in">bin</span>/uwsgi</span><br></pre></td></tr></table></figure>



<h2 id="配置虚拟环境"><a href="#配置虚拟环境" class="headerlink" title="配置虚拟环境"></a>配置虚拟环境</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）安装依赖</span><br><span class="line">&gt;: pip3<span class="number">.7</span> install virtualenv</span><br><span class="line">&gt;: pip3<span class="number">.7</span> install virtualenvwrapper</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有问题</span></span><br><span class="line">pip3<span class="number">.7</span> install --upgrade setuptools</span><br><span class="line">python3<span class="number">.7</span> -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>）建立虚拟环境软连接（使用内置的python3<span class="number">.6</span> 不需要加）</span><br><span class="line">&gt;: ln -s /usr/local/python3<span class="number">.7</span>/<span class="built_in">bin</span>/virtualenv /usr/<span class="built_in">bin</span>/virtualenv</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）配置虚拟环境：填入下方内容</span><br><span class="line">&gt;: vim ~/.bash_profile</span><br><span class="line"></span><br><span class="line">VIRTUALENVWRAPPER_PYTHON=/usr/<span class="built_in">bin</span>/python3<span class="number">.7</span></span><br><span class="line">source /usr/<span class="built_in">bin</span>/virtualenvwrapper.sh</span><br><span class="line"><span class="number">4</span>）退出编辑状态</span><br><span class="line">&gt;: esc</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>）保存修改并退出</span><br><span class="line">&gt;: :wq</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>）更新配置文件内容</span><br><span class="line">&gt;: source ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>）虚拟环境默认根目录：~/.virtualenvs</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>）创建虚拟环境</span><br><span class="line"> mkvirtualenv luffy</span><br><span class="line"> workon luffy</span><br></pre></td></tr></table></figure>



<h2 id="前端项目部署"><a href="#前端项目部署" class="headerlink" title="前端项目部署"></a>前端项目部署</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改服务端地址</span></span><br><span class="line">base_url: <span class="string">&#x27;http://106.14.137.210:8000&#x27;</span>,  // 真实环境：django项目就是跑在<span class="number">8000</span>端口上的</span><br><span class="line"><span class="comment"># 编译</span></span><br><span class="line">cnpm run build</span><br><span class="line">压缩成<span class="built_in">zip</span>，拖到服务器上去</span><br><span class="line"><span class="comment"># 在服务端安装</span></span><br><span class="line">yum install unzip</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">unzip dist.<span class="built_in">zip</span> </span><br><span class="line">mkdir /home/html</span><br><span class="line">mv ~/dist /home/html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用nginx代理静态文件</span></span><br><span class="line">cd /usr/local/nginx/conf</span><br><span class="line"><span class="comment"># nginx.conf 配置文件是nginx的配置文件</span></span><br><span class="line"><span class="comment">#去向Nginx配置目录，备份配置，完全更新配置：填入下方内容</span></span><br><span class="line">&gt;: cd /usr/local/nginx/conf</span><br><span class="line">&gt;: mv nginx.conf nginx.conf.bak</span><br><span class="line">&gt;: vim nginx.conf</span><br><span class="line">&gt;: i</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">80</span>;</span><br><span class="line">        server_name  <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>; <span class="comment"># 改为自己的域名，没域名修改为127.0.0.1:80</span></span><br><span class="line">        charset utf-<span class="number">8</span>;</span><br><span class="line">        location / &#123;</span><br><span class="line">            root /home/html; <span class="comment"># html访问路径</span></span><br><span class="line">            index index.html; <span class="comment"># html文件名称</span></span><br><span class="line">            try_files $uri $uri/ /index.html; <span class="comment"># 解决单页面应用刷新404问题</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出</span></span><br><span class="line">&gt;: esc</span><br><span class="line">&gt;: :wq</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启nginx</span></span><br><span class="line">&gt;: nginx -s reload</span><br></pre></td></tr></table></figure>



<h2 id="后端项目部署"><a href="#后端项目部署" class="headerlink" title="后端项目部署"></a>后端项目部署</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1  把dev.py复制到pro.py中，相应的做修改（数据库。。。）</span></span><br><span class="line"><span class="comment">#2 新建一个manage_pro.py 指定配置文件为pro.py，以后迁移数据库，要迁移到pro.py配置的数据库中</span></span><br><span class="line"><span class="comment">#3 确认好wsgi.py，配置文件是不是pro.py</span></span><br><span class="line"><span class="comment">#4 导出项目依赖（在项目根路径下就会产生req.txt这是项目所有的依赖）</span></span><br><span class="line">pip3 freeze &gt; req.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 把所有更改提交到git远端</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 6 在服务器上把代码拉下来</span></span><br><span class="line">  mkdir /home/project</span><br><span class="line">  cd /home/project</span><br><span class="line">  git clone https://gitee.com/liuqingzheng/luffy_api.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7 使用uwsgi启动django</span></span><br><span class="line"><span class="comment"># 在项目根路径，新建uwsgi的配置文件luffy.xml</span></span><br><span class="line">&lt;uwsgi&gt;    </span><br><span class="line">   &lt;socket&gt;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8888</span>&lt;/socket&gt;</span><br><span class="line">   &lt;chdir&gt;/home/project/luffy_api/&lt;/chdir&gt;         </span><br><span class="line">   &lt;module&gt;luffy_api.wsgi&lt;/module&gt;</span><br><span class="line">   &lt;processes&gt;<span class="number">4</span>&lt;/processes&gt;</span><br><span class="line">   &lt;daemonize&gt;uwsgi.log&lt;/daemonize&gt;</span><br><span class="line">&lt;/uwsgi&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 8 配置nginx 转发动态请求(加一个server)</span></span><br><span class="line">&gt;: </span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">80</span>;</span><br><span class="line">        server_name  <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>; <span class="comment"># 改为自己的域名，没域名修改为127.0.0.1:80</span></span><br><span class="line">        charset utf-<span class="number">8</span>;</span><br><span class="line">        location / &#123;</span><br><span class="line">            root /home/html; <span class="comment"># html访问路径</span></span><br><span class="line">            index index.html; <span class="comment"># html文件名称</span></span><br><span class="line">            try_files $uri $uri/ /index.html; <span class="comment"># 解决单页面应用刷新404问题</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># 新增的server</span></span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">8000</span>;</span><br><span class="line">        server_name  <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>; <span class="comment"># 改为自己的域名，没域名修改为127.0.0.1:80</span></span><br><span class="line">        charset utf-<span class="number">8</span>;</span><br><span class="line">        location / &#123;</span><br><span class="line">           include uwsgi_params;</span><br><span class="line">           uwsgi_pass <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8888</span>;  <span class="comment"># 端口要和uwsgi里配置的一样</span></span><br><span class="line">           uwsgi_param UWSGI_SCRIPT luffy_api.wsgi;  <span class="comment">#wsgi.py所在的目录名+.wsgi</span></span><br><span class="line">           uwsgi_param UWSGI_CHDIR /home/project/luffy_api/; <span class="comment"># 项目路径</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 9 创建luffy库，新建lqz用户</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>）管理员连接数据库</span><br><span class="line">&gt;: mysql -uroot -Jerry123?</span><br><span class="line"><span class="number">2</span>）创建数据库</span><br><span class="line">&gt;: create database imooc default charset=utf8mb4;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>）设置权限账号密码：账号密码要与项目中配置的一致</span><br><span class="line">&gt;: grant <span class="built_in">all</span> privileges on imooc.* to <span class="string">&#x27;cjt&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;Jerry123?&#x27;</span>;</span><br><span class="line">&gt;: grant <span class="built_in">all</span> privileges on imooc.* to <span class="string">&#x27;cjt&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified by <span class="string">&#x27;Jerry123?&#x27;</span>;</span><br><span class="line">&gt;: flush privileges;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>）退出mysql</span><br><span class="line">&gt;: quit;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"> <span class="comment">#### 注意：动态设置linux环境变量</span></span><br><span class="line">	export DB_PASSWORD=Lqz12345?</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># 10 进入虚拟环境，安装依赖</span></span><br><span class="line"><span class="comment"># mysqlclient</span></span><br><span class="line">workon luffy</span><br><span class="line">pip install -r req.txt   <span class="comment"># 如果报错，相应解决报错</span></span><br><span class="line">pip install uwsgi        <span class="comment"># 正式环境中，虚拟环境也要装</span></span><br><span class="line"><span class="comment"># 11 迁移数据库</span></span><br><span class="line"><span class="comment"># 必须在luffy虚拟环境下</span></span><br><span class="line">python manage_pro.py migrate</span><br><span class="line"><span class="comment"># 创建超级用户</span></span><br><span class="line">python manage_pro.py createsuperuser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 12 启动uwsgi</span></span><br><span class="line">uwsgi -x ./imooc.xml</span><br><span class="line">ps aux |grep uwsgi</span><br><span class="line"></span><br><span class="line"><span class="comment"># 13 启动nginx</span></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 14 收集静态文件</span></span><br><span class="line">mkdir /home/project/luffy/luffy_api/static</span><br><span class="line"><span class="comment"># 修改配置文件</span></span><br><span class="line">STATIC_URL = <span class="string">&#x27;/static/&#x27;</span></span><br><span class="line">STATIC_ROOT = <span class="string">&#x27;/home/project/luffy/luffy_api/static&#x27;</span>  </span><br><span class="line">STATICFILES_DIRS = (os.path.join(BASE_DIR, <span class="string">&quot;static&quot;</span>),)</span><br><span class="line">python ./manage_pro.py collectstatic  <span class="comment"># 前后端混合项目，用于收集静态资源</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 15 使用nginx代理静态文件</span></span><br><span class="line"><span class="comment"># 新增的配置静态文件</span></span><br><span class="line">        location /static &#123;</span><br><span class="line">            alias /home/project/luffy/luffy_api/static;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 16 把测试数据导入</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 17 申请域名，备案</span></span><br><span class="line">把域名指向我们服务器的地址即可</span><br></pre></td></tr></table></figure>



<h1 id="docker-compose一键部署"><a href="#docker-compose一键部署" class="headerlink" title="docker-compose一键部署"></a>docker-compose一键部署</h1><h2 id="安装-更新依赖包"><a href="#安装-更新依赖包" class="headerlink" title="安装/更新依赖包"></a>安装/更新依赖包</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum update -y  <span class="comment">#更新软件包</span></span><br><span class="line">yum -y groupinstall <span class="string">&quot;Development tools&quot;</span>   <span class="comment"># 装一个开发工具包（开发相关的一些软件，git）</span></span><br><span class="line">yum install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel psmisc libffi-devel zlib* libffi-devel  <span class="comment"># 依赖，</span></span><br><span class="line">git   <span class="comment">#验证git装完</span></span><br></pre></td></tr></table></figure>



<h2 id="安装docker-docker-compose"><a href="#安装docker-docker-compose" class="headerlink" title="安装docker/docker-compose"></a>安装docker/docker-compose</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">一 安装Docker</span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置yum源</span></span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装docker</span></span><br><span class="line">yum install -y docker-ce</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机启动</span></span><br><span class="line">systemctl enable docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 Docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二 安装Docker-compose</span><br><span class="line"><span class="comment"># 下载</span></span><br><span class="line">curl -L https://github.com/docker/compose/releases/download/<span class="number">1.26</span><span class="number">.2</span>/docker-compose-$(uname -s)-$(uname -m) &gt; /usr/<span class="built_in">bin</span>/docker-compose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 赋予执行权限</span></span><br><span class="line">chmod +x /usr/<span class="built_in">bin</span>/docker-compose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">docker-compose --version</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从git上拉去最新项目</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在项目路径下执行</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入测试数据</span></span><br><span class="line"><span class="comment"># 在浏览器访问服务器地址，就可以看到项目</span></span><br></pre></td></tr></table></figure>



<h2 id="整合项目文件夹"><a href="#整合项目文件夹" class="headerlink" title="整合项目文件夹"></a>整合项目文件夹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写ym...配置文件</span></span><br><span class="line"></span><br><span class="line">https://gitee.com/chi-jintao/imooc.git</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/22/%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AEMINIO/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/22/%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AEMINIO/" class="post-title-link" itemprop="url">部署minion</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-22 07:20:25" itemprop="dateCreated datePublished" datetime="2021-05-22T07:20:25+08:00">2021-05-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-06 12:22:34" itemprop="dateModified" datetime="2021-06-06T12:22:34+08:00">2021-06-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">杂七杂八系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="阿里云-ECS服务器-CENTOS7系统部署MINIO图床"><a href="#阿里云-ECS服务器-CENTOS7系统部署MINIO图床" class="headerlink" title="阿里云-ECS服务器-CENTOS7系统部署MINIO图床"></a>阿里云-ECS服务器-CENTOS7系统部署MINIO图床</h1><h2 id="1-下载MINIO的二进制文件"><a href="#1-下载MINIO的二进制文件" class="headerlink" title="1. 下载MINIO的二进制文件"></a>1. 下载MINIO的二进制文件</h2><p>==注: 阿里云ECS网速过慢, 但可以接受== </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.minio.io/server/minio/release/linux-amd64/minio</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 为minio文件赋予750权限</span><br><span class="line">chmod 750 minio</span><br></pre></td></tr></table></figure>

<h2 id="2-创建MINIO运行用户"><a href="#2-创建MINIO运行用户" class="headerlink" title="2. 创建MINIO运行用户"></a>2. 创建MINIO运行用户</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 创建用户组</span><br><span class="line">groupadd -g 2021 minio</span><br><span class="line">useradd -r -u 2021 -g 2021  -c &quot;Minio User&quot; -s /sbin/nologin minio</span><br><span class="line"></span><br><span class="line">// 查看相关</span><br><span class="line">id  minio </span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; uid=2021(minio) gid=2021(minio) groups=2021(minio)</span></span><br><span class="line">cat /etc/passwd</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;inio:x:2021:2021:Minio User:/home/minio:/sbin/nologin</span></span><br></pre></td></tr></table></figure>

<h2 id="3-创建MINIO相关目录"><a href="#3-创建MINIO相关目录" class="headerlink" title="3. 创建MINIO相关目录"></a>3. 创建MINIO相关目录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/local/minio</span><br><span class="line">mkdir /usr/local/minio/bin</span><br><span class="line">mkdir /usr/local/minio/etc</span><br><span class="line">mkdir /usr/local/minio/data</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 将下载的minio传入规定位置</span><br><span class="line">cp minio /usr/local/minio/bin</span><br></pre></td></tr></table></figure>

<h2 id="4-创建MINIO配置文件"><a href="#4-创建MINIO配置文件" class="headerlink" title="4. 创建MINIO配置文件"></a>4. 创建MINIO配置文件</h2><p><strong>默认文件配置</strong></p>
<p>==注: listen_ip位置填写0.0.0.0, 不能填写公网/私网ip== </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/minio/etc/minio.conf</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> minio.conf文件内填写</span></span><br><span class="line">MINIO_VOLUMES=&quot;/usr/local/minio/data&quot;</span><br><span class="line">MINIO_OPTS=&quot;-C /usr/local/minio/etc --address listen_ip:9000&quot;</span><br><span class="line">MINIO_ACCESS_KEY=&quot;MYMINIO&quot;</span><br><span class="line">MINIO_SECRET_KEY=&quot;12345678&quot;</span><br></pre></td></tr></table></figure>

<p><strong>启动文件配置</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/systemd/system/minio.service</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> minio.service文件内填写</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=MinIO</span><br><span class="line">Documentation=https://docs.min.io</span><br><span class="line">Wants=network-online.target</span><br><span class="line">After=network-online.target</span><br><span class="line">AssertFileIsExecutable=/usr/local/minio/bin/minio</span><br><span class="line">[Service]</span><br><span class="line"><span class="meta">#</span><span class="bash"> User and group</span></span><br><span class="line">User=minio</span><br><span class="line">Group=minio</span><br><span class="line">EnvironmentFile=/usr/local/minio/etc/minio.conf</span><br><span class="line">ExecStart=/usr/local/minio/bin/minio server $MINIO_OPTS $MINIO_VOLUMES</span><br><span class="line"><span class="meta">#</span><span class="bash"> Let systemd restart this service always</span></span><br><span class="line">Restart=always</span><br><span class="line"><span class="meta">#</span><span class="bash"> Specifies the maximum file descriptor number that can be opened by this process</span></span><br><span class="line">LimitNOFILE=65536</span><br><span class="line"><span class="meta">#</span><span class="bash"> Disable timeout logic and <span class="built_in">wait</span> until process is stopped</span></span><br><span class="line">TimeoutStopSec=infinity</span><br><span class="line">SendSIGKILL=no</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<h2 id="5-更改文件、目录属主属组"><a href="#5-更改文件、目录属主属组" class="headerlink" title="5. 更改文件、目录属主属组"></a>5. 更改文件、目录属主属组</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R minio:minio /usr/local/minio</span><br></pre></td></tr></table></figure>

<h2 id="6-启动-停止-查询服务"><a href="#6-启动-停止-查询服务" class="headerlink" title="6. 启动/停止/查询服务"></a>6. 启动/停止/查询服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 重载配置文件</span><br><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">// 启动/停止/查询服务</span><br><span class="line">systemctl enable minio.service  # 停止服务</span><br><span class="line">systemctl start minio.service  # 启动服务</span><br><span class="line">systemctl status minio.service  # 查询服务运行情况</span><br><span class="line">systemctl restart minio.service  # 重启服务</span><br><span class="line"></span><br><span class="line">// 过滤查询</span><br><span class="line">ps aux | grep minio</span><br><span class="line"></span><br><span class="line">// 端口查询</span><br><span class="line">ss -tan | grep 9000</span><br></pre></td></tr></table></figure>

<h2 id="7-配置阿里云安全组规则"><a href="#7-配置阿里云安全组规则" class="headerlink" title="7. 配置阿里云安全组规则"></a>7. 配置阿里云安全组规则</h2><h2 id="8-日志查看"><a href="#8-日志查看" class="headerlink" title="8. 日志查看"></a>8. 日志查看</h2><p>==注: 服务可能启动失败==</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 日志中查看错误</span></span><br><span class="line">tail <span class="number">-500</span> /<span class="keyword">var</span>/log/messages</span><br></pre></td></tr></table></figure>

<p><strong><font color=red>常见错误: </font></strong></p>
<ul>
<li>```shell<br>  May 14 20:57:22 Change-myself minio: ERROR Unable to validate passed arguments: host in server address should be this server<br>  May 14 20:57:22 Change-myself minio: &gt; Please check –address parameter<br>  May 14 20:57:22 Change-myself minio: HINT:<br>  May 14 20:57:22 Change-myself minio: –address binds to a specific ADDRESS:PORT, ADDRESS can be an IPv4/IPv6 address or hostname (default port is ‘:9000’)<h1 id="配置文件监听地址错误-配置为0-0-0-0"><a href="#配置文件监听地址错误-配置为0-0-0-0" class="headerlink" title="配置文件监听地址错误, 配置为0.0.0.0"></a>配置文件监听地址错误, 配置为0.0.0.0</h1>  MINIO_OPTS=”-C /usr/local/minio/etc –address 0.0.0.0:9000”  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* ```shell</span><br><span class="line">    May 14 21:01:13 Change-myself minio: ERROR Unable to validate credentials inherited from the shell environment: Invalid credentials</span><br><span class="line">    May 14 21:01:13 Change-myself minio: &gt; Please provide correct credentials</span><br><span class="line">    May 14 21:01:13 Change-myself minio: HINT:</span><br><span class="line">    May 14 21:01:13 Change-myself minio: Access key length should be at least 3, and secret key length at least 8 characters</span><br><span class="line">    </span><br><span class="line">    # 用户名、密码配置错误, 长度问题</span><br><span class="line">    MINIO_ACCESS_KEY=&quot;MYMINIO&quot;</span><br><span class="line">    MINIO_SECRET_KEY=&quot;12345678&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="9-访问成功"><a href="#9-访问成功" class="headerlink" title="9. 访问成功"></a>9. 访问成功</h2><p>==注: 无域名就使用公网ip:9000==</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/12/Redis%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/12/Redis%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">Redis基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-12 07:20:25" itemprop="dateCreated datePublished" datetime="2021-05-12T07:20:25+08:00">2021-05-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-01 12:22:34" itemprop="dateModified" datetime="2021-06-01T12:22:34+08:00">2021-06-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Redis%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">Redis系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><strong>Redis是一个key - value存储系统，非关系型数据库（nosql数据库），缓存数据库，数据存在于内存中</strong></p>
<p><strong>Redis支持五大数据类型</strong></p>
<ul>
<li>字符串</li>
<li>列表</li>
<li>hash(字典)</li>
<li>集合</li>
<li>有序集合</li>
</ul>
<p><strong>使用Redis的好处</strong></p>
<ul>
<li>速度快：缓存数据库</li>
<li>支持丰富数据类型（五大数据类型）</li>
<li>支持事务（通过管道支持）（单实例上有效）</li>
<li>丰富的特性：可用于缓存、消息队列、按key设置过期时间，过期后自动删除</li>
</ul>
<p><strong>Redis对比memcached</strong></p>
<ul>
<li>都是内存数据库</li>
<li>Redis类型丰富（五大数据类型），memcached只支持字符串类型</li>
<li>Redis支持持久化，memcached不支持持久化</li>
<li>Redis速度比memcached块</li>
</ul>
<p><strong>Redis特点</strong></p>
<ul>
<li>可以持久化</li>
<li>单线程，单进程<ul>
<li>Redis最新版本是6.x</li>
<li>6.x版本之前是单线程，单进程</li>
</ul>
</li>
</ul>
<p><strong>Redis单线程为什么这么快（官方：10w左右并发，实际：6w左右并发）</strong></p>
<ul>
<li>纯内存操作</li>
<li>使用了io多路复用模型（epoll、select）</li>
<li>因为是单线程，不存在线程间切换，节省资源</li>
</ul>
<p><strong>服务：客户端，服务端（跟MySQL一样，是存数据的地方）</strong></p>
<p><strong>安装</strong></p>
<ul>
<li>Redis是使用C写的且开源，官方并不支持Windows平台</li>
<li>第三方基于Redis源码，修改编译成Windows平台可以运行的（老：维护到3.x，新：维护到5.x）</li>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoftarchive/redis%EF%BC%88Windows%E5%B9%B3%E5%8F%B0%EF%BC%883.x%EF%BC%89%EF%BC%89">https://github.com/microsoftarchive/redis（Windows平台（3.x））</a></li>
<li>图形化界面客户端（redis-desktop-manager）</li>
<li>监听默认端口：6379</li>
</ul>
<p><strong>启动Redis服务</strong></p>
<ul>
<li>在任意路径下敲（前提：已经添加环境变量）：redis-server</li>
<li>Windows平台已经做成服务，直接开启服务</li>
</ul>
<p><strong>客户端连接</strong></p>
<ul>
<li>任意路径下敲：redis-cli -h 127.0.0.1 -p 6379</li>
<li>使用客户端连接</li>
<li>使用python操作（pip install redis）</li>
</ul>
<h2 id="普通连接与连接池"><a href="#普通连接与连接池" class="headerlink" title="普通连接与连接池"></a>普通连接与连接池</h2><p><strong>普通连接</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># redis-py提供两个类Redis和StrictRedis用于实现Redis的命令，StrictRedis用于实现大部分官方的命令，并使用官方的语法和命令，Redis是StrictRedis的子类，用于向后兼容旧版本的redis-py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">conn = redis.Redis(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">6379</span>)</span><br><span class="line">conn.<span class="built_in">set</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;Bar&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&#x27;foo&#x27;</span>))</span><br></pre></td></tr></table></figure>



<p><strong>连接池</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># redis-py使用connection pool来管理对一个redis server的所有连接，避免每次建立、释放连接的开销</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认：每个Redis实例都会维护一个自己的连接池</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以直接建立一个连接池，然后作为参数Redis，这样就可以实现多个Redis实例共享一个连接池</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">6379</span>)</span><br><span class="line">conn = redis.Redis(connection_pool=pool)</span><br><span class="line">conn.<span class="built_in">set</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;Bar&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&#x27;foo&#x27;</span>))</span><br></pre></td></tr></table></figure>



<p><strong>把POOL以单例形式使用</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pool.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拿到一个连接数为3的连接池</span></span><br><span class="line"><span class="comment"># 把POOL做成单例：把它以模块导入方式</span></span><br><span class="line">POOL=redis.ConnectionPool(max_connections=<span class="number">3</span>,host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=<span class="number">6380</span>)</span><br><span class="line"></span><br><span class="line">========================================================================================</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pool <span class="keyword">import</span> POOL  <span class="comment"># 以模块形式导入，是天然单例</span></span><br><span class="line">conn=redis.Redis(connection_pool=POOL)</span><br><span class="line"><span class="comment"># conn2=redis.Redis(connection_pool=POOL)</span></span><br><span class="line"><span class="comment"># conn3=redis.Redis(connection_pool=POOL)</span></span><br><span class="line"><span class="comment"># conn4=redis.Redis(connection_pool=POOL)</span></span><br><span class="line"><span class="comment"># conn5=redis.Redis(connection_pool=POOL)</span></span><br><span class="line"><span class="comment"># conn6=redis.Redis(connection_pool=POOL)</span></span><br><span class="line"></span><br><span class="line">conn.<span class="built_in">set</span>(<span class="string">&#x27;age&#x27;</span>,<span class="number">19</span>)</span><br><span class="line">conn.close()  <span class="comment"># 不是关闭连接，把该连接，放回到连接池</span></span><br></pre></td></tr></table></figure>



<h2 id="Redis五大数据类型之字符串"><a href="#Redis五大数据类型之字符串" class="headerlink" title="Redis五大数据类型之字符串"></a>Redis五大数据类型之字符串</h2><p><strong>字符串操作，Redis中的字符串再内存中按照一个name对应一个value来存储</strong></p>
<p><img src="https://img2018.cnblogs.com/blog/1350514/201810/1350514-20181022175533950-849327963.png" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">set(name, value, ex=None, px=None, nx=False, xx=False) 重点</span></span><br><span class="line"><span class="string">setnx(name, value)</span></span><br><span class="line"><span class="string">setex(name, value, time)</span></span><br><span class="line"><span class="string">psetex(name, time_ms, value)</span></span><br><span class="line"><span class="string">mset(*args, **kwargs) 重点</span></span><br><span class="line"><span class="string">get(name) 重点</span></span><br><span class="line"><span class="string">mget(keys, *args) 重点</span></span><br><span class="line"><span class="string">getset(name, value)</span></span><br><span class="line"><span class="string">getrange(key, start, end)</span></span><br><span class="line"><span class="string">setrange(name, offset, value)</span></span><br><span class="line"><span class="string">setbit(name, offset, value)</span></span><br><span class="line"><span class="string">getbit(name, offset)</span></span><br><span class="line"><span class="string">bitcount(key, start=None, end=None)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">strlen(name) 重点</span></span><br><span class="line"><span class="string">incr(self, name, amount=1) 重点</span></span><br><span class="line"><span class="string">incrbyfloat(self, name, amount=1.0)</span></span><br><span class="line"><span class="string">decr(self, name, amount=1)</span></span><br><span class="line"><span class="string">append(key, value)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">conn=redis.Redis()</span><br><span class="line"></span><br><span class="line"><span class="comment"># set:放字符串值</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">ex，过期时间（秒）</span></span><br><span class="line"><span class="string">px，过期时间（毫秒）</span></span><br><span class="line"><span class="string">nx，如果设置为True，则只有name不存在时，当前set操作才执行,值存在，就修改不了，执行没效果</span></span><br><span class="line"><span class="string">xx，如果设置为True，则只有name存在时，当前set操作才执行，值存在才能修改，值不存在，不会设置新值</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># conn.set(&#x27;name&#x27;,&#x27;lqz&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;lqz&#x27;,ex=3)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;lqz&#x27;,px=3000)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;lqz&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;egon&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;lqz&#x27;,nx=True)</span></span><br><span class="line"><span class="comment"># res=conn.set(&#x27;name&#x27;,&#x27;19&#x27;,xx=True)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># get 获取值</span></span><br><span class="line"><span class="comment"># res=conn.get(&#x27;name&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mset 批量设置值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.mset(&#123;&#x27;name&#x27;:&#x27;lqz&#x27;,&#x27;age&#x27;:19,&#x27;sex&#x27;:&#x27;男&#x27;&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mget  批量获取值</span></span><br><span class="line"><span class="comment"># res=conn.mget([&#x27;name&#x27;,&#x27;age&#x27;])</span></span><br><span class="line"><span class="comment"># res=conn.mget(&#x27;name&#x27;,&#x27;age&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.setex(name, value, time)</span></span><br><span class="line"><span class="comment"># conn.psetex(name, time_ms, value)</span></span><br><span class="line"><span class="comment"># conn.set(name, valeu, px=time)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.getset(&#x27;name&#x27;, &#x27;刘亦菲&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.getrange(&#x27;name&#x27;,3,5)  #前闭后闭区间  拿到 亦 这个字   拿字节</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># print(str(res,encoding=&#x27;utf-8&#x27;))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.setrange(&#x27;name&#x27;,0,&#x27;lqzzzzzzz&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.setrange(&#x27;name&#x27;,0,&#x27;qq&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##获取和设置比特位</span></span><br><span class="line"><span class="comment"># setbit(name, offset, value)</span></span><br><span class="line"><span class="comment"># getbit(name, offset)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(conn.getbit(&#x27;name&#x27;,3))</span></span><br><span class="line"><span class="comment"># conn.setbit(&#x27;name&#x27;,0,1)</span></span><br><span class="line"><span class="comment"># print(conn.getbit(&#x27;name&#x27;,0))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(conn.strlen(&#x27;name&#x27;))  # 指的是字节     获取字节长度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.incr(&#x27;age&#x27;)   # 让该键自增1</span></span><br><span class="line"><span class="comment"># conn.incrby(&#x27;age&#x27;,3)   # 让该键自增3</span></span><br><span class="line"><span class="comment"># conn.incrbyfloat(&#x27;age&#x27;, amount=1.1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conn.append(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;nb&#x27;</span>)</span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



<h2 id="Redis五大数据类型之hash"><a href="#Redis五大数据类型之hash" class="headerlink" title="Redis五大数据类型之hash"></a>Redis五大数据类型之hash</h2><p><img src="https://img2018.cnblogs.com/blog/1350514/201810/1350514-20181022195454464-123231904.png" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">hset(name, key, value)   重点</span></span><br><span class="line"><span class="string">hmset(name, mapping)   重点</span></span><br><span class="line"><span class="string">hget(name,key)        重点</span></span><br><span class="line"><span class="string">hmget(name, keys, *args)  重点</span></span><br><span class="line"><span class="string">hgetall(name)</span></span><br><span class="line"><span class="string">hlen(name)              重点</span></span><br><span class="line"><span class="string">hkeys(name)</span></span><br><span class="line"><span class="string">hvals(name)</span></span><br><span class="line"><span class="string">hexists(name, key)</span></span><br><span class="line"><span class="string">hdel(name,*keys)</span></span><br><span class="line"><span class="string">hincrby(name, key, amount=1)   重点</span></span><br><span class="line"><span class="string">hincrbyfloat(name, key, amount=1.0)</span></span><br><span class="line"><span class="string">hscan(name, cursor=0, match=None, count=None)</span></span><br><span class="line"><span class="string">hscan_iter(name, match=None, count=None)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">conn=redis.Redis()</span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.hset(&#x27;users&#x27;,&#x27;name&#x27;,&#x27;egon&#x27;)</span></span><br><span class="line"><span class="comment"># conn.hset(&#x27;users&#x27;,&#x27;age&#x27;,&#x27;19&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hget(&#x27;users&#x27;,&#x27;age&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.hget(&#x27;users&#x27;,&#x27;name&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.hmset(&#x27;h1&#x27;,&#123;&#x27;name&#x27;:&#x27;lqz&#x27;,&#x27;age&#x27;:19&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hmget(&#x27;h1&#x27;,[&#x27;name&#x27;,&#x27;age&#x27;])</span></span><br><span class="line"><span class="comment"># res=conn.hmget(&#x27;h1&#x27;,&#x27;name&#x27;,&#x27;age&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hlen(&#x27;users&#x27;)  # 统计键值对的个数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hkeys(&#x27;users&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.hvals(&#x27;users&#x27;)</span></span><br><span class="line"><span class="comment"># hvals(name)</span></span><br><span class="line"><span class="comment"># print(str(res[2],encoding=&#x27;utf-8&#x27;))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hexists(&#x27;users&#x27;,&#x27;age1&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.hdel(&#x27;users&#x27;,&#x27;age&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.hincrby(&#x27;h1&#x27;, &#x27;age&#x27;,7)</span></span><br><span class="line"><span class="comment"># conn.hincrbyfloat(&#x27;h1&#x27;, &#x27;age&#x27;, amount=-1.01)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># for i in range(1000):</span></span><br><span class="line"><span class="comment">#     conn.hset(&#x27;htest&#x27;,i,&#x27;第%s个鸡蛋&#x27;%i)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###hash（字典）类型是无序的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hgetall(&#x27;htest&#x27;)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.hscan(&#x27;htest&#x27;, cursor=0,count=500)  # 用的少</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="comment"># res=conn.hscan(&#x27;htest&#x27;, cursor=254,count=499)  # 用的少</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="comment"># res=conn.hscan(&#x27;htest&#x27;, cursor=511,count=2)  # 用的少</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="comment"># print(len(res[1]))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res=conn.hscan_iter(<span class="string">&#x27;htest&#x27;</span>, count=<span class="number">20</span>)   <span class="comment"># 把hash类型的所有数据都打印出来，比hgetall节省内存</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> res:</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(item[<span class="number">1</span>],encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



<h2 id="Redis五大数据类型之列表"><a href="#Redis五大数据类型之列表" class="headerlink" title="Redis五大数据类型之列表"></a>Redis五大数据类型之列表</h2><p><img src="https://img2018.cnblogs.com/blog/1350514/201810/1350514-20181022211822785-370585666.png" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">lpush(name,values)   #从左侧插入值</span></span><br><span class="line"><span class="string">lpushx(name,value)</span></span><br><span class="line"><span class="string">llen(name)           # 重点</span></span><br><span class="line"><span class="string">linsert(name, where, refvalue, value))  # 重点</span></span><br><span class="line"><span class="string">lset(name, index, value)</span></span><br><span class="line"><span class="string">lrem(name, value, num)        # 删除值</span></span><br><span class="line"><span class="string">lpop(name)             #从左侧弹出</span></span><br><span class="line"><span class="string">lindex(name, index)</span></span><br><span class="line"><span class="string">lrange(name, start, end)</span></span><br><span class="line"><span class="string">ltrim(name, start, end)</span></span><br><span class="line"><span class="string">rpoplpush(src, dst)</span></span><br><span class="line"><span class="string">blpop(keys, timeout)          # 阻塞式弹出</span></span><br><span class="line"><span class="string">brpoplpush(src, dst, timeout=0)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">conn=redis.Redis()</span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.lpush(&#x27;list1&#x27;,&#x27;1&#x27;)  #左侧插入，上部</span></span><br><span class="line"><span class="comment"># conn.lpush(&#x27;list1&#x27;,&#x27;lqz&#x27;)</span></span><br><span class="line"><span class="comment"># conn.rpush(&#x27;list1&#x27;,&#x27;egon&#x27;)  #右侧插入，下部</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.rpushx(&#x27;list1&#x27;,&#x27;刘亦菲&#x27;)  # 只有name存在才能插入</span></span><br><span class="line"><span class="comment"># conn.lpushx(&#x27;list2&#x27;,&#x27;刘亦菲&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(conn.llen(&#x27;list1&#x27;))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.linsert(&#x27;list1&#x27;,&#x27;before&#x27;,&#x27;egon&#x27;,&#x27;迪丽热巴&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.linsert(&#x27;list1&#x27;,&#x27;AFTER&#x27;,&#x27;egon&#x27;,&#x27;古力娜扎&#x27;)</span></span><br><span class="line"><span class="comment"># conn.linsert(&#x27;list1&#x27;,&#x27;AFTER&#x27;,&#x27;1&#x27;,&#x27;99999&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.lset(&#x27;list1&#x27;,3,66666) # 修改某个位置的值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果count=0,表示删除所有符合条件的，删除所有66666</span></span><br><span class="line"><span class="comment"># conn.lrem(&#x27;list1&#x27;,0,&#x27;66666&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果count=1，表示从左侧删除1个符合条件的，删除1个99999</span></span><br><span class="line"><span class="comment"># conn.lrem(&#x27;list1&#x27;,1,&#x27;99999&#x27;)</span></span><br><span class="line"><span class="comment"># 如果count=-2，表示从底部，从右侧，删除符合条件的2个</span></span><br><span class="line"><span class="comment"># conn.lrem(&#x27;list1&#x27;,-2,&#x27;99999&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.lpop(&#x27;list1&#x27;)</span></span><br><span class="line"><span class="comment"># res=conn.rpop(&#x27;list1&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.lindex(&#x27;list1&#x27;,1)  #返回某个索引的值  列表操作 l[0]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.lrange(&#x27;list1&#x27;, 0, 4)  # 前闭后闭</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.ltrim(&#x27;list1&#x27;, 1, 3)  #修剪，不符合范围的都删除，前闭后闭</span></span><br><span class="line"><span class="comment"># conn.lpush(&#x27;list2&#x27;,&#x27;李易峰&#x27;,&#x27;刘亦菲&#x27;,&#x27;迪丽热巴&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.rpoplpush(&#x27;list1&#x27;, &#x27;list2&#x27;)</span></span><br><span class="line"></span><br><span class="line">res=conn.blpop(<span class="string">&#x27;list2&#x27;</span>,timeout=<span class="number">2</span>)          <span class="comment"># 阻塞式弹出,通过它做一些分布式任务，可以用来做消息队列</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># brpoplpush(src, dst, timeout=0)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



<h2 id="其他通用操作"><a href="#其他通用操作" class="headerlink" title="其他通用操作"></a>其他通用操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">delete(*names)</span></span><br><span class="line"><span class="string"># 根据删除redis中的任意数据类型</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">exists(name)</span></span><br><span class="line"><span class="string"># 检测redis的name是否存在</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">keys(pattern=&#x27;*&#x27;)</span></span><br><span class="line"><span class="string"># 根据模型获取redis的name</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">expire(name ,time)</span></span><br><span class="line"><span class="string"># 为某个redis的某个name设置超时时间</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">rename(src, dst)</span></span><br><span class="line"><span class="string"># 对redis的name重命名为</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">move(name, db))</span></span><br><span class="line"><span class="string"># 将redis的某个值移动到指定的db下</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">randomkey()</span></span><br><span class="line"><span class="string"># 随机获取一个redis的name（不删除）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">type(name)</span></span><br><span class="line"><span class="string">#查看类型</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##通用操作</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">conn=redis.Redis()</span><br><span class="line"><span class="comment"># conn.delete(&#x27;h1&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(conn.exists(&#x27;name&#x27;))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.keys(&#x27;list*&#x27;)</span></span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.expire(&#x27;list1&#x27;,3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.rename(&#x27;sex&#x27;,&#x27;sex111&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conn.move(&#x27;sex111&#x27;,2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.randomkey()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># res=conn.type(&#x27;users&#x27;)</span></span><br><span class="line">res=conn.<span class="built_in">type</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># redis支持事务，借助于管道</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># import redis</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># conn=redis.Redis()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># conn.decr(&#x27;zhangsan&#x27;,100)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># raise Exception(&#x27;程序废了，出异常了&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># conn.incrby(&#x27;wo&#x27;,100)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># conn.close()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 借助于管道实现</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">conn=redis.Redis()</span><br><span class="line">pip_line=conn.pipeline(transaction=<span class="literal">True</span>)  <span class="comment">#开启一个管道</span></span><br><span class="line">pip_line.decr(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="number">100</span>)            <span class="comment">#往管道中放一个命令</span></span><br><span class="line"><span class="keyword">raise</span> Exception(<span class="string">&#x27;程序崩了&#x27;</span>)</span><br><span class="line">pip_line.incrby(<span class="string">&#x27;wo&#x27;</span>,<span class="number">100</span>)                <span class="comment">#往管道中放一个命令</span></span><br><span class="line"></span><br><span class="line">pip_line.execute()                       <span class="comment"># 把管道中的命令一次性执行</span></span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>



<h2 id="Django使用Redis"><a href="#Django使用Redis" class="headerlink" title="Django使用Redis"></a>Django使用Redis</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种：通用方式（任何web框架都可以）</span></span><br><span class="line">	新建一个文件，其他文件导入使用</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种：django提供的</span></span><br><span class="line">	-在配置文件中配置</span><br><span class="line">    	CACHES = &#123;</span><br><span class="line">            <span class="string">&quot;default&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;BACKEND&quot;</span>: <span class="string">&quot;django_redis.cache.RedisCache&quot;</span>,</span><br><span class="line">                <span class="string">&quot;LOCATION&quot;</span>: <span class="string">&quot;redis://127.0.0.1:6379&quot;</span>,</span><br><span class="line">                <span class="string">&quot;OPTIONS&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;CLIENT_CLASS&quot;</span>: <span class="string">&quot;django_redis.client.DefaultClient&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;CONNECTION_POOL_KWARGS&quot;</span>: &#123;<span class="string">&quot;max_connections&quot;</span>: <span class="number">100</span>&#125;  <span class="comment"># 连接池大小为100</span></span><br><span class="line">                    <span class="comment"># &quot;PASSWORD&quot;: &quot;123&quot;,</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    -安装django_redis模块</span><br><span class="line">    -使用</span><br><span class="line">    <span class="keyword">from</span> django_redis <span class="keyword">import</span> get_redis_connection</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">index</span>(<span class="params">request</span>):</span></span><br><span class="line">        conn=get_redis_connection()</span><br><span class="line">        res=conn.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(res)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">&#x27;okkkkk&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">   -一旦这样配置，django中的缓存，也用redis</span><br><span class="line">	cache.<span class="built_in">set</span>(<span class="string">&#x27;key&#x27;</span>,python的任意对象)</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/17/Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/17/Git/" class="post-title-link" itemprop="url">Git</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-17 07:20:25" itemprop="dateCreated datePublished" datetime="2021-04-17T07:20:25+08:00">2021-04-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 12:22:34" itemprop="dateModified" datetime="2021-05-01T12:22:34+08:00">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">Git系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="介绍与安装"><a href="#介绍与安装" class="headerlink" title="介绍与安装"></a>介绍与安装</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> git，github，gitee，gitlab</span><br><span class="line">	-git：版本管理软件</span><br><span class="line">    -github：网站，全球开源代码，放在上面，我们可以看到，并下载--》本质是一个git的远程仓库</span><br><span class="line">    -gitee：中国版的github，公有，私有（中小型公司的代码放在私有仓库中）</span><br><span class="line">    -gitlab：公司内部的（公司内部的github）</span><br><span class="line">    </span><br><span class="line"><span class="number">1</span> git：软件，实现 版本控制：协同开发（多人合作开发），合并代码</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> 下载：https://git-scm.com/download/win</span><br><span class="line">	一路下一步</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> 装完后，任意位置，鼠标右键，多出</span><br><span class="line">	git gui here：图形化界面</span><br><span class="line">    git bash here：命令行</span><br><span class="line">    </span><br><span class="line"><span class="number">4</span> git和svn</span><br><span class="line">	-git的版本管理不需要服务端（远程仓库）</span><br><span class="line">    -svn要进行版本管理，必须有服务端</span><br></pre></td></tr></table></figure>



<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 分为三个地方</span></span><br><span class="line">	<span class="number">1</span> 工作区</span><br><span class="line">    <span class="number">2</span> 暂存区</span><br><span class="line">    <span class="number">3</span> 版本库</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 命令</span></span><br><span class="line">	git init    <span class="comment"># 初始化仓库，在当前路径下生成一个.git文件夹，隐藏的</span></span><br><span class="line">    git add .   <span class="comment"># 把工作区的更该（.表示当前路径下所有更改，都提交），提交到暂存区</span></span><br><span class="line">    git status  <span class="comment"># 查看文件状态（绿色表示，在暂存区，不在版本库，红色表示工作区更改了，没有提交到暂存区）</span></span><br><span class="line">    git reset . <span class="comment"># 把提交到暂存区的，拉回到工作区(以后基本不用)</span></span><br><span class="line">    </span><br><span class="line">    git commit -m <span class="string">&#x27;注释&#x27;</span>   <span class="comment"># 把暂存区的所有内容，提交到版本库</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#在提交到版本库之前，要先配置用户信息 （--global：表示全局，在用户家路径.gitconfig）</span></span><br><span class="line">    git config --<span class="keyword">global</span> user.email <span class="string">&quot;306334678@qq.com&quot;</span></span><br><span class="line">  	git config --<span class="keyword">global</span> user.name <span class="string">&quot;liuqingzheng&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 局部的用户信息，是在仓库的.git文件夹下的config中</span></span><br><span class="line">    git config user.email <span class="string">&quot;33@qq.com&quot;</span></span><br><span class="line">  	git config user.name <span class="string">&quot;egon&quot;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    git log   <span class="comment"># 查看版本提交的日志（谁提交的，提交时间，提交的版本号）</span></span><br><span class="line">	git reflog <span class="comment"># 查看版本提交的日志</span></span><br><span class="line">    </span><br><span class="line">    git reset --hard 74c071f922  <span class="comment">#工作区的内容回退到 74c071f922 版本</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"> <span class="comment"># 空文件夹，不会被git管理，python中包会：包有 __init__.py</span></span><br></pre></td></tr></table></figure>



<h3 id="git过滤文件"><a href="#git过滤文件" class="headerlink" title="git过滤文件"></a>git过滤文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">在仓库目录下新建.gitignore  文件，在文件中写入要忽略的文件，文件夹，模糊匹配</span><br><span class="line"><span class="comment">## 注意：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">文件或文件夹名：代表所有目录下的同名文件或文件夹都被过滤</span></span><br><span class="line"><span class="string">/文件或文件夹名：代表仓库根目录下的文件或文件夹被过滤</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">eg：</span></span><br><span class="line"><span class="string">a.txt：项目中所有a.txt文件和文件夹都会被过滤</span></span><br><span class="line"><span class="string">/a.txt：项目中只有根目录下a.txt文件和文件夹会被过滤</span></span><br><span class="line"><span class="string">/b/a.txt：项目中只有根目录下的b文件夹下的a.txt文件和文件夹会被过滤</span></span><br><span class="line"><span class="string">*x*：名字中有一个x的都会被过滤（*代表0~n个任意字符）</span></span><br><span class="line"><span class="string">空文件夹不会被提交，空包会被提交，包可以被提交（包中有一个init空文件）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">eg:</span></span><br><span class="line"><span class="string">	.idea</span></span><br><span class="line"><span class="string">	scripts</span></span><br><span class="line"><span class="string">	*.pyc</span></span><br><span class="line"><span class="string">	__pycache__</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pycharm软件</span><br><span class="line">	-绿色：在暂存区，没有提交到版本库</span><br><span class="line">	-红色：在工作区新增，没有提交到暂存区</span><br><span class="line">	-蓝色：在工作区修改的，没有提交到暂存区</span><br><span class="line">	-黄色：忽略的</span><br><span class="line">	-白色：已经被git管理的</span><br></pre></td></tr></table></figure>



<h3 id="git分支操作"><a href="#git分支操作" class="headerlink" title="git分支操作"></a>git分支操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建分支</span></span><br><span class="line">git branch 分支名</span><br><span class="line">git checkout -b 分支名   <span class="comment">#创建并切换到新分支</span></span><br><span class="line"><span class="comment">#切换分支</span></span><br><span class="line">git checkout dev</span><br><span class="line"><span class="comment">#查看分支</span></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除分支</span></span><br><span class="line">git branch -d 分支名</span><br><span class="line"></span><br><span class="line"><span class="comment">#合并分支</span></span><br><span class="line">git merge 分支名 <span class="comment">#把dev分支合并到master分支：切换到master分支，执行合并dev分支的命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分支合并可能会出冲突</span></span><br></pre></td></tr></table></figure>



<h3 id="git远程仓库"><a href="#git远程仓库" class="headerlink" title="git远程仓库"></a>git远程仓库</h3><ul>
<li>GitHub</li>
<li>gitee</li>
<li>gitlab</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 在远程仓库中新建空仓库</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>	git init						<span class="comment"># 初始化，让项目被git管理</span></span><br><span class="line">	git add .						<span class="comment"># 将所有项目提交到暂存区</span></span><br><span class="line">    git commit -m <span class="string">&#x27;注释&#x27;</span>	   		   <span class="comment"># 将暂存区的项目提交到本地版本库</span></span><br><span class="line">    git remote add 名字 远程仓库地址    <span class="comment">#  增加一个远程仓库(指定目标远程仓库)</span></span><br><span class="line">    git push 远程仓库名字 分支名字	  <span class="comment"># 把本地版本库内容，提交到远程仓库(需要输入账户密码/用ssh连接)</span></span><br><span class="line">    </span><br><span class="line"><span class="number">3</span> 远程仓库操作</span><br><span class="line">	增加</span><br><span class="line">    	git remote add 名字 远程仓库地址</span><br><span class="line">    查看</span><br><span class="line">    	git remote</span><br><span class="line">    删除</span><br><span class="line">    	git remote remove origin</span><br><span class="line">    提交到远程仓库</span><br><span class="line">    	git push origin master</span><br></pre></td></tr></table></figure>



<h3 id="采用ssh协议连接远程仓库"><a href="#采用ssh协议连接远程仓库" class="headerlink" title="采用ssh协议连接远程仓库"></a>采用ssh协议连接远程仓库</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> https方式：用户名+密码认证方式</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> ssh方式：公钥私钥方式</span><br><span class="line">	本地生成公钥私钥</span><br><span class="line">    	ssh-keygen -t rsa -C <span class="string">&quot;1965617308@qq.com&quot;</span></span><br><span class="line">        生成的公钥私钥在用户家路径的.ssh文件夹下</span><br><span class="line">        id_rsa		<span class="comment"># 私钥</span></span><br><span class="line">        id_rsa.pub	<span class="comment"># 公钥</span></span><br><span class="line">    把<span class="string">&#x27;公钥&#x27;</span>配置到远程仓库上</span><br><span class="line">    以后再提交代码就不用输入用户名密码</span><br><span class="line">    </span><br><span class="line">    ps：重新配置远程仓库</span><br><span class="line">    	git remote add origin git@gitee.com:chi-jintao/luffy_api.git</span><br><span class="line">        git push origin master  <span class="comment"># 选yes</span></span><br></pre></td></tr></table></figure>



<h3 id="项目创始者与项目开发者"><a href="#项目创始者与项目开发者" class="headerlink" title="项目创始者与项目开发者"></a>项目创始者与项目开发者</h3><ul>
<li>开发者</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">需要把代码clone到本地</span><br><span class="line"></span><br><span class="line">	<span class="number">1</span> git clone https://gitee.com/liuqingzheng/luffy_api.git</span><br><span class="line">    <span class="number">2</span> 修改代码</span><br><span class="line">    <span class="number">3</span> 提交到远程</span><br><span class="line">   	<span class="number">4</span> git push origin master</span><br></pre></td></tr></table></figure>



<ul>
<li>创始者</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需要远程新建仓库，本地代码push上去</span><br></pre></td></tr></table></figure>



<h3 id="协同开发"><a href="#协同开发" class="headerlink" title="协同开发"></a>协同开发</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 管理员、开发者(<span class="number">10</span>开发者以上需要充值~)</span><br><span class="line">	能提交代码(增删改查)</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span> 有一个开发者提交了代码</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> 另一个开发者，在提交之前，必须先拉取代码(让本地保持最新)	(有事没事pull一下)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> 冲突解决(多人在同一个分支开发，导致冲突)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD  # 冲突的开始</span></span><br><span class="line"><span class="string"># 自己的代码</span></span><br><span class="line"><span class="string">=======  # 分割线</span></span><br><span class="line"><span class="string"># 别人的代码</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; b63c408abd05b87fc492d40523240561999dba50  # 冲突的结束(版本)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># 解决</span></span><br><span class="line">    	<span class="number">1</span> 该同样的功能出现的冲突，保留好代码，删掉其中一个即可</span><br><span class="line">        </span><br><span class="line">        <span class="number">2</span> 改不同功能出现冲突，两者都留</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 有事没事pull一下代码</span></span><br></pre></td></tr></table></figure>



<h3 id="线上分支合并"><a href="#线上分支合并" class="headerlink" title="线上分支合并"></a>线上分支合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 本地和远端分支</span><br><span class="line">	本地建立分支，同步到远端</span><br><span class="line">    	git branch dev</span><br><span class="line">        git push origin dev</span><br><span class="line">    </span><br><span class="line">	远端建立分支，同步到本地</span><br><span class="line">    	远端建立分支</span><br><span class="line">        git pull origin dev</span><br><span class="line">        git branch   		<span class="comment"># 看不到</span></span><br><span class="line">        git checkout dev  	<span class="comment"># 切到dev分支，本地就能看到了</span></span><br><span class="line">        </span><br><span class="line"><span class="number">2</span> 提一个pr：pull request(分支合并的请求)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> 审核通过、测试通过后，合并分支/扁平化合并</span><br><span class="line">	git	变基(git rebase)	---&gt; 扁平化合并(不保留分支的各个提交的小版本)(结果好看，但有冲突比较麻烦)</span><br><span class="line">    合并分支					合并分支(保留分支的各个提交的小版本)(结果乱，有冲突比较好解决)</span><br><span class="line">    </span><br><span class="line"><span class="number">4</span> 远端：dev分支代码和master分支代码完全一致</span><br></pre></td></tr></table></figure>



<h3 id="本地分支合并推送到远程"><a href="#本地分支合并推送到远程" class="headerlink" title="本地分支合并推送到远程"></a>本地分支合并推送到远程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 由于dev分支和master分支合并时，有冲突，就不能自动合并了，我们需要本地合并完，解决冲突，再提交</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> 把dev合并到master</span><br><span class="line">	git checkout master</span><br><span class="line">    git merge dev</span><br><span class="line">    有冲突，解决冲突</span><br><span class="line">    再提交</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span> 本地的分支提交到远端分支（如果名字不一样）</span><br><span class="line">	git push origin dev111:dev222  <span class="comment"># 不要作死</span></span><br><span class="line">        </span><br><span class="line">ps：</span><br><span class="line">	<span class="number">1</span> git操作出没出冲突，如何解决</span><br><span class="line">    	-第一：多人在同一分支开发</span><br><span class="line">        -第二：分支合并出冲突</span><br><span class="line">        </span><br><span class="line">    <span class="number">2</span> git 变基</span><br><span class="line">    <span class="number">3</span> git fetch 和 git pull的区别</span><br><span class="line">    <span class="number">4</span> git add . 与git add xxx</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/11/HTML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/11/HTML/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-11 07:20:25" itemprop="dateCreated datePublished" datetime="2021-04-11T07:20:25+08:00">2021-04-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 12:22:34" itemprop="dateModified" datetime="2021-05-01T12:22:34+08:00">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">前端系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="HTML介绍"><a href="#HTML介绍" class="headerlink" title="HTML介绍"></a>HTML介绍</h1><h2 id="Web服务本质"><a href="#Web服务本质" class="headerlink" title="Web服务本质"></a>Web服务本质</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sk = socket.socket()</span><br><span class="line"></span><br><span class="line">sk.bind((&quot;127.0.0.1&quot;, 8080))</span><br><span class="line">sk.listen(5)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">    conn, addr = sk.accept()</span><br><span class="line">    data = conn.recv(8096)</span><br><span class="line">    conn.send(b&quot;HTTP/1.1 200 OK\r\n\r\n&quot;)</span><br><span class="line">    conn.send(b&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;)</span><br><span class="line">    conn.close()</span><br></pre></td></tr></table></figure>



<p>浏览器发请求 –&gt; HTTP协议 –&gt; 服务端接收请求 –&gt; 服务端返回响应 –&gt; 服务端把HTML文件内容发给浏览器 –&gt; 浏览器渲染页面</p>
<h2 id="HTML是什么？"><a href="#HTML是什么？" class="headerlink" title="HTML是什么？"></a>HTML是什么？</h2><ul>
<li>超文本标记语言（Hypertext Markup Language, HTML）是一种用于创建网页的标记语言。</li>
<li>本质上是浏览器可识别的规则，我们按照规则写网页，浏览器根据规则渲染我们的网页。对于不同的浏览器，对同一个标签可能会有不同的解释。（兼容性问题）</li>
<li>网页文件的扩展名：.html或.htm</li>
</ul>
<h2 id="HTML不是什么？"><a href="#HTML不是什么？" class="headerlink" title="HTML不是什么？"></a>HTML不是什么？</h2><p>HTML是一种标记语言（markup language），它不是一种编程语言。</p>
<p>HTML使用标签来描述网页。</p>
<p><img src="https://images2017.cnblogs.com/blog/867021/201712/867021-20171206155335159-1559665689.png" alt="img"></p>
<h2 id="HTML文档结构"><a href="#HTML文档结构" class="headerlink" title="HTML文档结构"></a>HTML文档结构</h2><p>最基本的HTML文档：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>css样式优先级<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><!DOCTYPE html>声明为HTML5文档。</li>
<li><html>、</html>是文档的开始标记和结束的标记。是HTML页面的根元素，在它们之间是文档的头部（head）和主体（body）。</li>
<li><head>、</head>定义了HTML文档的开头部分。它们之间的内容不会在浏览器的文档窗口显示。包含了文档的元（meta）数据。</li>
<li><title>、</title>定义了网页标题，在浏览器标题栏显示。</li>
<li><body>、</body>之间的文本是可见的网页主体内容。</li>
</ol>
<p><em><strong>注意：</strong>对于中文网页需要使用 <strong><meta charset="utf-8"></strong> 声明编码，否则会出现乱码。有些浏览器会设置 GBK 为默认编码，则你需要设置为 <strong><meta charset="gbk">。</strong></em></p>
<h2 id="HTML标签格式"><a href="#HTML标签格式" class="headerlink" title="HTML标签格式"></a>HTML标签格式</h2><ul>
<li>HTML标签是由尖括号包围的关键字，如<html>, <div>等</li>
<li>HTML标签通常是成对出现的，比如：<div>和</div>，第一个标签是开始，第二个标签是结束。结束标签会有斜线。</li>
<li>也有一部分标签是单独呈现的，比如：<br/>、<hr/>、<img src="1.jpg" />等。</li>
<li>标签里面可以有若干属性，也可以不带属性。</li>
</ul>
<p><strong>标签的语法：</strong></p>
<ul>
<li>&lt;标签名 属性1=“属性值1” 属性2=“属性值2”……&gt;内容部分&lt;/标签名&gt;</li>
<li>&lt;标签名 属性1=“属性值1” 属性2=“属性值2”…… /&gt;</li>
</ul>
<p><strong>几个很重要的属性：</strong></p>
<ul>
<li>id：定义标签的唯一ID，HTML文档树中唯一</li>
<li>class：为html元素定义一个或多个类名（classname）(CSS样式类名)</li>
<li>style：规定元素的行内样式（CSS样式）</li>
</ul>
<h2 id="HTML注释"><a href="#HTML注释" class="headerlink" title="HTML注释"></a>HTML注释</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注释内容--&gt;</span></span><br></pre></td></tr></table></figure>

<p>注释是代码之母。</p>
<h2 id="lt-DOCTYPE-gt-标签"><a href="#lt-DOCTYPE-gt-标签" class="headerlink" title="&lt;!DOCTYPE&gt; 标签"></a>&lt;!DOCTYPE&gt; 标签</h2><!DOCTYPE><p> 声明必须是 HTML 文档的第一行，位于 <html> 标签之前。</p>
<!DOCTYPE><p> 声明不是 HTML 标签；它是指示 web 浏览器关于页面使用哪个 HTML 版本进行编写的指令。</p>
<h1 id="HTML常用标签"><a href="#HTML常用标签" class="headerlink" title="HTML常用标签"></a>HTML常用标签</h1><h2 id="head内常用标签"><a href="#head内常用标签" class="headerlink" title="head内常用标签"></a>head内常用标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td><title></title></td>
<td>定义网页标题</td>
</tr>
<tr>
<td><style></style></td>
<td>定义内部样式表</td>
</tr>
<tr>
<td><script></script></td>
<td>定义JS代码或引入外部JS文件</td>
</tr>
<tr>
<td><link/></td>
<td>引入外部样式表文件或网站图标</td>
</tr>
<tr>
<td><meta/></td>
<td>定义网页原信息</td>
</tr>
</tbody></table>
<h3 id="Meta标签"><a href="#Meta标签" class="headerlink" title="Meta标签"></a>Meta标签</h3><p>Meta标签介绍：</p>
<ul>
<li><meta>元素可提供有关页面的元信息（mata-information）,针对搜索引擎和更新频度的描述和关键词。</li>
<li><meta>标签位于文档的头部，不包含任何内容。</li>
<li><meta>提供的信息是用户不可见的。</li>
</ul>
<p>meta标签的组成：meta标签共有两个属性，它们分别是http-equiv属性和name 属性，不同的属性又有不同的参数值，这些不同的参数值就实现了不同的网页功能。 </p>
<p>1.http-equiv属性：相当于http的文件头作用，它可以向浏览器传回一些有用的信息，以帮助正确地显示网页内容，与之对应的属性值为content，content中的内容其实就是各个参数的变量值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--指定文档的编码类型(需要知道)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-Type&quot;</span> <span class="attr">charset</span>=<span class="string">UTF8</span>&quot;&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!--2秒后跳转到对应的网址，注意引号(了解)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;2;URL=https://www.oldboyedu.com&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--告诉IE以最高级模式渲染文档(了解)--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;x-ua-compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>2.name属性: 主要用于描述网页，与之对应的属性值为content，content中的内容主要是便于搜索引擎机器人查找信息和分类信息用的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;meta总结,html meta,meta属性,meta跳转&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;老男孩教育Python学院&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="body内常用标签"><a href="#body内常用标签" class="headerlink" title="body内常用标签"></a>body内常用标签</h2><h3 id="基本标签（块级标签和内联标签）"><a href="#基本标签（块级标签和内联标签）" class="headerlink" title="基本标签（块级标签和内联标签）"></a>基本标签（块级标签和内联标签）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>加粗<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>斜体<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>下划线<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">s</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>段落标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>标题3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>标题4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>标题5<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>标题6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--换行--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--水平线--&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><table>
<thead>
<tr>
<th align="center">内容</th>
<th align="center">对应代码</th>
</tr>
</thead>
<tbody><tr>
<td align="center">空格</td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center">&gt;</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">&lt;</td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center">&amp;</td>
</tr>
<tr>
<td align="center">¥</td>
<td align="center">&yen;</td>
</tr>
<tr>
<td align="center">版权</td>
<td align="center">&copy;</td>
</tr>
<tr>
<td align="center">注册</td>
<td align="center">&reg;</td>
</tr>
</tbody></table>
<h3 id="div标签和span标签"><a href="#div标签和span标签" class="headerlink" title="div标签和span标签"></a>div标签和span标签</h3><p>div标签用来定义一个块级元素，并无实际的意义。主要通过CSS样式为其赋予不同的表现。<br>span标签用来定义内联(行内)元素，并无实际的意义。主要通过CSS样式为其赋予不同的表现。</p>
<p>块级元素与行内元素的区别：<br>所谓块元素，是以另起一行开始渲染的元素，行内元素则不需另起一行。如果单独在网页中插入这两个元素，不会对页面产生任何的影响。<br>这两个元素是专门为定义CSS样式而生的。</p>
<p><strong>注意：</strong></p>
<p>关于标签嵌套：通常块级元素可以包含内联元素或某些块级元素，但内联元素不能包含块级元素，它只能包含其它内联元素。</p>
<p>p标签不能包含块级标签，p标签也不能包含p标签。</p>
<h3 id="img标签"><a href="#img标签" class="headerlink" title="img标签"></a>img标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;图片的路径&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;图片未加载成功时的提示&quot;</span> <span class="attr">title</span>=<span class="string">&quot;鼠标悬浮时提示信息&quot;</span> <span class="attr">width</span>=<span class="string">&quot;宽&quot;</span> <span class="attr">height</span>=<span class="string">&quot;高(宽高两个属性只用一个会自动等比缩放)&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="a标签"><a href="#a标签" class="headerlink" title="a标签"></a>a标签</h3><p>超链接标签</p>
<p>所谓的超链接是指从一个网页指向一个目标的连接关系，这个目标可以是另一个网页，也可以是相同网页上的不同位置，还可以是一个图片，一个电子邮件地址，一个文件，甚至是一个应用程序。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">什么是URL？</span><br><span class="line">URL是统一资源定位器(Uniform Resource Locator)的缩写，也被称为网页地址，是因特网上标准的资源的地址。</span><br><span class="line">URL举例</span><br><span class="line">http://www.sohu.com/stu/intro.html</span><br><span class="line">http://222.172.123.33/stu/intro.html</span><br><span class="line"></span><br><span class="line">URL地址由4部分组成</span><br><span class="line">第1部分：为协议：http://、ftp://等 </span><br><span class="line">第2部分：为站点地址：可以是域名或IP地址</span><br><span class="line">第3部分：为页面在站点中的目录：stu</span><br><span class="line">第4部分：为页面名称，例如 index.html</span><br><span class="line">各部分之间用“/”符号隔开。</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.oldboyedu.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> &gt;</span>点我<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>href属性指定目标网页地址。该地址可以有几种类型：</p>
<ul>
<li>绝对URL - 指向另一个站点（比如 href=”<a target="_blank" rel="noopener" href="http://www.jd.com)/">http://www.jd.com）</a></li>
<li>相对URL - 指当前站点中确切的路径（href=”index.htm”）</li>
<li>锚URL - 指向页面中的锚（href=”#top”）</li>
</ul>
<p>target：</p>
<ul>
<li>_blank表示在新标签页中打开目标网页</li>
<li>_self表示在当前标签页中打开目标网页</li>
</ul>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>1.无序列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">&quot;disc&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>type属性：</p>
<ul>
<li>disc（实心圆点，默认值）</li>
<li>circle（空心圆圈）</li>
<li>square（实心方块）</li>
<li>none（无样式）</li>
</ul>
<p>2.有序列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;1&quot;</span> <span class="attr">start</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>type属性：</p>
<ul>
<li>1 数字列表，默认值</li>
<li>A 大写字母</li>
<li>a 小写字母</li>
<li>Ⅰ大写罗马</li>
<li>ⅰ小写罗马</li>
</ul>
<p>3.标题列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>标题2<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>内容2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p>表格是一个二维数据空间，一个表格由若干行组成，一个行又有若干单元格组成，单元格里可以包含文字、列表、图案、表单、数字符号、预置文本和其它的表格等内容。<br>表格最重要的目的是显示表格类数据。表格类数据是指最适合组织为表格格式（即按行和列组织）的数据。<br>表格的基本结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Egon<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>杠娘<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Yuan<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>日天<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>属性:</p>
<ul>
<li>border: 表格边框.</li>
<li>cellpadding: 内边距</li>
<li>cellspacing: 外边距.</li>
<li>width: 像素 百分比.（最好通过css来设置长宽）</li>
<li>rowspan: 单元格竖跨多少行</li>
<li>colspan: 单元格横跨多少列（即合并单元格）</li>
</ul>
<h3 id="form"><a href="#form" class="headerlink" title="form"></a>form</h3><p><strong>功能：</strong></p>
<p>表单用于向服务器传输数据，从而实现用户与Web服务器的交互</p>
<p>表单能够包含input系列标签，比如文本字段、复选框、单选框、提交按钮等等。</p>
<p>表单还可以包含textarea、select、fieldset和 label标签。</p>
<p><strong>表单属性</strong></p>
<table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">accept-charset</td>
<td align="center">规定在被提交表单中使用的字符集（默认：页面字符集）。</td>
</tr>
<tr>
<td align="center">action</td>
<td align="center">规定向何处提交表单的地址（URL）（提交页面）。</td>
</tr>
<tr>
<td align="center">autocomplete</td>
<td align="center">规定浏览器应该自动完成表单（默认：开启）。</td>
</tr>
<tr>
<td align="center">enctype</td>
<td align="center">规定被提交数据的编码（默认：url-encoded）。</td>
</tr>
<tr>
<td align="center">method</td>
<td align="center">规定在提交表单时所用的 HTTP 方法（默认：GET）。</td>
</tr>
<tr>
<td align="center">name</td>
<td align="center">规定识别表单的名称（对于 DOM 使用：document.forms.name）。</td>
</tr>
<tr>
<td align="center">novalidate</td>
<td align="center">规定浏览器不验证表单。</td>
</tr>
<tr>
<td align="center">target</td>
<td align="center">规定 action 属性中地址的目标（默认：_self）。</td>
</tr>
</tbody></table>
<p><strong>表单元素</strong></p>
<p>基本概念：<br>HTML表单是HTML元素中较为复杂的部分，表单往往和脚本、动态页面、数据处理等功能相结合，因此它是制作动态网站很重要的内容。<br>表单一般用来收集用户的输入信息<br>表单工作原理：<br>访问者在浏览有表单的网页时，可填写必需的信息，然后按某个按钮提交。这些信息通过Internet传送到服务器上。<br>服务器上专门的程序对这些数据进行处理，如果有错误会返回错误信息，并要求纠正错误。当数据完整无误后，服务器反馈一个输入完成的信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload</span>(<span class="params">request</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;request.GET:&quot;</span>, request.GET)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;request.POST:&quot;</span>, request.POST)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> request.FILES:</span><br><span class="line">        filename = request.FILES[<span class="string">&quot;file&quot;</span>].name</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> request.FILES[<span class="string">&#x27;file&#x27;</span>].chunks():</span><br><span class="line">                f.write(chunk)</span><br><span class="line">            <span class="keyword">return</span> HttpResponse(<span class="string">&#x27;上传成功&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;收到了！&quot;</span>)</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r&#x27;^upload/&#x27;</span>, upload),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><p><input> 元素会根据不同的 type 属性，变化为多种形态。</p>
<table>
<thead>
<tr>
<th align="center">type属性值</th>
<th align="center">表现形式</th>
<th align="center">对应代码</th>
</tr>
</thead>
<tbody><tr>
<td align="center">text</td>
<td align="center">单行输入文本</td>
<td align="center">&lt;input type=text” /&gt;</td>
</tr>
<tr>
<td align="center">password</td>
<td align="center">密码输入框</td>
<td align="center"><input type="password" /></td>
</tr>
<tr>
<td align="center">date</td>
<td align="center">日期输入框</td>
<td align="center"><input type="date" /></td>
</tr>
<tr>
<td align="center">checkbox</td>
<td align="center">复选框</td>
<td align="center"><input type="checkbox" checked="checked" /></td>
</tr>
<tr>
<td align="center">radio</td>
<td align="center">单选框</td>
<td align="center"><input type="radio" /></td>
</tr>
<tr>
<td align="center">submit</td>
<td align="center">提交按钮</td>
<td align="center"><input type="submit" value="提交" /></td>
</tr>
<tr>
<td align="center">reset</td>
<td align="center">重置按钮</td>
<td align="center"><input type="reset" value="重置" /></td>
</tr>
<tr>
<td align="center">button</td>
<td align="center">普通按钮</td>
<td align="center"><input type="button" value="普通按钮" /></td>
</tr>
<tr>
<td align="center">hidden</td>
<td align="center">隐藏输入框</td>
<td align="center"><input type="hidden" /></td>
</tr>
<tr>
<td align="center">file</td>
<td align="center">文本选择框</td>
<td align="center"><input type="file" /></td>
</tr>
</tbody></table>
<p> 属性说明:</p>
<ul>
<li>name：表单提交时的“键”，注意和id的区别</li>
<li>value：表单提交时对应项的值<ul>
<li>type=”button”, “reset”, “submit”时，为按钮上显示的文本年内容</li>
<li>type=”text”,”password”,”hidden”时，为输入框的初始值</li>
<li>type=”checkbox”, “radio”, “file”，为输入相关联的值</li>
</ul>
</li>
<li>checked：radio和checkbox默认被选中的项</li>
<li>readonly：text和password设置只读</li>
<li>disabled：所有input均适用</li>
</ul>
<h3 id="select标签"><a href="#select标签" class="headerlink" title="select标签"></a>select标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;city&quot;</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;4&quot;</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>属性说明：</p>
<ul>
<li>multiple：布尔属性，设置后为多选，否则默认单选</li>
<li>disabled：禁用</li>
<li>selected：默认选中该项</li>
<li>value：定义提交时的选项值</li>
</ul>
<h3 id="label标签"><a href="#label标签" class="headerlink" title="label标签"></a>label标签</h3><p>定义：<label> 标签为 input 元素定义标注（标记）。<br>说明：</p>
<ol>
<li>label 元素不会向用户呈现任何特殊效果。</li>
<li><label> 标签的 for 属性值应当与相关元素的 id 属性值相同。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>用户名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="textarea多行文本"><a href="#textarea多行文本" class="headerlink" title="textarea多行文本"></a>textarea多行文本</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;memo&quot;</span> <span class="attr">id</span>=<span class="string">&quot;memo&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">  默认内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>属性说明：</p>
<ul>
<li>name：名称</li>
<li>rows：行数</li>
<li>cols：列数</li>
<li>disabled：禁用</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/11/HTTP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/11/HTTP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">HTTP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-11 07:20:25" itemprop="dateCreated datePublished" datetime="2021-04-11T07:20:25+08:00">2021-04-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 12:22:34" itemprop="dateModified" datetime="2021-05-01T12:22:34+08:00">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">前端系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><strong>HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,是用于万维网（WWW:World Wide Web ）服务器与本地浏览器之间传输超文本的传送协议。</strong></p>
<p><strong>HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。HTTP协议工作于客户端-服务端架构为上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器根据接收到的请求后，向客户端发送响应信息。</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v3zrxr6j30t008gn1y.jpg" alt="image-20200924172049937"></p>
<h2 id="协议特性"><a href="#协议特性" class="headerlink" title="协议特性"></a>协议特性</h2><h3 id="基于TCP-IP协议之上的应用层协议"><a href="#基于TCP-IP协议之上的应用层协议" class="headerlink" title="基于TCP/IP协议之上的应用层协议"></a>基于TCP/IP协议之上的应用层协议</h3><h3 id="基于请求-响应模式"><a href="#基于请求-响应模式" class="headerlink" title="基于请求-响应模式"></a>基于请求-响应模式</h3><p><strong>HTTP协议规定，请求从客户端发出，最后服务器端应该接收请求并返回响应，换句话说，肯定是先从客户端开始建立通信的，服务端在没有接收到请求之前不会发送响应（于是出现了web_socket）</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v4exupzj30t00a6af1.jpg" alt="image-20200924172118199"></p>
<h3 id="无状态保存"><a href="#无状态保存" class="headerlink" title="无状态保存"></a>无状态保存</h3><p><strong>HTTP是一种不保存状态，即无状态协议. HTTP协议自身不对请求和响应之间的通信状态进行保存. 也就是说HTTP协议对于发送过的请求或响应都不做持久化处理</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v4yobhaj30s00e4q9r.jpg" alt="image-20200924172149501"></p>
<p><strong>使用HTTP协议，每当有新的请求发送时，就会有对应的新响应产生. 协议本身并不保留之前的一切请求或响应报文的信息. 这是为了更快地处理大量事务，确保协议的可伸缩性而特意吧HTTP协议设计成如此简单的</strong></p>
<p><strong>可是随着Web的不断发展，因无状态而导致业务处理变的棘手的情况增多了</strong></p>
<p><strong>HTTP/1.1虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了Cookie技术</strong></p>
<h3 id="无连接"><a href="#无连接" class="headerlink" title="无连接"></a>无连接</h3><p><strong>无连接的含义是限制每次只连接处理一个请求，服务器处理完客户的请求，并收到客户的响应后，立刻断开链接，采用这种方式可以节省传输时间</strong></p>
<h2 id="HTTP版本区别"><a href="#HTTP版本区别" class="headerlink" title="HTTP版本区别"></a>HTTP版本区别</h2><h3 id="HTTP-0-9"><a href="#HTTP-0-9" class="headerlink" title="HTTP/0.9"></a>HTTP/0.9</h3><p><strong>http协议的第一个版本仅适用于数据信息的简介交换，即仅文本传输，只接受GET这一种请求方式，且不支持请求头，由于不支持POST方式，大多数敏感信息无法交换，至此客户端无法向服务器传递过多信息。</strong><br><strong>缺点: 信息种类过于单一，无法满足需求，串行处理</strong></p>
<h3 id="HTTP-1-0"><a href="#HTTP-1-0" class="headerlink" title="HTTP/1.0"></a>HTTP/1.0</h3><p><strong>第一个在通讯中指定版本号的HTTP协议版本，常用于代理服务器，成为了面向事务的应用层协议，;支持cache, MIME, method该协议需要每请求一次响应建立并拆除一次连接，1.0引入了POST和HEAD命令，相对于一版本在一定程度上保障的数据的传输安全，是一个典型的串行连接事务。</strong><br><strong>缺点: 串行处理，效率低下</strong></p>
<h3 id="HTTP-1-1"><a href="#HTTP-1-1" class="headerlink" title="HTTP/1.1"></a>HTTP/1.1</h3><p><strong>引入持久连接机制并被默认采用，且更好的配合代理服务器工作，还支持管道方式同一连接下同时发送多个请求，以降低线路负载，提高传输速度，新增方法: PUT、PATCH、OPTIONS、DELETE</strong><br><strong>缺点: 同一TCP连接里，所有通信按次序进行，服务器只能顺序处理回应，如果前面处理过慢，会有许多请求排队，造成队头阻塞(Head-of-line blocking)</strong></p>
<h3 id="HTTP-2-0"><a href="#HTTP-2-0" class="headerlink" title="HTTP/2.0"></a>HTTP/2.0</h3><p><strong>头信息和数据体都是二进制，称为头信息帧和数据帧</strong><br><strong>复用TCP连接，在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，且不用按顺序一一对应，避免了“队头堵塞“,此双向的实时通信称为多工（Multiplexing）</strong><br><strong>引入头信息压缩机制（header compression）,头信息使用gzip或compress压缩后再发送；客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，不发送同样字段，只发送索引号，提高速度</strong><br><strong>HTTP/2 允许服务器未经请求，主动向客户端发送资源，即服务器推送（server push）</strong></p>
<h2 id="HTTP请求协议与响应协议"><a href="#HTTP请求协议与响应协议" class="headerlink" title="HTTP请求协议与响应协议"></a>HTTP请求协议与响应协议</h2><p><strong>HTTP协议包含由浏览器发送数据到服务器需要遵循的请求协议与服务器发送数据到浏览器需要遵循的请求协议</strong></p>
<p><strong>用于HTTP协议交互的信息被称为HTTP报文</strong></p>
<p><strong>请求端(客户端)的HTTP报文，叫做请求报文，响应端(服务器端)的HTTP报文叫做响应报文</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v5jenz5j30tq0eq7aa.jpg" alt="image-20200924172222493"></p>
<h3 id="请求协议"><a href="#请求协议" class="headerlink" title="请求协议"></a>请求协议</h3><p><strong>请求格式</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v6d9oftj30vi0d2gpn.jpg" alt="image-20200924172250257"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v6jblf2j30tw0caacp.jpg" alt="image-20200924172316497"></p>
<p><strong>请求方式：get与post请求</strong></p>
<ul>
<li>GET提交的数据会放在URL之后，以?分割URL和传输数据，参数之间以&amp;相连，如EditBook?name=test1&amp;id=123456. POST方法是把提交的数据放在HTTP包的请求体中.</li>
<li>GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制.</li>
<li>GET与POST请求在服务端获取请求数据方式不同。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    GET请求</span></span><br><span class="line"><span class="string">    # 请求首行</span></span><br><span class="line"><span class="string">    GET / HTTP/1.1\r\n</span></span><br><span class="line"><span class="string">    # get请求后面的参数</span></span><br><span class="line"><span class="string">    GET /?name=lqz&amp;age=18 HTTP/1.1\r\n</span></span><br><span class="line"><span class="string">    # 请求头</span></span><br><span class="line"><span class="string">    Host: 127.0.0.1:8008\r\n</span></span><br><span class="line"><span class="string">    Connection: keep-alive\r\n</span></span><br><span class="line"><span class="string">    Cache-Control: max-age=0\r\n</span></span><br><span class="line"><span class="string">    Upgrade-Insecure-Requests: 1\r\n</span></span><br><span class="line"><span class="string">    User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\r\n</span></span><br><span class="line"><span class="string">    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\r\nAccept-Encoding: gzip, deflate, br\r\n</span></span><br><span class="line"><span class="string">    Accept-Language: zh-CN,zh;q=0.9\r\n</span></span><br><span class="line"><span class="string">    Cookie: csrftoken=7xx6BxQDJ6KB0PM7qS8uTA892ACtooNbnnF4LDwlYk1Y7S7nTS81FBqwruizHsxF\r\n\r\n&#x27;</span></span><br><span class="line"><span class="string">    # 请求体（get请求，请求体为空）    </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    POST请求</span></span><br><span class="line"><span class="string">    # 请求首行</span></span><br><span class="line"><span class="string">    POST /?name=lqz&amp;age=18 HTTP/1.1\r\n</span></span><br><span class="line"><span class="string">    # 请求头</span></span><br><span class="line"><span class="string">    Host: 127.0.0.1:8008\r\nConnection: keep-alive\r\nContent-Length: 21\r\nCache-Control: max-age=0\r\nOrigin: http://127.0.0.1:8008\r\nUpgrade-Insecure-Requests: 1\r\nContent-Type: application/x-www-form-urlencoded\r\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\r\nReferer: http://127.0.0.1:8008/?name=lqz&amp;age=18\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: zh-CN,zh;q=0.9\r\nCookie: csrftoken=7xx6BxQDJ6KB0PM7qS8uTA892ACtooNbnnF4LDwlYk1Y7S7nTS81FBqwruizHsxF\r\n\r\n</span></span><br><span class="line"><span class="string">    # 请求体</span></span><br><span class="line"><span class="string">    name=lqz&amp;password=123&#x27;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="响应协议"><a href="#响应协议" class="headerlink" title="响应协议"></a>响应协议</h3><p><strong>响应格式</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v7q07r9j30xi0cyaei.jpg" alt="image-20200924172428894"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v87pnwrj30ro0bcwho.jpg" alt="image-20200924172443165"></p>
<h3 id="响应状态码"><a href="#响应状态码" class="headerlink" title="响应状态码"></a>响应状态码</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1v8s70a5j314m0e8tix.jpg" alt="image-20200924172516228"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/11/CSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/11/CSS/" class="post-title-link" itemprop="url">CSS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-11 07:20:25" itemprop="dateCreated datePublished" datetime="2021-04-11T07:20:25+08:00">2021-04-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 12:22:34" itemprop="dateModified" datetime="2021-05-01T12:22:34+08:00">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">前端系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="内容概要"><a href="#内容概要" class="headerlink" title="内容概要"></a>内容概要</h1><ul>
<li>分组与嵌套</li>
<li>伪类选择器</li>
<li>伪元素选择器</li>
<li>选择器优先级</li>
<li>css属性相关(操作标签样式)</li>
<li>浮动</li>
<li>定位</li>
<li>模态框</li>
<li>透明度</li>
</ul>
<h1 id="内容详细"><a href="#内容详细" class="headerlink" title="内容详细"></a>内容详细</h1><h3 id="分组与嵌套"><a href="#分组与嵌套" class="headerlink" title="分组与嵌套"></a>分组与嵌套</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>,<span class="selector-tag">p</span>,<span class="selector-tag">span</span> &#123;  <span class="comment">/*逗号表示并列关系*/</span></span><br><span class="line">            <span class="attribute">color</span>: yellow;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="selector-id">#d1</span>,<span class="selector-class">.c1</span>,<span class="selector-tag">span</span>  &#123;</span><br><span class="line">            <span class="attribute">color</span>: orange;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="伪类选择器"><a href="#伪类选择器" class="headerlink" title="伪类选择器"></a>伪类选择器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: black;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;  <span class="comment">/*访问之前的状态*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;  <span class="comment">/*需要记住*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: aqua;  <span class="comment">/*鼠标悬浮态*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: black;  <span class="comment">/*鼠标点击不松开的状态  激活态*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: darkgray;  <span class="comment">/*访问之后的状态*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: darkgray;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-size</span>: <span class="number">48px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        </span></span><br><span class="line"><span class="css">        <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span> &#123;  <span class="comment">/*input框获取焦点(鼠标点了input框)*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.jd.com/&quot;</span>&gt;</span>小轩在不在?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>点我有你好看哦<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器"></a>伪元素选择器</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-letter &#123;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">48px</span>;</span><br><span class="line">            <span class="attribute">color</span>: orange;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="selector-tag">p</span>:before &#123;  /*在文本开头 同css添加内容*/</span><br><span class="line">            content: <span class="string">&#x27;你说的对&#x27;</span>;</span><br><span class="line">            <span class="attribute">color</span>: blue;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="selector-tag">p</span>:after &#123;</span><br><span class="line">            content: <span class="string">&#x27;雨露均沾&#x27;</span>;</span><br><span class="line">            <span class="attribute">color</span>: orange;</span><br><span class="line">        &#125;</span><br><span class="line">ps:before和after通常都是用来清除浮动带来的影响:父标签塌陷的问题(后面马上讲)</span><br></pre></td></tr></table></figure>

<h3 id="选择器优先级"><a href="#选择器优先级" class="headerlink" title="选择器优先级"></a>选择器优先级</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">id选择器</span><br><span class="line">类选择器</span><br><span class="line">标签选择器</span><br><span class="line">行内式</span><br><span class="line">    </span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="css">            1.选择器相同 书写顺序不同</span></span></span><br><span class="line"><span class="comment"><span class="css">                就近原则:谁离标签更近就听谁的</span></span></span><br><span class="line"><span class="comment"><span class="css">            2.选择器不同 ...</span></span></span><br><span class="line"><span class="comment"><span class="css">                行内 &gt; id选择器  &gt; 类选择器 &gt; 标签选择器</span></span></span><br><span class="line"><span class="comment"><span class="css">                精确度越高越有效</span></span></span><br><span class="line"><span class="comment"><span class="css">        */</span></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: aqua;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/*.c1 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    color: orange;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*p &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    color: red;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;link rel=&quot;stylesheet&quot; href=&quot;mycss1.css&quot;&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: blue&quot;</span>&gt;</span>贤妻果然很识趣，有前途~<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="css属性相关"><a href="#css属性相关" class="headerlink" title="css属性相关"></a>css属性相关</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">        <span class="selector-tag">p</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: red;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">span</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: green;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">            <span class="comment">/*行内标签无法设置长宽 就算你写了 也不会生效*/</span></span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">            <span class="comment">/*font-family: &quot;Arial Black&quot;,&quot;微软雅黑&quot;,&quot;...&quot;;  !*第一个不生效就用后面的 写多个备用*!*/</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*font-size: 24px;  !*字体大小*!*/</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*font-weight: inherit;  !*bolder lighter 100~900 inherit继承父元素的粗细值*!*/</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*color: red;  !*直接写颜色英文*!*/</span></span><br><span class="line">            <span class="comment">/*color: #ee762e;  !*颜色编号*!*/</span></span><br><span class="line">            <span class="comment">/*color: rgb(128,23,45);  !*三基色 数字  范围0-255*!*/</span></span><br><span class="line">            <span class="comment">/*color: rgba(23, 128, 91, 0.9);  !*第四个参数是颜色的透明度 范围是0-1*!*/</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*当你想要一些颜色的时候 可以利用现成的工具</span></span><br><span class="line"><span class="comment">                1 pycharm提供的取色器</span></span><br><span class="line"><span class="comment">                2 qq或者微信截图功能</span></span><br><span class="line"><span class="comment">                              也可以多软件结合使用 </span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="文字属性"><a href="#文字属性" class="headerlink" title="文字属性"></a>文字属性</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">            <span class="comment">/*text-align: center;  !*居中*!*/</span></span><br><span class="line">            <span class="comment">/*text-align: right;*/</span></span><br><span class="line">            <span class="comment">/*text-align: left;*/</span></span><br><span class="line">            <span class="comment">/*text-align: justify;  !*两端对齐*!*/</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/*text-decoration: underline;*/</span></span><br><span class="line">            <span class="comment">/*text-decoration: overline;*/</span></span><br><span class="line">            <span class="comment">/*text-decoration: line-through;*/</span></span><br><span class="line">            <span class="comment">/*text-decoration: none;*/</span></span><br><span class="line">            <span class="comment">/*在html中 有很多标签渲染出来的样式效果是一样的*/</span></span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">            <span class="attribute">text-indent</span>: <span class="number">32px</span>;   <span class="comment">/*缩进32px*/</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">a</span> &#123;</span><br><span class="line">            <span class="attribute">text-decoration</span>: none;  <span class="comment">/*主要用于给a标签去掉自带的下划线  需要掌握*/</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="背景图片"><a href="#背景图片" class="headerlink" title="背景图片"></a>背景图片</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d2</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d3</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;222.png&quot;</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">background-attachment</span>: fixed;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d4</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="attribute">border-width</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-style</span>: solid;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-color</span>: green;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/*border-left-width: 5px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-left-color: red;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-left-style: dotted;*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-right-width: 10px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-right-color: greenyellow;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-right-style: solid;*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-top-width: 15px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-top-color: deeppink;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-top-style: dashed;*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-bottom-width: 10px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-bottom-color: tomato;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*border-bottom-style: solid;*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">3px</span> solid red;  <span class="comment">/*三者位置可以随意写*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: greenyellow;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;  <span class="comment">/*直接写50%即可 长宽一样就是圆 不一样就是椭圆*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>穷人  被diss到了  哭泣.png<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>妈拉个巴子,妈拉个巴子,妈拉个巴子,妈拉个巴子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="display属性"><a href="#display属性" class="headerlink" title="display属性"></a>display属性</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d1 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    !*display: none;  !*隐藏标签不展示到前端页面并且原来的位置也不再占有了 但是还存在于文档上*!*!*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: inline;  !*将标签设置为行内标签的特点*!*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d2 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: inline;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d1 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: block;  !*将标签设置成块儿级标签的特点*!*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d2 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: block;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d1 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: inline-block;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*#d2 &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    display: inline-block;  !*标签即可以在一行显示又可以设置长宽*!*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: none&quot;</span>&gt;</span>div1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>div2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;visibility: hidden&quot;</span>&gt;</span>单纯的隐藏 位置还在<span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>div4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div id=&quot;d1&quot; style=&quot;height: 100px;width: 100px;background-color: red&quot;&gt;01&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div id=&quot;d2&quot; style=&quot;height: 100px;width: 100px;background-color: greenyellow&quot;&gt;02&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;span id=&quot;d1&quot; style=&quot;height: 100px;width: 100px;background-color: red&quot;&gt;span&lt;/span&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;span id=&quot;d2&quot; style=&quot;height: 100px;width: 100px;background-color: greenyellow&quot;&gt;span&lt;/span&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--&lt;div id=&quot;d1&quot; style=&quot;height: 100px;width: 100px;background-color: red&quot;&gt;01&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div id=&quot;d2&quot; style=&quot;height: 100px;width: 100px;background-color: greenyellow&quot;&gt;02&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">盒子模型</span><br><span class="line">    就以快递盒为例</span><br><span class="line">        快递盒与快递盒之间的距离(标签与标签之间的距离 margin外边距)</span><br><span class="line">        盒子的厚度(标签的边框 border)</span><br><span class="line">        盒子里面的物体到盒子的距离(内容到边框的距离  padding内边距)</span><br><span class="line">        物体的大小(内容 content)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    如果你想要调整标签与标签之间的距离 你就可以调整margin</span><br><span class="line">    </span><br><span class="line">    浏览器会自带8px的margin，一般情况下我们在写页面的时候，上来就会先将body的margin去除</span><br><span class="line">    </span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;  <span class="comment">/*上下左右全是0</span></span></span><br><span class="line"><span class="comment"><span class="css">            /*margin: 10px 20px;  !* 第一个上下 第二个左右*!*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*margin: 10px 20px 30px;  !*第一个上  第二个左右  第三个下*!*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*margin: 10px 20px 30px 40px;  !*上 右 下 左*!*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/*p &#123;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    margin-left: 0;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    margin-top: 0;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    margin-right: 0;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*    margin-bottom: 0;*/</span></span></span><br><span class="line"><span class="css">        <span class="comment">/*&#125;*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-bottom</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d2</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-top</span>: <span class="number">20px</span>;  <span class="comment">/*不叠加 只取大的*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#dd</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;  <span class="comment">/*只能做到标签的水平居中*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">3px</span> solid red;</span></span><br><span class="line"><span class="css">            <span class="comment">/*padding-left: 10px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding-top: 20px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding-right: 20px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding-bottom: 50px;*/</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding: 10px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding: 10px 20px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding: 10px 20px 30px;*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*padding: 10px 20px 30px 40px;*/</span>  <span class="comment">/*规律和margin一模一样*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;p style=&quot;border: 1px solid red;&quot; id=&quot;d1&quot;&gt;ppp&lt;/p&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;p style=&quot;border: 1px solid orange;&quot; id=&quot;d2&quot;&gt;ppp&lt;/p&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;border: 3px solid red;height: 400px;width: 400px&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;div id=&#x27;dd&#x27; style=&quot;border: 1px solid orange;height: 50px;width: 50px;&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;/div&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ppp<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;浮动的元素 没有块儿级一说 本身多大浮起来之后就只能占多大&quot;&quot;&quot;</span><br><span class="line">只要是设计到页面的布局一般都是用浮动来提前规划好</span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">            <span class="attribute">float</span>: left;  <span class="comment">/*浮动  浮到空中往左飘*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d2</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: greenyellow;</span></span><br><span class="line"><span class="css">            <span class="attribute">float</span>: right;   <span class="comment">/*浮动 浮到空中往右飘*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="解决浮动带来的影响"><a href="#解决浮动带来的影响" class="headerlink" title="解决浮动带来的影响"></a>解决浮动带来的影响</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--浮动带来的影响--&gt;</span></span><br><span class="line">会造成父标签塌陷的问题</span><br></pre></td></tr></table></figure>



<h3 id="溢出属性"><a href="#溢出属性" class="headerlink" title="溢出属性"></a>溢出属性</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">            <span class="attribute">border</span>: <span class="number">3px</span> solid red;</span><br><span class="line">            <span class="comment">/*overflow: visible;  !*默认就是可见 溢出还是展示*!*/</span></span><br><span class="line">            <span class="comment">/*overflow: hidden;  !*溢出部分直接隐藏*!*/</span></span><br><span class="line">            <span class="comment">/*overflow: scroll;  !*设置成上下滚动条的形式*!*/</span></span><br><span class="line">            <span class="comment">/*overflow: auto;*/</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><ul>
<li><p>静态</p>
<p>所有的标签默认都是静态的static，无法改变位置</p>
</li>
<li><p>相对定位(了解)</p>
<p>相对于标签原来的位置做移动relative</p>
</li>
<li><p>绝对定位(常用)</p>
<p>相对于已经定位过的父标签做移动(如果没有父标签那么就以body为参照)</p>
<p>eg:小米网站购物车</p>
<p>当你不知道页面其他标签的位置和参数，只给了你一个父标签的参数，让你基于该标签左定位</p>
</li>
<li><p>固定定位(常用)</p>
<p>相对于浏览器窗口固定在某个位置</p>
<p>eg:右侧小广告</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">50px</span>;  <span class="comment">/*从左往右   如果是负数 方向则相反*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">50px</span>;  <span class="comment">/*从上往下    如果是负数 方向则相反*/</span></span></span><br><span class="line"><span class="css">            <span class="comment">/*position: static;  !*默认是static无法修改位置*!*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">            <span class="comment">/*相对定位</span></span></span><br><span class="line"><span class="comment"><span class="css">            标签由static变为relative它的性质就从原来没有定位的标签变成了已经定位过的标签</span></span></span><br><span class="line"><span class="comment"><span class="css">            虽然你哪怕没有动 但是你的性质也已经改变了</span></span></span><br><span class="line"><span class="comment"><span class="css">            */</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d2</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;  <span class="comment">/*已经定位过了*/</span></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#d3</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#d4</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: fixed;  <span class="comment">/*写了fixed之后 定位就是依据浏览器窗口*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">3px</span> solid black;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;div id=&quot;d1&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--&lt;div id=&quot;d2&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;div id=&quot;d3&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;/div&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 500px; color: rgb(152, 26, 26);&quot;</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 500px; color: rgb(152, 26, 26);&quot;</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 500px; color: rgb(152, 26, 26);&quot;</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d4&quot;</span>&gt;</span>回到顶部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">ps:浏览器是优先展示文本内容的</span><br></pre></td></tr></table></figure>

<h3 id="验证浮动和定位是否脱离文档流-原来的位置是否还保留"><a href="#验证浮动和定位是否脱离文档流-原来的位置是否还保留" class="headerlink" title="验证浮动和定位是否脱离文档流(原来的位置是否还保留)"></a>验证浮动和定位是否脱离文档流(原来的位置是否还保留)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">浮动</span><br><span class="line">相对定位</span><br><span class="line">绝对定位</span><br><span class="line">固定定位</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"># 不脱离文档流</span><br><span class="line">    1.相对定位</span><br><span class="line"># 脱离文档流</span><br><span class="line">    1.浮动</span><br><span class="line">  2.绝对定位</span><br><span class="line">  3.固定定位</span><br><span class="line">  </span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;height: 100px;width: 200px;position: relative;left: 500px&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;height: 100px;width: 200px; color: rgb(152, 26, 26);&quot;&gt;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;height: 100px;width: 200px;&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;height: 100px;width: 200px;position: absolute;left: 500px&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--当没有父标签做到位 就参照与body--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;div style=&quot;height: 100px;width: 200px;&quot;&gt;&lt;/div&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px;width: 200px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px;width: 200px;position: fixed;bottom: 10px;right: 20px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px;width: 200px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="z-index模态框"><a href="#z-index模态框" class="headerlink" title="z-index模态框"></a>z-index模态框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">eg:百度登陆页面 其实是三层结构</span><br><span class="line">  1.最底部是正常内容(z=0)  最远的</span><br><span class="line">  2.黑色的透明区(z=99)        中间层</span><br><span class="line">  3.白色的注册区域(z=100)  离用户最近</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.cover</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">z-index</span>: <span class="number">99</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">z-index</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-left</span>: -<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这是最底层的页面内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>登陆页面<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>username:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点我点我~<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="透明度opacity"><a href="#透明度opacity" class="headerlink" title="透明度opacity"></a>透明度opacity</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 它不单单可以修改颜色的透明度还同时修改字体的透明度</span></span><br><span class="line">rgba只能影响颜色 </span><br><span class="line">而opacity可以修改颜色和字体</span><br><span class="line"></span><br><span class="line">opacity: <span class="number">0.5</span>;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/11/jQuery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="池劲涛">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="池劲涛的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/11/jQuery/" class="post-title-link" itemprop="url">jQuery</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-11 07:20:25" itemprop="dateCreated datePublished" datetime="2021-04-11T07:20:25+08:00">2021-04-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 12:22:34" itemprop="dateModified" datetime="2021-05-01T12:22:34+08:00">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">前端系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">jQuery内部封装了原生的js代码(还额外添加了很多的功能)</span></span><br><span class="line"><span class="string">能够让你通过书写更少的代码 完成js操作 </span></span><br><span class="line"><span class="string">类似于python里面的模块  在前端模块不叫模块  叫 “类库”</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">兼容多个浏览器的 你在使用jQuery的时候就不需要考虑浏览器兼容问题</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">jQuery的宗旨</span></span><br><span class="line"><span class="string">    write less do more</span></span><br><span class="line"><span class="string">    让你用更少的代码完成更多的事情</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">复习</span></span><br><span class="line"><span class="string">    python导入模块发生了哪些事？</span></span><br><span class="line"><span class="string">        导入模块其实需要消耗资源</span></span><br><span class="line"><span class="string">    jQuery在使用的时候也需要导入</span></span><br><span class="line"><span class="string">        但是它的文件非常的小(几十KB) 基本不影响网络速度</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">选择器</span></span><br><span class="line"><span class="string">筛选器</span></span><br><span class="line"><span class="string">样式操作</span></span><br><span class="line"><span class="string">文本操作</span></span><br><span class="line"><span class="string">属性操作</span></span><br><span class="line"><span class="string">文档处理</span></span><br><span class="line"><span class="string">事件</span></span><br><span class="line"><span class="string">动画效果</span></span><br><span class="line"><span class="string">插件</span></span><br><span class="line"><span class="string">each、data、Ajax(重点 django部分学)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">版本介绍</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">jQuery文件下载</span></span><br><span class="line"><span class="string">    压缩          容量更小</span></span><br><span class="line"><span class="string">    未压缩</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"># jQuery在使用之前 一定要确保已经导入了</span><br></pre></td></tr></table></figure>

<h3 id="针对导入问题"><a href="#针对导入问题" class="headerlink" title="针对导入问题"></a>针对导入问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1</span> 文件下载到了本地 如何解决多个文件反复书写引入语句的代码</span><br><span class="line">    可以借助于pycharm自动初始化代码功能完成自动添加</span><br><span class="line">      配置</span><br><span class="line">        编辑</span><br><span class="line">          file and code template</span><br><span class="line">  <span class="string">&quot;&quot;</span><span class="string">&quot;我不想下载jQuery文件 能不能使用呢？&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">  </span><br><span class="line"># <span class="number">2</span> 直接引入jQuery提供的CDN服务(基于网络直接请求加载)</span><br><span class="line">    <span class="attr">CDN</span>:内容分发网络</span><br><span class="line">      CDN有免费的也有收费的</span><br><span class="line">    前端免费的cdn网站:</span><br><span class="line">          bootcdn</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  <span class="string">&quot;&quot;</span><span class="string">&quot;         &quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"># jQuery基本语法</span><br><span class="line">    jQuery(选择器).action()</span><br><span class="line">  秉持着jQuery的宗旨 jQuery简写    $</span><br><span class="line">  jQuery()  === $()</span><br><span class="line"></span><br><span class="line"># jQuery与js代码对比</span><br><span class="line">    <span class="attr">eg</span>:将p标签内部的文本颜色改为红色</span><br><span class="line">       <span class="comment">// 原生js代码操作标签</span></span><br><span class="line">        <span class="keyword">let</span> pEle = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;d1&#x27;</span>)</span><br><span class="line">        pEle.style.color = <span class="string">&#x27;red&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// jQuery操作标签</span></span><br><span class="line">        $(<span class="string">&#x27;p&#x27;</span>).css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;blue&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// id选择器</span></span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>)</span><br><span class="line">w.fn.init [div#d1]<span class="number">0</span>: div#d1length: 1__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// class选择器</span></span><br><span class="line">$(<span class="string">&#x27;.c1&#x27;</span>)</span><br><span class="line">w.fn.init [p.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: p.c1length: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// 标签选择器</span></span><br><span class="line">$(<span class="string">&#x27;span&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">3</span>) [span, span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;一定要区分开(重点)&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">// jQuery对象如何变成标签对象</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">&lt;div id=<span class="string">&quot;d1&quot;</span>&gt;…&lt;/div&gt;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;d1&#x27;</span>)</span><br><span class="line">&lt;div id=<span class="string">&quot;d1&quot;</span>&gt;…&lt;/div&gt;</span><br><span class="line"><span class="comment">// 标签对象如何转jQuery对象</span></span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;d1&#x27;</span>))</span><br><span class="line">w.fn.init [div#d1]</span><br></pre></td></tr></table></figure>

<h3 id="组合选择器-分组与嵌套"><a href="#组合选择器-分组与嵌套" class="headerlink" title="组合选择器/分组与嵌套"></a>组合选择器/分组与嵌套</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [div#d1, div.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div.c1&#x27;</span>)</span><br><span class="line">w.fn.init [div.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: div.c1length: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;div#d1&#x27;</span>)</span><br><span class="line">w.fn.init [div#d1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">19</span>) [html, head, meta, title, meta, link, script, script, body, span, span, div#d1, span, p#d2, span, span, div.c1, span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;#d1,.c1,p&#x27;</span>)  # 并列+混用</span><br><span class="line">w.fn.init(<span class="number">3</span>) [div#d1, p#d2, div.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;div span&#x27;</span>)  # 后代</span><br><span class="line">w.fn.init(<span class="number">3</span>) [span, span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div&gt;span&#x27;</span>)  # 儿子</span><br><span class="line">w.fn.init(<span class="number">2</span>) [span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div+span&#x27;</span>)  # 毗邻</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div~span&#x27;</span>)  # 弟弟</span><br><span class="line">w.fn.init(<span class="number">2</span>) [span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="基本筛选器"><a href="#基本筛选器" class="headerlink" title="基本筛选器"></a>基本筛选器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;ul li&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">10</span>) [li, li, li, li, li, li, li.c1, li, li#d1, li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;ul li:first&#x27;</span>)  # 大儿子 </span><br><span class="line">w.fn.init [li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: lilength: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;ul li:last&#x27;</span>)  # 小儿子</span><br><span class="line">w.fn.init [li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: lilength: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;ul li:eq(2)&#x27;</span>)        # 放索引</span><br><span class="line">w.fn.init [li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: lilength: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;ul li:even&#x27;</span>)  # 偶数索引 <span class="number">0</span>包含在内</span><br><span class="line">w.fn.init(<span class="number">5</span>) [li, li, li, li.c1, li#d1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: li1: li2: li3: li.c14: li#d1length: 5prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;ul li:odd&#x27;</span>)  # 奇数索引</span><br><span class="line">w.fn.init(<span class="number">5</span>) [li, li, li, li, li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: li1: li2: li3: li4: lilength: 5prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;ul li:gt(2)&#x27;</span>)  # 大于索引</span><br><span class="line">w.fn.init(<span class="number">7</span>) [li, li, li, li.c1, li, li#d1, li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: li1: li2: li3: li.c14: li5: li#d16: lilength: 7prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;ul li:lt(2)&#x27;</span>)  # 小于索引</span><br><span class="line">w.fn.init(<span class="number">2</span>) [li, li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: li1: lilength: 2prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;ul li:not(&quot;#d1&quot;)&#x27;</span>)  # 移除满足条件的标签</span><br><span class="line">w.fn.init(<span class="number">9</span>) [li, li, li, li, li, li, li.c1, li, li, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">         </span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [div, div, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div:has(&quot;p&quot;)&#x27;</span>)  # 选取出包含一个或多个标签在内的标签</span><br><span class="line">w.fn.init [div, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;[username]&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">3</span>) [input, input, p, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;[username=&quot;jason&quot;]&#x27;</span>)</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;p[username=&quot;egon&quot;]&#x27;</span>)</span><br><span class="line">w.fn.init [p, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"># 内置的属性</span><br><span class="line">$(<span class="string">&#x27;[type]&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [input, input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;[type=&quot;text&quot;]&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [input, input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="表单筛选器"><a href="#表单筛选器" class="headerlink" title="表单筛选器"></a>表单筛选器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;input[type=&quot;text&quot;]&#x27;</span>)</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: inputlength: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;input[type=&quot;password&quot;]&#x27;</span>)</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;:text&#x27;</span>)  # 等价于上面第一个</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: inputlength: 1prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;:password&#x27;</span>)  # 等价于上面第二个</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:text</span><br><span class="line">:password</span><br><span class="line">:file</span><br><span class="line">:radio</span><br><span class="line">:checkbox</span><br><span class="line">:submit</span><br><span class="line">:reset</span><br><span class="line">:button</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">表单对象属性</span><br><span class="line">:enabled</span><br><span class="line">:disabled</span><br><span class="line">:checked</span><br><span class="line">:selected</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;特殊情况&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">$(<span class="string">&#x27;:checked&#x27;</span>)  # 它会将checked和selected都拿到</span><br><span class="line">w.fn.init(<span class="number">2</span>) [input, option, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: input1: optionlength: 2prevObject: w.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;:selected&#x27;</span>)  # 它不会 只拿selected</span><br><span class="line">w.fn.init [option, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;input:checked&#x27;</span>)  # 自己加一个限制条件</span><br><span class="line">w.fn.init [input, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="筛选器方法"><a href="#筛选器方法" class="headerlink" title="筛选器方法"></a>筛选器方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).next()  # 同级别下一个</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: spanlength: 1prevObject: w.fn.init [span#d1]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).nextAll() # 同级别下的所有</span><br><span class="line">w.fn.init(<span class="number">5</span>) [span, div#d2, span, span, span.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: span1: div#d22: span3: span4: span.c1length: 5prevObject: w.fn.init [span#d1]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).nextUntil(<span class="string">&#x27;.c1&#x27;</span>)  # 不包括最后一个</span><br><span class="line">w.fn.init(<span class="number">4</span>) [span, div#d2, span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: span1: div#d22: span3: spanlength: 4prevObject: w.fn.init [span#d1]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">              </span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;.c1&#x27;</span>).prev()  # 上一个</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: spanlength: 1prevObject: w.fn.init [span.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;.c1&#x27;</span>).prevAll()</span><br><span class="line">w.fn.init(<span class="number">5</span>) [span, span, div#d2, span, span#d1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;.c1&#x27;</span>).prevUntil(<span class="string">&#x27;#d2&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent()  # 第一级父标签</span><br><span class="line">w.fn.init [p, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]<span class="number">0</span>: plength: 1prevObject: w.fn.init [span#d3]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent().parent()</span><br><span class="line">w.fn.init [div#d2, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent().parent().parent()</span><br><span class="line">w.fn.init [body, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent().parent().parent().parent()</span><br><span class="line">w.fn.init [html, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent().parent().parent().parent().parent()</span><br><span class="line">w.fn.init [<span class="built_in">document</span>, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parent().parent().parent().parent().parent().parent()</span><br><span class="line">w.fn.init [prevObject: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parents()</span><br><span class="line">w.fn.init(<span class="number">4</span>) [p, div#d2, body, html, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).parentsUntil(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [p, div#d2, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).children()  # 儿子</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).siblings()  # 同级别上下所有</span><br><span class="line">              </span><br><span class="line">              </span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;div p&#x27;</span>)</span><br><span class="line"># 等价           </span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).find(<span class="string">&#x27;p&#x27;</span>)  # find从某个区域内筛选出想要的标签 </span><br><span class="line">              </span><br><span class="line">              </span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;下述两两等价&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">$(<span class="string">&#x27;div span:first&#x27;</span>)</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div span&#x27;</span>).first()</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">3</span>)]<span class="number">0</span>: spanlength: 1prevObject: w.fn.init(<span class="number">3</span>) [span, span#d3, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line">                                                                                    </span><br><span class="line">$(<span class="string">&#x27;div span:last&#x27;</span>)</span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div span&#x27;</span>).last()</span><br><span class="line">                                                                                    </span><br><span class="line">w.fn.init [span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">3</span>)]</span><br><span class="line">$(<span class="string">&#x27;div span:not(&quot;#d3&quot;)&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div span&#x27;</span>).not(<span class="string">&#x27;#d3&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">2</span>) [span, span, <span class="attr">prevObject</span>: w.fn.init(<span class="number">3</span>)] </span><br></pre></td></tr></table></figure>



<h3 id="jQuery练习题"><a href="#jQuery练习题" class="headerlink" title="jQuery练习题"></a>jQuery练习题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#i1&#x27;</span>)</span><br><span class="line">r.fn.init [div#i1.container]</span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;h2&#x27;</span>)</span><br><span class="line">r.fn.init [h2, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">9</span>) [input#exampleInputEmail1.form-control, input#exampleInputPassword1.form-control, input#exampleInputFile, input, input, input, input, input#optionsRadios1, input#optionsRadios2, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;.c1&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">2</span>) [h1.c1, h1.c1, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.btn-default&#x27;</span>)</span><br><span class="line">r.fn.init [button#btnSubmit.btn.btn-<span class="keyword">default</span>, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;.c1,h2&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">3</span>) [h1.c1, h1.c1, h2, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.c1,#p3&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">3</span>) [h1.c1, h1.c1, p#p3.divider, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;.c1,.btn&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">11</span>) [h1.c1, h1.c1, a.btn.btn-primary.btn-lg, button.btn.btn-warning, button.btn.btn-danger, button.btn.btn-warning, button.btn.btn-danger, button.btn.btn-warning, button.btn.btn-danger, button#btnSubmit.btn.btn-<span class="keyword">default</span>, a.btn.btn-success, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;form&#x27;</span>).find(<span class="string">&#x27;input&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">3</span>) [input#exampleInputEmail1.form-control, input#exampleInputPassword1.form-control, input#exampleInputFile, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;label input&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">6</span>) [input, input, input, input, input#optionsRadios1, input#optionsRadios2, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;label+input&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">3</span>) [input#exampleInputEmail1.form-control, input#exampleInputPassword1.form-control, input#exampleInputFile, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">              </span><br><span class="line">$(<span class="string">&#x27;#p2~li&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">8</span>) [li, li, li, li, li, li, li, li, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#f1 input:first&#x27;</span>)</span><br><span class="line">r.fn.init [input#exampleInputEmail1.form-control, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;#my-checkbox input:last&#x27;</span>)</span><br><span class="line">r.fn.init [input, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#my-checkbox input[checked!=&quot;checked&quot;]&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">3</span>) [input, input, input, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]<span class="number">0</span>: input1: input2: inputlength: 3prevObject: r.fn.init [<span class="built_in">document</span>]__proto__: <span class="built_in">Object</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;label:has(&quot;input&quot;)&#x27;</span>)</span><br><span class="line">r.fn.init(<span class="number">6</span>) [label, label, label, label, label, label, <span class="attr">prevObject</span>: r.fn.init(<span class="number">1</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="操作标签"><a href="#操作标签" class="headerlink" title="操作标签"></a>操作标签</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"># 操作类</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">js版本                                                        jQuery版本</span></span><br><span class="line"><span class="string">classList.add()                                              addClass()</span></span><br><span class="line"><span class="string">classList.remove()                                           removeClass()</span></span><br><span class="line"><span class="string">classList.contains()                                         hasClass()</span></span><br><span class="line"><span class="string">classList.toggle()                                           toggleClass()</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"># css操作</span><br><span class="line">&lt;p&gt;<span class="number">111</span>&lt;/p&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>222<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;一行代码将第一个p标签变成红色第二个p标签变成绿色&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).first().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>).next().css(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line"># jQuery的链式操作 使用jQuery可以做到一行代码操作很多标签</span><br><span class="line"># jQuery对象调用jQuery方法之后返回的还是当前jQuery对象 也就可以继续调用其他方法</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>(<span class="title">object</span>):</span></span><br><span class="line"><span class="class">    <span class="title">def</span> <span class="title">func1</span>(<span class="title">self</span>):</span></span><br><span class="line"><span class="class">        <span class="title">print</span>(&#x27;<span class="title">func1</span>&#x27;)</span></span><br><span class="line"><span class="class">        <span class="title">return</span> <span class="title">self</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    <span class="title">def</span> <span class="title">func2</span>(<span class="title">self</span>):</span></span><br><span class="line"><span class="class">        <span class="title">print</span>(&#x27;<span class="title">func2</span>&#x27;)</span></span><br><span class="line"><span class="class">        <span class="title">return</span> <span class="title">self</span></span></span><br><span class="line"><span class="class"><span class="title">obj</span> </span>= MyClass()</span><br><span class="line">obj.func1().func2()</span><br><span class="line"></span><br><span class="line"># 位置操作</span><br><span class="line">offset()  # 相对于浏览器窗口</span><br><span class="line">position()  # 相对于父标签</span><br><span class="line"></span><br><span class="line">scrollTop()     # 需要了解</span><br><span class="line">    $(<span class="built_in">window</span>).scrollTop()</span><br><span class="line">  <span class="number">0</span></span><br><span class="line">  $(<span class="built_in">window</span>).scrollTop()</span><br><span class="line">  <span class="number">969</span></span><br><span class="line">  $(<span class="built_in">window</span>).scrollTop()  # 括号内不加参数就是获取</span><br><span class="line">  <span class="number">1733</span></span><br><span class="line">  $(<span class="built_in">window</span>).scrollTop(<span class="number">0</span>)  # 加了参数就是设置</span><br><span class="line">  n.fn.init [Window]</span><br><span class="line">  $(<span class="built_in">window</span>).scrollTop(<span class="number">500</span>)</span><br><span class="line">  n.fn.init [Window]</span><br><span class="line">scrollLeft()</span><br><span class="line"></span><br><span class="line"># 尺寸</span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).height()  # 文本</span><br><span class="line"><span class="number">20</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).width()</span><br><span class="line"><span class="number">1670</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).innerHeight()  # 文本+padding</span><br><span class="line"><span class="number">26</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).innerWidth()</span><br><span class="line"><span class="number">1674</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).outerHeight()  # 文本+padding+border</span><br><span class="line"><span class="number">26</span></span><br><span class="line">$(<span class="string">&#x27;p&#x27;</span>).outerWidth()</span><br><span class="line"><span class="number">1674</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 文本操作</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">操作标签内部文本</span></span><br><span class="line"><span class="string">js                                          jQuery</span></span><br><span class="line"><span class="string">innerText                               text()  括号内不加参数就是获取加了就是设置</span></span><br><span class="line"><span class="string">innerHTML                               html()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).text()</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">    </span><br><span class="line">        有些话听听就过去了，不要在意，都是成年人!</span><br><span class="line">    </span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).html()</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">    &lt;p&gt;</span><br><span class="line">        有些话听听就过去了，不要在意，都是成年人!</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).text(&#x27;你们都是我的大宝贝&#x27;)</span></span><br><span class="line"><span class="string">w.fn.init [div, prevObject: w.fn.init(1)]</span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).html(&#x27;你个臭妹妹&#x27;)</span></span><br><span class="line"><span class="string">w.fn.init [div, prevObject: w.fn.init(1)]</span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).text(&#x27;&lt;h1&gt;你们都是我的大宝贝&lt;/h1&gt;&#x27;)</span></span><br><span class="line"><span class="string">w.fn.init [div, prevObject: w.fn.init(1)]</span></span><br><span class="line"><span class="string">$(&#x27;div&#x27;).html(&#x27;&lt;h1&gt;你个臭妹妹&lt;/h1&gt;&#x27;)</span></span><br><span class="line"><span class="string">w.fn.init [div, prevObject: w.fn.init(1)]</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"># 获取值操作</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">js                                                  jQuery</span></span><br><span class="line"><span class="string">.value                                          .val()</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).val()</span><br><span class="line"><span class="string">&quot;sasdasdsadsadad&quot;</span></span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).val(<span class="string">&#x27;520快乐&#x27;</span>)  # 括号内不加参数就是获取加了就是设置</span><br><span class="line"></span><br><span class="line">w.fn.init [input#d1]</span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).val()</span><br><span class="line"><span class="string">&quot;C:\fakepath\01_测试路由.png&quot;</span></span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>)[<span class="number">0</span>].files[<span class="number">0</span>]  # 牢记两个对象之间的转换</span><br><span class="line">File &#123;<span class="attr">name</span>: <span class="string">&quot;01_测试路由.png&quot;</span>, <span class="attr">lastModified</span>: <span class="number">1557043083000</span>, <span class="attr">lastModifiedDate</span>: Sun May <span class="number">05</span> <span class="number">2019</span> <span class="number">15</span>:<span class="number">58</span>:<span class="number">03</span> GMT+<span class="number">0800</span> (中国标准时间), <span class="attr">webkitRelativePath</span>: <span class="string">&quot;&quot;</span>, <span class="attr">size</span>: <span class="number">28733</span>, …&#125;</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line"># 属性操作</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">js中                                                             jQuery</span></span><br><span class="line"><span class="string">setAttribute()                                          attr(name,value)</span></span><br><span class="line"><span class="string">getAttribute()                                          attr(name)</span></span><br><span class="line"><span class="string">removeAttribute()                                       removeAttr(name)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">在用变量存储对象的时候 js中推荐使用 </span></span><br><span class="line"><span class="string">    XXXEle          标签对象</span></span><br><span class="line"><span class="string">jQuery中推荐使用</span></span><br><span class="line"><span class="string">    $XXXEle         jQuery对象</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">let</span> $pEle = $(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$pEle.attr(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line"><span class="string">&quot;d1&quot;</span></span><br><span class="line">$pEle.attr(<span class="string">&#x27;class&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$pEle.attr(<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;c1&#x27;</span>)</span><br><span class="line">w.fn.init [p#d1.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$pEle.attr(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;id666&#x27;</span>)</span><br><span class="line">w.fn.init [p#id666.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$pEle.attr(<span class="string">&#x27;password&#x27;</span>,<span class="string">&#x27;jason123&#x27;</span>)</span><br><span class="line">w.fn.init [p#id666.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$pEle.removeAttr(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">w.fn.init [p#id666.c1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]       </span><br><span class="line">      </span><br><span class="line">           </span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">对于标签上有的能够看到的属性和自定义属性用attr</span></span><br><span class="line"><span class="string">对于返回布尔值比如checkbox radio option是否被选中用prop</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="string">&quot;checked&quot;</span></span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;#d4&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="string">&quot;checked&quot;</span></span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).attr(<span class="string">&#x27;checked&#x27;</span>,<span class="string">&#x27;checked&#x27;</span>)  # 无效</span><br><span class="line">w.fn.init [input#d3]</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).prop(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="literal">false</span></span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).prop(<span class="string">&#x27;checked&#x27;</span>)</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).prop(<span class="string">&#x27;checked&#x27;</span>,<span class="literal">true</span>)</span><br><span class="line">w.fn.init [input#d3]</span><br><span class="line">$(<span class="string">&#x27;#d3&#x27;</span>).prop(<span class="string">&#x27;checked&#x27;</span>,<span class="literal">false</span>)</span><br><span class="line">w.fn.init [input#d3]</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line"># 文档处理</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">js    jQuery</span></span><br><span class="line"><span class="string">createElement(&#x27;p&#x27;)    $(&#x27;&lt;p&gt;&#x27;)</span></span><br><span class="line"><span class="string">appendChild()    append()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">let</span> $pEle = $(<span class="string">&#x27;&lt;p&gt;&#x27;</span>)</span><br><span class="line">$pEle.text(<span class="string">&#x27;你好啊 草莓要不要来几个?&#x27;</span>)</span><br><span class="line">$pEle.attr(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;d1&#x27;</span>)          </span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).append($pEle)  # 内部尾部追加</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).append($pEle[<span class="number">0</span>])  # 内部尾部追加</span><br><span class="line">$pEle.appendTo($(<span class="string">&#x27;#d1&#x27;</span>)) </span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).prepend($pEle)  # 内部头部追加</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$pEle.prependTo($(<span class="string">&#x27;#d1&#x27;</span>))</span><br><span class="line">w.fn.init [p#d1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">         </span><br><span class="line">$(<span class="string">&#x27;#d2&#x27;</span>).after($pEle)  # 放在某个标签后面</span><br><span class="line">w.fn.init [p#d2]</span><br><span class="line">$pEle.insertAfter($(<span class="string">&#x27;#d1&#x27;</span>))</span><br><span class="line">        </span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).before($pEle)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$pEle.insertBefore($(<span class="string">&#x27;#d2&#x27;</span>))</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).remove()  # 将标签从DOM树中删除</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).empty()  # 清空标签内部所有的内容</span><br><span class="line">w.fn.init [div#d1]</span><br></pre></td></tr></table></figure>

<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种</span></span><br><span class="line">    $(<span class="string">&#x27;#d1&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;别说话 吻我&#x27;</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 第二种(功能更加强大 还支持事件委托)</span></span><br><span class="line">    $(<span class="string">&#x27;#d2&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;借我钱买草莓 后面还你&#x27;</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<p>克隆事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">&quot;d1&quot;</span>&gt;屠龙宝刀，点击就送&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="string">&#x27;#d1&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// console.log(this)  // this指代是当前被操作的标签对象</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// $(this).clone().insertAfter($(&#x27;body&#x27;))  // clone默认情况下只克隆html和css 不克隆事件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        $(<span class="built_in">this</span>).clone(<span class="literal">true</span>).insertAfter($(<span class="string">&#x27;body&#x27;</span>))  <span class="comment">// 括号内加true即可克隆事件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>左侧菜单</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">&#x27;.title&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 先给所有的items加hide</span></span><br><span class="line">        $(<span class="string">&#x27;.items&#x27;</span>).addClass(<span class="string">&#x27;hide&#x27;</span>)</span><br><span class="line">        <span class="comment">// 然后将被点击标签内部的hide移除</span></span><br><span class="line">        $(<span class="built_in">this</span>).children().removeClass(<span class="string">&#x27;hide&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>返回顶部</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>($(<span class="built_in">window</span>).scrollTop() &gt; <span class="number">300</span>)&#123;</span><br><span class="line">            $(<span class="string">&#x27;#d1&#x27;</span>).removeClass(<span class="string">&#x27;hide&#x27;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">&#x27;#d1&#x27;</span>).addClass(<span class="string">&#x27;hide&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>自定义登陆校验</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># 在获取用户的用户名和密码的时候 用户如果没有填写 应该给用户展示提示信息</span><br><span class="line">&lt;p&gt;username:</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>password:</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">let</span> $userName = $(<span class="string">&#x27;#username&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">let</span> $passWord = $(<span class="string">&#x27;#password&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="string">&#x27;#d1&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 获取用户输入的用户名和密码 做校验</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">let</span> userName = $userName.val()</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">let</span> passWord = $passWord.val()</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">if</span> (!userName)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            $userName.next().text(<span class="string">&quot;用户名不能为空&quot;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">if</span> (!passWord)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            $passWord.next().text(<span class="string">&#x27;密码不能为空&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="string">&#x27;input&#x27;</span>).focus(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        $(<span class="built_in">this</span>).next().text(<span class="string">&#x27;&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>input实时监控</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;d1&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="string">&#x27;#d1&#x27;</span>).on(<span class="string">&#x27;input&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.value)  </span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>hover事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// $(&quot;#d1&quot;).hover(function () &#123;  // 鼠标悬浮 + 鼠标移开</span></span><br><span class="line">    <span class="comment">//     alert(123)</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">    $(<span class="string">&#x27;#d1&#x27;</span>).hover(</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;我来了&#x27;</span>)  <span class="comment">// 悬浮</span></span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;我溜了&#x27;</span>)  <span class="comment">// 移开</span></span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>键盘按键按下事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="built_in">window</span>).keydown(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(event.keyCode)</span><br><span class="line">        <span class="keyword">if</span> (event.keyCode === <span class="number">16</span>)&#123;</span><br><span class="line">            alert(<span class="string">&#x27;你按了shift键&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="阻止后续事件执行"><a href="#阻止后续事件执行" class="headerlink" title="阻止后续事件执行"></a>阻止后续事件执行</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    $(<span class="string">&#x27;#d2&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        $(<span class="string">&#x27;#d1&#x27;</span>).text(<span class="string">&#x27;宝贝 你能看到我吗?&#x27;</span>)</span><br><span class="line">        <span class="comment">// 阻止标签后续事件的执行 方式1</span></span><br><span class="line">        <span class="comment">// return false</span></span><br><span class="line">        <span class="comment">// 阻止标签后续事件的执行 方式2</span></span><br><span class="line">        <span class="comment">// e.preventDefault()</span></span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        $(<span class="string">&#x27;#d1&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">&#x27;#d2&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="string">&#x27;#d3&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">&#x27;span&#x27;</span>)</span><br><span class="line">            <span class="comment">// 阻止事件冒泡的方式1</span></span><br><span class="line">            <span class="comment">// return false</span></span><br><span class="line">            <span class="comment">// 阻止事件冒泡的方式2</span></span><br><span class="line">            <span class="comment">// e.stopPropagation()</span></span><br><span class="line">        &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;button&gt;是兄弟，就来砍我!!!&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// 给页面上所有的button标签绑定点击事件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// $(&#x27;button&#x27;).click(function () &#123;  // 无法影响到动态创建的标签</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">//     alert(123)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// &#125;)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// 事件委托     </span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    $(<span class="string">&#x27;body&#x27;</span>).on(<span class="string">&#x27;click&#x27;</span>,<span class="string">&#x27;button&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        alert(<span class="number">123</span>)  <span class="comment">// 在指定的范围内 将事件委托给某个标签 无论该标签是事先写好的还是后面动态创建的</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="页面加载"><a href="#页面加载" class="headerlink" title="页面加载"></a>页面加载</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 等待页面加载完毕再执行代码</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// js代码</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;jQuery中等待页面加载完毕&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"># 第一种</span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// js代码</span></span><br><span class="line">&#125;)</span><br><span class="line"># 第二种</span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// js代码</span></span><br><span class="line">&#125;)</span><br><span class="line"># 第三种</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;直接写在body内部最下方&quot;</span><span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="动画效果"><a href="#动画效果" class="headerlink" title="动画效果"></a>动画效果</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).hide(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).show(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).slideUp(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).slideDown(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).fadeOut(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).fadeIn(<span class="number">5000</span>)</span><br><span class="line">w.fn.init [div#d1]</span><br><span class="line">$(<span class="string">&#x27;#d1&#x27;</span>).fadeTo(<span class="number">5000</span>,<span class="number">0.4</span>)</span><br><span class="line">w.fn.init [div#d1]     </span><br></pre></td></tr></table></figure>

<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"># each()</span><br><span class="line"># 第一种方式</span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">10</span>) [div, div, div, div, div, div, div, div, div, div, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;<span class="built_in">console</span>.log(index)&#125;)</span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">5</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">6</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">7</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">8</span></span><br><span class="line"><span class="attr">VM181</span>:<span class="number">1</span> <span class="number">9</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index,obj</span>)</span>&#123;<span class="built_in">console</span>.log(index,obj)&#125;)</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">0</span> &lt;div&gt;•<span class="number">1</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">1</span> &lt;div&gt;•<span class="number">2</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">2</span> &lt;div&gt;•<span class="number">3</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">3</span> &lt;div&gt;•<span class="number">4</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">4</span> &lt;div&gt;•<span class="number">5</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">5</span> &lt;div&gt;•<span class="number">6</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">6</span> &lt;div&gt;•<span class="number">7</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">7</span> &lt;div&gt;•<span class="number">8</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">8</span> &lt;div&gt;•<span class="number">9</span>•&lt;/div&gt;•</span><br><span class="line"><span class="attr">VM243</span>:<span class="number">1</span> <span class="number">9</span> &lt;div&gt;•<span class="number">10</span>•&lt;/div&gt;•</span><br><span class="line"></span><br><span class="line"># 第二种方式</span><br><span class="line">$.each([<span class="number">111</span>,<span class="number">222</span>,<span class="number">333</span>],<span class="function"><span class="keyword">function</span>(<span class="params">index,obj</span>)</span>&#123;<span class="built_in">console</span>.log(index,obj)&#125;)</span><br><span class="line"><span class="attr">VM484</span>:<span class="number">1</span> <span class="number">0</span> <span class="number">111</span></span><br><span class="line"><span class="attr">VM484</span>:<span class="number">1</span> <span class="number">1</span> <span class="number">222</span></span><br><span class="line"><span class="attr">VM484</span>:<span class="number">1</span> <span class="number">2</span> <span class="number">333</span></span><br><span class="line">(<span class="number">3</span>) [<span class="number">111</span>, <span class="number">222</span>, <span class="number">333</span>]</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">有了each之后 就无需自己写for循环了 用它更加的方便</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"># data()</span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">能够让标签帮我们存储数据 并且用户肉眼看不见</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).data(<span class="string">&#x27;info&#x27;</span>,<span class="string">&#x27;回来吧，我原谅你了!&#x27;</span>)</span><br><span class="line">w.fn.init(<span class="number">10</span>) [div#d1, div, div, div, div, div, div, div, div, div, <span class="attr">prevObject</span>: w.fn.init(<span class="number">1</span>)]</span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).first().data(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line"><span class="string">&quot;回来吧，我原谅你了!&quot;</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).last().data(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line"><span class="string">&quot;回来吧，我原谅你了!&quot;</span></span><br><span class="line">               </span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).first().data(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).first().removeData(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line">w.fn.init [div#d1, <span class="attr">prevObject</span>: w.fn.init(<span class="number">10</span>)]</span><br><span class="line">           </span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).first().data(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line">$(<span class="string">&#x27;div&#x27;</span>).last().data(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line"><span class="string">&quot;回来吧，我原谅你了!&quot;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">池劲涛</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
